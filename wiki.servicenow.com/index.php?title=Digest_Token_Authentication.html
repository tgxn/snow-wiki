<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Digest Token Authentication - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Digest_Token_Authentication","wgTitle":"Digest Token Authentication","wgCurRevisionId":250270,"wgRevisionId":250270,"wgArticleId":13279,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Digest_Token_Authentication","wgRelevantArticleId":13279,"wgRequestId":"f54f98c2e73903a50edb838b","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="http://wiki.servicenow.com/load.php?debug=false&amp;lang=en&amp;modules=ext.embedVideo%2Cpygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20170821135830"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Digest_Token_Authentication"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Digest Token Authentication"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Digest_Token_Authentication.html" />

	<meta property="og:title" content="ServiceNow Wiki:Digest Token Authentication"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20170821135830"/>

	<meta property="article:published_time" content="20170821135830"/>

	<meta property="article:modified_time" content="20170821135830"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Digest_Token_Authentication"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Digest_Token_Authentication rootpage-Digest_Token_Authentication skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Digest+Token+Authentication.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Digest+Token+Authentication&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, &quot;0&quot;]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (31 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Digest Token Authentication</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
Digest Token Authentication</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Digest_Token_Authentication.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Digest_Token_Authentication.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/integrate/single-sign-on/concept/c_DigestTokenAuthentication.html">Digest Token Authentication</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.
</p>
</td></tr></table>
<p><br />
</p>
<div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Authentication.html" title="Authentication">Authentication</a>
</th></tr>
<tr>
<td> <div class='dtree' id='5a20e372c9f11t'></div><script type="text/javascript">window.tamOnload_tam5a20e372c9f11t=[];tree = new dTree('tam5a20e372c9f11t');
                                               for (i in tree.icon) tree.icon[i] = '/extensions/TreeAndMenu/'+tree.icon[i];
                                               tree.config.useLines = false;
                                               tree.add(0,-1,'');
                                               tam5a20e372c9f11t = tree;
                                               tam5a20e372c9f11t.add(1, 0, '<strong class=\"selflink\">Digest Token Authentication</strong> ');

tam5a20e372c9f11t.add(2, 1, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Sample_Java_Digest_Algorithm_for_Encryption\&quot;" title=\"Sample Java Digest Algorithm for Encryption\">Sample Java Digest Algorithm for Encryption</a> ');
tam5a20e372c9f11t.add(3, 1, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Sample_C\&quot;" title=\"Sample C\">Sample C</a>');
tam5a20e372c9f11t.add(4, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Multiple_Provider_Single_Sign-On\&quot;" title=\"Multiple Provider Single Sign-On\">Multi-Provider Single Sign-On</a>');
tam5a20e372c9f11t.add(5, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=SAML_2.0_Web_Browser_SSO_Profile\&quot;" title=\"SAML 2.0 Web Browser SSO Profile\">SAML 2.0 Web Browser SSO Profile</a>');
tam5a20e372c9f11t.add(6, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=SAML_2.0_Setup\&quot;" title=\"SAML 2.0 Setup\">SAML 2.0 Setup</a>');
tam5a20e372c9f11t.add(7, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Configuring_ADFS_3.0_to_Communicate_with_SAML_2.0\&quot;" title=\"Configuring ADFS 3.0 to Communicate with SAML 2.0\">Configuring ADFS 3.0 to Communicate with SAML 2.0</a>');
tam5a20e372c9f11t.add(8, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=SAML_2.0_Troubleshooting\&quot;" title=\"SAML 2.0 Troubleshooting\">Troubleshooting SAML 2.0</a>');
tam5a20e372c9f11t.add(9, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=OAuth_Applications\&quot;" title=\"OAuth Applications\">OAuth</a>');
tam5a20e372c9f11t.add(10, 9, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=OAuth_Setup\&quot;" title=\"OAuth Setup\">OAuth Setup</a>');
tam5a20e372c9f11t.add(11, 9, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Generating_OAuth_Tokens\&quot;" title=\"Generating OAuth Tokens\">Generating OAuth Tokens</a>');
tam5a20e372c9f11t.add(12, 9, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=OAuth_Client_API_Reference\&quot;" title=\"OAuth Client API Reference\">OAuth Client API Reference</a>');
tam5a20e372c9f11t.add(13, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=OKTA_SSO_Integration\&quot;" title=\"OKTA SSO Integration\">Okta SSO Integration</a>');

                                               document.getElementById('5a20e372c9f11t').innerHTML = tam5a20e372c9f11t.toString();
                                               
                                               for(i in window.tamOnload_tam5a20e372c9f11t) { window.tamOnload_tam5a20e372c9f11t[i](); }</script>


</td></tr>
<tr>
<th> Legacy
</th></tr>
<tr>
<td> <div class='dtree' id='5a20e372d1ddat'></div><script type="text/javascript">window.tamOnload_tam5a20e372d1ddat=[];tree = new dTree('tam5a20e372d1ddat');
                                               for (i in tree.icon) tree.icon[i] = '/extensions/TreeAndMenu/'+tree.icon[i];
                                               tree.config.useLines = false;
                                               tree.add(0,-1,'');
                                               tam5a20e372d1ddat = tree;
                                               tam5a20e372d1ddat.add(1, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Unencrypted_HTTP_Header\&quot;" title=\"Unencrypted HTTP Header\">Unencrypted HTTP Header </a>');

tam5a20e372d1ddat.add(2, 1, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Sample_ASP.NET_with_C_Sharp_Redirect_with_Cookies\&quot;" title=\"Sample ASP.NET with C Sharp Redirect with Cookies\">Sample ASP.NET with C Sharp Redirect with Cookies</a> ');
tam5a20e372d1ddat.add(3, 1, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Sample_ASP_Script_for_Unencrypted_Single_Sign-On\&quot;" title=\"Sample ASP Script for Unencrypted Single Sign-On\">Sample ASP Script for Unencrypted Single Sign-On</a> ');
tam5a20e372d1ddat.add(4, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=SAML_1.1_Browser_POST_Profile\&quot;" title=\"SAML 1.1 Browser POST Profile\">SAML 1.1 Browser POST Profile</a>');
tam5a20e372d1ddat.add(5, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=OpenID\&quot;" title=\"OpenID\">Stateless OpenID with signature verification</a>');

                                               document.getElementById('5a20e372d1ddat').innerHTML = tam5a20e372d1ddat.toString();
                                               
                                               for(i in window.tamOnload_tam5a20e372d1ddat) { window.tamOnload_tam5a20e372d1ddat[i](); }</script>


</td></tr></table>
</div>
<p><br />
</p>
<p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Integration_Requirements"><span class="tocnumber">2</span> <span class="toctext">Integration Requirements</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Digest_Token_Authentication_Setup"><span class="tocnumber">3</span> <span class="toctext">Digest Token Authentication Setup</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Demonstration_Video"><span class="tocnumber">3.1</span> <span class="toctext">Demonstration Video</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_1._Generate_an_Unencrypted_HTTP_Header"><span class="tocnumber">3.2</span> <span class="toctext">Step 1. Generate an Unencrypted HTTP Header</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_2._Generate_a_Digest_Token"><span class="tocnumber">3.3</span> <span class="toctext">Step 2. Generate a Digest Token</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_3._Enable_Digest_Installation_Exit_Script"><span class="tocnumber">3.4</span> <span class="toctext">Step 3. Enable Digest Installation Exit Script</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_4._Enter_Single_Sign-on_System_Properties"><span class="tocnumber">3.5</span> <span class="toctext">Step 4. Enter Single Sign-on System Properties</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_5._Enter_the_Digest_Properties_for_Multi_Provider_Single_Sign-On"><span class="tocnumber">3.6</span> <span class="toctext">Step 5. Enter the Digest Properties for Multi Provider Single Sign-On</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_6._Test_the_Integration"><span class="tocnumber">3.7</span> <span class="toctext">Step 6. Test the Integration</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Creating_Links"><span class="tocnumber">4</span> <span class="toctext">Creating Links</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Sample_Implementations"><span class="tocnumber">5</span> <span class="toctext">Sample Implementations</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Enhancements"><span class="tocnumber">6</span> <span class="toctext">Enhancements</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Eureka"><span class="tocnumber">6.1</span> <span class="toctext">Eureka</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>Another single sign-on authentication method is to pass user credentials and a digest token within an unencrypted HTTP header. The ServiceNow system reads the HTTP header value and compares its computed hash value of the digest token. If the computed hash value matches the digest token value, then the instance searches for a matching value in the User table. If there is a matching value in the User table, the instance considers the user pre-authenticated and logs the user in.
</p><p>Digest token authentication is more secure than simple unencrypted HTTP headers because any accidental or intentional change to the unencrypted HTTP header produces a different hash value. If the hash value fails to match, the ServiceNow system denies the user access to the requested instance. This prevents users from attempting to login with another user's credentials.
</p>
<h1><span class="mw-headline" id="Integration_Requirements"><span class="mw-headline-number">2</span> Integration Requirements</span></h1>
<p>A Digest Token Authentication integration requires:
</p>
<ul><li> A web server </li>
<li> SiteMinder or another single sign-on application to pre-authenticate the user on the local network</li>
<li> A web page or portal that passes user credentials to the target ServiceNow instance in one of these formats
<ul><li>HTTP Header</li>
<li>URL parameter</li>
<li>Cookie</li></ul></li>
<li> A web page or portal that creates and passes a digest token to the target ServiceNow instance using one of these encoding techniques
<ul><li>SHA1</li>
<li>MD5</li></ul></li></ul>
<h1><span class="mw-headline" id="Digest_Token_Authentication_Setup"><span class="mw-headline-number">3</span> Digest Token Authentication Setup</span></h1>
<p>Perform these steps to enable single sign-on using a digest token: 
</p>
<ol><li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_1._Generate_an_Unencrypted_HTTP_Header">Generate an unencrypted HTTP header</a>.</li>
<li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_2._Generate_a_Digest_Token">Generate a digest token</a>.</li>
<li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_3._Enable_Digest_Installation_Exit_Script">Enable digest installation exit script</a>.</li>
<li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_4._Enter_Single_Sign-on_System_Properties">Enter single sign-on system properties</a>.</li>
<li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_5._Enter_the_Digest_Properties_for_Multi_Provider_Single_Sign-On">For Multi-Provider SSO digest token, enter the digest properties</a>.</li>
<li><a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_6._Test_the_Integration">Test the integration</a>.</li></ol>
<h2><span class="mw-headline" id="Demonstration_Video"><span class="mw-headline-number">3.1</span> Demonstration Video</span></h2>
<div class='embedvideo ' style='width: 800px;'><iframe src="http://www.youtube.com/embed/1u7-sBadfW4?" width="800" height="450" frameborder="0" allowfullscreen="true"></iframe></div>
<h2><span class="mw-headline" id="Step_1._Generate_an_Unencrypted_HTTP_Header"><span class="mw-headline-number">3.2</span> Step 1. Generate an Unencrypted HTTP Header</span></h2>
<p>The ServiceNow system only accepts one HTTP header as the source of pre-authentication. Choose an HTTP header that matches data from the User (sys_user) table. Configure your single sign-on software or authentication portal to generate the desired HTTP header. For example, here are some sample SiteMinder HTTP headers.
</p>
<table class="standard">

<tr>
<th> User credential
</th>
<th> Sample HTTP header
</th>
<th> Matching sys_user field
</th></tr>
<tr>
<td> User name
</td>
<td> SM_USER
</td>
<td> user_name
</td></tr>
<tr>
<td> Email address
</td>
<td> EMAIL
</td>
<td> email
</td></tr></table>
<p>See <a href="index.php%3Ftitle=Unencrypted_HTTP_Header_(SiteMinder).html#Sample_implementations" title="Unencrypted HTTP Header (SiteMinder)" class="mw-redirect">Sample Implementations</a> for other ways of generating the HTTP header.
</p>
<h2><span class="mw-headline" id="Step_2._Generate_a_Digest_Token"><span class="mw-headline-number">3.3</span> Step 2. Generate a Digest Token</span></h2>
<p>Configure your single sign-on software or authentication portal to generate an HTTP header to contain the digest token. For example, here is a sample SiteMinder HTTP header.
</p>
<table class="standard">

<tr>
<th> Sample HTTP header
</th>
<th> Sample digest HTTP header
</th>
<th> Sample HTTP headers with digest
</th></tr>
<tr>
<td> SM_USER
</td>
<td> DE_USER
</td>
<td> SM_USER=joe.employee;DE_USER=KfNr4nlt86b9gEfcoiT0dU/YLM0=
</td></tr></table>
<p>Typically, the authentication portal or web page runs the code to generate a digest token from the unencrypted HTTP header and includes the digest token in the URL to the target ServiceNow instance. See <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://www.servicenowguru.com/integration/outbound-single-signon-digested-token/">SNC Guru</a> for code samples of generating a digest token.
</p>
<h2><span class="mw-headline" id="Step_3._Enable_Digest_Installation_Exit_Script"><span class="mw-headline-number">3.4</span> Step 3. Enable Digest Installation Exit Script</span></h2>
<p>The ServiceNow system uses an installation exit to identify and decode incoming digest tokens.
</p>
<ol><li>Navigate to <b>System Definition &gt; Installation Exits</b>.</li>
<li>Click <b>DigestSingleSignOn</b>.</li>
<li>Set <b>Active</b> to true.</li>
<li>Click <b>Update</b>.</li></ol>
<p>By default, the installation exit uses SHA1 to compute a hash value. To use MD5 for computing the digest token hash value, change this line:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">var</span> <span class="nx">MAC_ALG</span> <span class="o">=</span> <span class="s2">&quot;HmacSHA1&quot;</span><span class="p">;</span>
</pre></div>
<p>To this:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">var</span> <span class="nx">MAC_ALG</span> <span class="o">=</span> <span class="s2">&quot;HmacMD5&quot;</span><span class="p">;</span>
</pre></div>
<h2><span class="mw-headline" id="Step_4._Enter_Single_Sign-on_System_Properties"><span class="mw-headline-number">3.5</span> Step 4. Enter Single Sign-on System Properties</span></h2>
<p>Set these properties to enable single sign-on with an unencrypted HTTP header. If you are configuring digest token for multi-provider SSO, see <a href="index.php%3Ftitle=Digest_Token_Authentication.html#Step_5._Enter_the_Digest_Properties" title="Digest Token Authentication">Enter the Digest Properties</a>.
</p>
<ol><li>Navigate to <b>System Properties &gt; Single Sign-on</b>.</li>
<li>For <b>Enable external authentication</b>, select <b>Yes</b>.</li>
<li>For <b>HTTP header name to look for an externally authorized user (e.g. for SiteMinder):</b>, enter the HTTP header you generated in Step 1. For example, SM_USER.</li>
<li>For <b>HTTP header name to look for an externally authorized user (e.g. for Digest Encryption):</b>, enter the HTTP header you generated in Step 2. For example, DE_USER.</li>
<li>For <b>Service-now.com field name to match against the incoming header</b>, enter the sys_user field that contains matching data. For example, user_name.</li>
<li>For <b>Secret passphrase for single sign-on (SSO) encryption/decryption:</b>, enter the secret key (password) to use for encoding digest keys. For example, <tt>SecretKey123</tt>.</li>
<li>Click <b>Save</b>.</li></ol>
<p><br />
<a href="index.php%3Ftitle=File:Digest_token_properties.jpg.html" class="image"><img alt="Digest token properties.jpg" src="images/4/4f/Digest_token_properties.jpg" width="707" height="294" /></a>
</p>
<h2><span class="mw-headline" id="Step_5._Enter_the_Digest_Properties_for_Multi_Provider_Single_Sign-On"><span class="mw-headline-number">3.6</span> Step 5. Enter the Digest Properties for Multi Provider Single Sign-On</span></h2>
<p>You can create and update digest token configurations from the  <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Multiple+Provider+Single+Sign-On&amp;oldid=0.html" title="Multiple Provider Single Sign-On">multi-provider single sign-on</a> feature.
</p>
<ol><li> In the <b>Name</b> field, enter the name of the digest token.</li>
<li> In the <b>User Field</b>, enter the sys_user field that contains the matching data for the incoming header.</li>
<li> In the <b>HTTP Digest header name</b> field, enter the HTTP header you generated in Step 2. For example, DE_USER.</li>
<li> In the <b>HTTP header name</b> field, enter the HTTP header you generated in Step 1. For example, SM_USER.</li>
<li> In the <b>Secret Passphrase</b> field, enter the secret key to use for encoding digest keys. For example, <tt> SecretKey123</tt>.</li>
<li> In the <b>Faled SSO Redirect</b> field, enter the URL to redirect users after a failed authentication.</li>
<li> In the <b>External logout redirect</b> field, enter the URL to redirect users after a logout.</li>
<li> In the <b>Single Sign-on Script</b>, select <b>MultiSSO_DigestedToken</b>.</li>
<li> Click <b>Update</b>.</li></ol>
<h2><span class="mw-headline" id="Step_6._Test_the_Integration"><span class="mw-headline-number">3.7</span> Step 6. Test the Integration</span></h2>
<p>This single sign-on method allows pre-authentication from URL parameters, HTTP headers, or cookies. Verify users can sign-on from all methods. For example: 
</p>
<ul><li>URL Format: <b>https://&lt;instance name&gt;.service-now.com?SM_USER=joe.employee&amp;DE_USER=KfNr4nlt86b9gEfcoiT0dU/YLM0=</b></li>
<li>HTTP Header Format: <b>SM_USER=joe.employee;DE_USER=KfNr4nlt86b9gEfcoiT0dU/YLM0=</b> </li>
<li>Cookie Format: '<b>SM_USER=joe.employee; DE_USER=KfNr4nlt86b9gEfcoiT0dU/YLM0="; expires=Fri, 27 Jul 2012 02:47:11 UTC; path=/'</b></li></ul>
<h1><span class="mw-headline" id="Creating_Links"><span class="mw-headline-number">4</span> Creating Links</span></h1>
<p>To instruct the session to take users to a particular page or resource after authentication, <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Navigating+by+URL&amp;oldid=0.html" title="Navigating by URL">construct the URL</a> and append the user <b>(SM_USER)</b> and digest <b>(DE_USER)</b> request parameters to the URL.
Example URLs are as follows:
</p>
<dl><dd><tt>https://demo.service-now.com/nav_to.do?uri=ess&amp;SM_USER=itil&amp;DE_USER=nqQ82LONeYQnXPmqddxnsvsArrQ=</tt></dd></dl>
<dl><dd><tt>https://demo.service-now.com/nav_to.do?uri=incident.do?sys_id=9d385017c611228701d22104cc95c371&amp;SM_USER=itil&amp;DE_USER=Uj/HopjjPczCNpN2xcCXl7kQty4=</tt></dd></dl>
<dl><dd><tt>http://demo.service-now.com/nav_to.do?uri=incident_list.do?sysparm_userpref_module=4dedbac7d0bbf538017a7f13c4a1f257%26sysparm_query=caller_id=javascript:gs.getUserID()^active=true^EQ&amp;SM_USER=itil&amp;DE_USER=Uj/HopjjPczCNpN2xcCXl7kQty4=</tt></dd></dl>
<dl><dd><dl><dd><b>Note:</b> If you are using request parameters inside a URI (nav_to.do?uri=), note that Ampersands (&amp;) are encoded as <b>%26</b>. See <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Navigating+by+URL&amp;oldid=0.html#Elements" title="Navigating by URL">Navigating by URL &gt; Elements</a> for a full list of the elements that comprise a URL.</dd></dl></dd></dl>
<h1><span class="mw-headline" id="Sample_Implementations"><span class="mw-headline-number">5</span> Sample Implementations</span></h1>
<p>Here are several samples of creating a digest token.
</p>
<table class="standard">

<tr>
<th> Digest built with
</th>
<th> Secret key value
</th>
<th> Hash method
</th>
<th> Example
</th></tr>
<tr>
<td> Java
</td>
<td> abc123
</td>
<td> SHA1
</td>
<td> <a href="index.php%3Ftitle=Sample_Java_Digest_Algorithm_for_Encryption.html" title="Sample Java Digest Algorithm for Encryption">Sample Java Digest Algorithm for Encryption</a>
</td></tr>
<tr>
<td> C
</td>
<td> Value of sharedKey parameter
</td>
<td> Value of strEncryptionMethod parameter (SHA1 or MD5)
</td>
<td> <a href="index.php%3Ftitle=Sample_C.html" title="Sample C">Sample C</a>
</td></tr></table>
<h1><span class="mw-headline" id="Enhancements"><span class="mw-headline-number">6</span> Enhancements</span></h1>
<h2><span class="mw-headline" id="Eureka"><span class="mw-headline-number">6.1</span> Eureka</span></h2>
<ul><li> Support for <a href="index.php%3Ftitle=Digest_Token_Authentication.html#Configuring_Users_for_Multi-Provider_Single_Sign-On">multiple provider single sign-in configuration</a>. See <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Multiple+Provider+Single+Sign-On&amp;oldid=0.html" title="Multiple Provider Single Sign-On">Multi-Provider Single Sign-On</a> for more information.</p></li></ul>

<!-- 
NewPP limit report
Cached time: 20171201050659
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.204 seconds
Real time usage: 0.874 seconds
Preprocessor visited node count: 148/1000000
Preprocessor generated node count: 404/1000000
Post‐expand include size: 1053/2097152 bytes
Template argument size: 501/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   66.497      1 - -total
 90.79%   60.371      1 - Template:Authentication
 77.06%   51.245      1 - Template:Topic
  8.41%    5.592      1 - Template:Note
  7.18%    4.772      2 - Template:T
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:13279-0!*!0!1!en!5!* and timestamp 20171201050658 and revision id 250270
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Digest_Token_Authentication&amp;oldid=250270.html">http://wiki.servicenow.com/index.php?title=Digest_Token_Authentication&amp;oldid=250270</a>"</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_13279"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="13279" data-vote-the-vote="5" data-vote-id="13279" data-vote-action="5" data-vote-rating="3.67" data-vote-voted="0" id="rating_13279_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="13279" data-vote-the-vote="1" data-vote-id="13279" data-vote-action="5" data-vote-rating="3.67" data-vote-voted="0" id="rating_13279_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Digest_Token_Authentication.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index.php%3Ftitle=Special:CreateAccount&amp;returnto=Digest+Token+Authentication.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=Digest+Token+Authentication.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Digest_Token_Authentication.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Digest_Token_Authentication&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Digest+Token+Authentication.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Digest+Token+Authentication&amp;returnto=Digest+Token+Authentication&amp;oldid=250270&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=Digest_Token_Authentication&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FDigest_Token_Authentication.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="index.php%3Ftitle=Special:RecentChangesLinked%252FDigest_Token_Authentication.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Digest_Token_Authentication&amp;oldid=250270.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Digest_Token_Authentication&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 13:58, 21 August 2017.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":969});});</script></body></html>

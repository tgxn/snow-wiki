<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Business Enterprise Server - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Business_Enterprise_Server","wgTitle":"Business Enterprise Server","wgCurRevisionId":196235,"wgRevisionId":196235,"wgArticleId":8310,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Event Integrations","Incident Integrations"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Business_Enterprise_Server","wgRelevantArticleId":8310,"wgRequestId":"99b2cb361b0d759fd3e3979e","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=ext.pygments%257Cmediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.content.externallinks%257Cmediawiki.skinning.interface%257Cskins.monobook.styles&amp;only=styl.css"/>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="noindex,follow"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20131115212814"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Business_Enterprise_Server"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Business Enterprise Server"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Incident Integrations"/>
<meta name="category" content="Incident Integrations"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Business_Enterprise_Server.html" />

	<meta property="og:title" content="ServiceNow Wiki:Business Enterprise Server"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20131115212814"/>

	<meta property="article:published_time" content="20131115212814"/>

	<meta property="article:modified_time" content="20131115212814"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Incident Integrations"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Business_Enterprise_Server"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Business_Enterprise_Server rootpage-Business_Enterprise_Server skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Business+Enterprise+Server.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Business+Enterprise+Server&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, &quot;0&quot;]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (500 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Business Enterprise Server</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
<a href="index.html" title="Main Page">Home</a> &gt; <a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a> &gt; <a href="index.php%3Ftitle=List_of_Available_Integrations.html" title="List of Available Integrations">Vendor Specific Integrations</a> &gt; <a href="index.php%3Ftitle=Incident_Ticketing_Integrations.html" title="Incident Ticketing Integrations">Incident</a> &gt; Business Enterprise Server</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Integrating_Event_Management_Systems.html" title="Integrating Event Management Systems">Event Management Integrations</a>
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Tivoli_Enterprise_Console_(TEC)_Integration_2.0.html" title="Tivoli Enterprise Console (TEC) Integration 2.0">IBM Tivoli TEC</a> </li>
<li><a href="index.php%3Ftitle=Netcool_Integration.html" title="Netcool Integration">IBM Tivoli Netcool/OMNIbus</a> 
<ul><li><a href="index.php%3Ftitle=NetCool_Email_Integration.html" title="NetCool Email Integration">IBM Netcool Email Integration</a> </li></ul></li>
<li><a href="index.php%3Ftitle=Legacy:HP_Openview_Operations_Integration_2.0.html" title="Legacy:HP Openview Operations Integration 2.0">HP OpenView Operations</a> 
<ul><li><a href="index.php%3Ftitle=Legacy:HP_OpenView_Operations_Integration_Windows.html" title="Legacy:HP OpenView Operations Integration Windows">HP OpenView Operations for Microsoft Windows</a> </li></ul></li>
<li><a href="index.php%3Ftitle=Microsoft_System_Center_Operations_Manager_SCOM_Integration.html" title="Microsoft System Center Operations Manager SCOM Integration">Microsoft System Center Operations Manager (SCOM)</a> 
<ul><li><a href="index.php%3Ftitle=Microsoft_System_Center_Operations_Manager_SCOM_Integration_2_0.html" title="Microsoft System Center Operations Manager SCOM Integration 2 0">SCOM Integration 2.0</a></li></ul></li>
<li><a href="index.php%3Ftitle=SilverBack_Integration.html" title="SilverBack Integration">Silverback</a> </li>
<li><a href="index.php%3Ftitle=Level_Platforms_Integration.html" title="Level Platforms Integration">Level Platforms</a></li>
<li><strong class="selflink">Business Enterprise Server</strong></li></ul>
</td></tr></table>
</div>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The following integration is not part of the supported platform.  The integration may require additional customization, typically performed by an experienced administrator or consultant, prior to operating correctly.</i>
</td></tr></table>
<p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#Implementation"><span class="tocnumber">2</span> <span class="toctext">Implementation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#Inbound_Alerts_to_create_Incident"><span class="tocnumber">2.1</span> <span class="toctext">Inbound Alerts to create Incident</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html#Outbound_Alerts_to_update_BES"><span class="tocnumber">2.2</span> <span class="toctext">Outbound Alerts to update BES</span></a></li>
</ul>
</li>
</ul>
</div>
 
<h2><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h2>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.interlinksoftware.com/">Interlink BES</a> is a monitoring tool that sends alerts when there is a problem with a monitored hardware device.&#160; This Web Services integration creates incidents in ServiceNow when an alert is created in <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://www.interlinksoftware.com/">Interlink BES</a>, and ServiceNow updates BES when there is a new worklog entry or when the incident is resolved. 
</p>
<h2><span class="mw-headline" id="Implementation"><span class="mw-headline-number">2</span> Implementation</span></h2>
<h3><span class="mw-headline" id="Inbound_Alerts_to_create_Incident"><span class="mw-headline-number">2.1</span> Inbound Alerts to create Incident</span></h3>
<p>A web service import set should be created to give BES an endpoint to connect to. The import set should have the following fields: 
</p><p><a href="index.php%3Ftitle=File:BES_WSIS.jpg.html" class="image"><img alt="BES WSIS.jpg" src="images/b/b8/BES_WSIS.jpg" width="752" height="813" /></a> 
</p><p>and the following mapping in the transform map: 
</p><p><a href="index.php%3Ftitle=File:Field_Maps_BES.jpg.html" class="image"><img alt="Field Maps BES.jpg" src="images/1/1e/Field_Maps_BES.jpg" width="647" height="382" /></a> 
</p><p>There is an onBefore script that tags each incoming alert with a correlation display to mark that it came from BES: 
</p>
<pre>source.status.setDisplayValue("Assigned"); 
target.contact_type.setDisplayValue("BES");

target.correlation_display="BES"; if(source.severity == 5) {

  source.severity = 1;


} else if (source.severity == 4) {

  source.severity = 2;


} </pre> 
<h3><span class="mw-headline" id="Outbound_Alerts_to_update_BES"><span class="mw-headline-number">2.2</span> Outbound Alerts to update BES</span></h3>
<p>ServiceNow can be configured to update BES when a new worklog has been added to an incident or when the incident is resolved. The business rule is designed to be written at a higher level so that functionality can be easily modified. Business Rule Name: BES Update Condition: current.correlation_display == "BES" Script: 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">sys_updated_by</span><span class="p">.</span><span class="nx">getDisplayValue</span><span class="p">()</span> <span class="o">!=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_sn_username&quot;</span><span class="p">)</span> <span class="p">){</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">bes_didMonitoredFieldChange</span><span class="p">()){</span>
     <span class="kd">var</span> <span class="nx">BES</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BESUpdater</span><span class="p">(</span><span class="nx">current</span><span class="p">,</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_async&quot;</span><span class="p">));</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">u_work_log</span><span class="p">.</span><span class="nx">changes</span><span class="p">()){</span>
        <span class="c1">//send incidentAddNote to BES</span>
        <span class="nx">BES</span><span class="p">.</span><span class="nx">sendUpdate</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">bes_resolvedOrClosed</span><span class="p">()){</span>
        <span class="c1">//send incidentClose to BES</span>
        <span class="nx">BES</span><span class="p">.</span><span class="nx">closeAlert</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span>
     <span class="p">}</span>
  <span class="p">}</span>


<span class="p">}</span>

<span class="kd">function</span> <span class="nx">bes_didMonitoredFieldChange</span><span class="p">(){</span>

  <span class="kd">var</span> <span class="nx">fieldChanged</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">bes_resolvedOrClosed</span><span class="p">()){</span>
     <span class="nx">fieldChanged</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span> 
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">u_work_log</span><span class="p">.</span><span class="nx">changes</span><span class="p">()){</span>
     <span class="nx">fieldChanged</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>   <span class="k">return</span> <span class="nx">fieldChanged</span><span class="p">;</span>
  


<span class="p">}</span> <span class="kd">function</span> <span class="nx">bes_resolvedOrClosed</span><span class="p">(){</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">incident_state</span><span class="p">.</span><span class="nx">changesTo</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">||</span> <span class="nx">current</span><span class="p">.</span><span class="nx">incident_state</span><span class="p">.</span><span class="nx">changesTo</span><span class="p">(</span><span class="mi">7</span><span class="p">)){</span>
     <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span><span class="p">{</span>
     <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>


<span class="p">}</span>
</pre></div> 
<p>The business rule calls a script include which handles all of the technical logic. 
</p><p>Script include name: BESUpdater Script: 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This API call changed in the Calgary release:</i>
<ul><li><i>GlideSysLog</i> replaces <i>Packages.com.glide.sys.SysLog</i> </li></ul>
<p>The new script object calls apply to the Calgary release and beyond. For releases prior to Calgary, substitute the packages call as described above. Packages calls are not valid beginning with the Calgary release. For more information, see <a href="index.php%3Ftitle=Scripting_API_Changes.html" title="Scripting API Changes">Scripting API Changes</a>.
</p>
</td></tr></table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">var</span> <span class="nx">BESUpdater</span> <span class="o">=</span> <span class="nx">Class</span><span class="p">.</span><span class="nx">create</span><span class="p">();</span> <span class="nx">BESUpdater</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span> 

  <span class="nx">record</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nx">endpoint</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nx">besUser</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nx">besPass</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nx">async</span><span class="o">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nx">debug</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  
  <span class="nx">initialize</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">sentRecord</span><span class="p">,</span> <span class="nx">async</span><span class="p">)</span> <span class="p">{</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">record</span> <span class="o">=</span> <span class="nx">sentRecord</span><span class="p">;</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">async</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">){</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="nx">async</span><span class="p">;</span>
     <span class="p">}</span>
     
     <span class="k">this</span><span class="p">.</span><span class="nx">debug</span> <span class="o">=</span>  <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_debug_logging&quot;</span><span class="p">);</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">endpoint</span> <span class="o">=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_soap_endpoint&quot;</span><span class="p">);</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">besUser</span> <span class="o">=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_soap_basic_user&quot;</span><span class="p">);</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">besPass</span> <span class="o">=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getProperty</span><span class="p">(</span><span class="s2">&quot;com.snc.integration.bes_soap_basic_pass&quot;</span><span class="p">);</span>
  <span class="p">},</span>
  
  <span class="nx">sendUpdate</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Sending Update...&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="kd">var</span> <span class="nx">envelope</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_createEnvelope</span><span class="p">();</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">setFunctionName</span><span class="p">(</span><span class="s2">&quot;pis:incidentAddNote&quot;</span><span class="p">);</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">addFunctionParameter</span><span class="p">(</span><span class="s2">&quot;arg0&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">record</span><span class="p">.</span><span class="nx">correlation_id</span><span class="p">);</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">addFunctionParameter</span><span class="p">(</span><span class="s2">&quot;arg1&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">record</span><span class="p">.</span><span class="nx">u_work_log</span><span class="p">);</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">addFunctionParameter</span><span class="p">(</span><span class="s2">&quot;arg2&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">record</span><span class="p">.</span><span class="nx">sys_updated_by</span><span class="p">);</span>
     
     <span class="k">this</span><span class="p">.</span><span class="nx">_sendRequest</span><span class="p">(</span><span class="nx">envelope</span><span class="p">);</span>
  <span class="p">},</span>
  
  <span class="nx">closeAlert</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Closing Alert...&quot;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="kd">var</span> <span class="nx">envelope</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_createEnvelope</span><span class="p">();</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">setFunctionName</span><span class="p">(</span><span class="s2">&quot;pis:incidentClose&quot;</span><span class="p">);</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">addFunctionParameter</span><span class="p">(</span><span class="s2">&quot;arg0&quot;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">record</span><span class="p">.</span><span class="nx">correlation_id</span><span class="p">);</span>
     
     <span class="k">this</span><span class="p">.</span><span class="nx">_sendRequest</span><span class="p">(</span><span class="nx">envelope</span><span class="p">);</span>
  <span class="p">},</span>
  
  <span class="nx">_createEnvelope</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(){</span>
     <span class="kd">var</span> <span class="nx">envelope</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SOAPEnvelope</span><span class="p">();</span>
     <span class="nx">envelope</span><span class="p">.</span><span class="nx">createNameSpace</span><span class="p">(</span><span class="s2">&quot;xmlns:pis&quot;</span><span class="p">,</span> <span class="s2">&quot;http://piServiceNow/&quot;</span><span class="p">);</span>
     <span class="k">return</span> <span class="nx">envelope</span><span class="p">;</span>
  <span class="p">},</span>
  
  <span class="nx">_sendRequest</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">envelope</span><span class="p">){</span>
     <span class="kd">var</span> <span class="nx">dataToSend</span> <span class="o">=</span> <span class="nx">envelope</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;SOAP to BES: &quot;</span> <span class="o">+</span> <span class="nx">dataToSend</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SOAPRequest</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">endpoint</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">besUser</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">besPass</span><span class="p">);</span>
     
     <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">async</span><span class="p">){</span>
        <span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">envelope</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">else</span><span class="p">{</span>
        <span class="kd">var</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">envelope</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Response from BES: &quot;</span> <span class="o">+</span> <span class="nx">res</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
     <span class="p">}</span>
  <span class="p">},</span>
  
  <span class="nx">encodeXML</span> <span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">){</span>
     <span class="kd">var</span> <span class="nx">XMLUtils</span> <span class="o">=</span> <span class="nb">Packages</span><span class="p">.</span><span class="nx">org</span><span class="p">.</span><span class="nx">apache</span><span class="p">.</span><span class="nx">axis</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">XMLUtils</span><span class="p">;</span>
     <span class="kd">var</span> <span class="nx">encoded</span> <span class="o">=</span> <span class="nx">XMLUtils</span><span class="p">.</span><span class="nx">xmlEncodeString</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
     <span class="k">return</span> <span class="nx">encoded</span><span class="p">;</span>
  <span class="p">},</span>
  
  <span class="nx">log</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">,</span> <span class="nx">onlyDebug</span><span class="p">){</span>
     <span class="kd">var</span> <span class="nx">printLog</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">onlyDebug</span> <span class="o">===</span> <span class="kc">true</span><span class="p">){</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">debug</span> <span class="o">==</span> <span class="s2">&quot;true&quot;</span><span class="p">){</span>
           <span class="nx">printLog</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="p">}</span>
     <span class="p">}</span>
     <span class="k">else</span><span class="p">{</span>
        <span class="nx">printLog</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
     <span class="p">}</span>
     <span class="k">if</span> <span class="p">(</span><span class="nx">printLog</span> <span class="o">===</span> <span class="kc">true</span><span class="p">){</span>
        <span class="nx">GlideSysLog</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;BES&quot;</span><span class="p">,</span> <span class="nx">msg</span> <span class="o">+</span> <span class="s2">&quot; (&quot;</span><span class="o">+</span><span class="nx">current</span><span class="p">.</span><span class="nx">number</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">gs</span><span class="p">.</span><span class="nx">hasRole</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">)){</span>
           <span class="nx">gs</span><span class="p">.</span><span class="nx">addInfoMessage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">encodeXML</span><span class="p">(</span><span class="nx">msg</span><span class="p">));</span>
        <span class="p">}</span>
     <span class="p">}</span>
  <span class="p">}</span>

<span class="p">}</span>
</pre></div>

<!-- 
NewPP limit report
Cached time: 20171203003423
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.132 seconds
Real time usage: 0.581 seconds
Preprocessor visited node count: 57/1000000
Preprocessor generated node count: 299/1000000
Post‐expand include size: 3227/2097152 bytes
Template argument size: 1413/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  221.979      1 - -total
  5.39%   11.970      1 - Template:Event_Integration
  3.40%    7.538      1 - Template:Topic
  2.30%    5.102      1 - Template:Calgary_API_single
  1.68%    3.726      2 - Template:Note
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:8310-0!*!0!1!en!5!* and timestamp 20171203003422 and revision id 196235
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Business_Enterprise_Server&amp;oldid=196235.html">http://wiki.servicenow.com/index.php?title=Business_Enterprise_Server&amp;oldid=196235</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Event+Integrations.html" title="Category:Event Integrations">Event Integrations</a></li><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Incident+Integrations.html" title="Category:Incident Integrations">Incident Integrations</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Integrate.html" title="Category:Integrate">Integrate</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Vendor+Specific+Integrations.html" title="Category:Vendor Specific Integrations">Vendor Specific Integrations</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Event+Integrations.html" title="Category:Event Integrations">Event Integrations</a><br />
<a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Integrate.html" title="Category:Integrate">Integrate</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Vendor+Specific+Integrations.html" title="Category:Vendor Specific Integrations">Vendor Specific Integrations</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Incident+Integrations.html" title="Category:Incident Integrations">Incident Integrations</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_8310"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="8310" data-vote-the-vote="5" data-vote-id="8310" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_8310_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="8310" data-vote-the-vote="1" data-vote-id="8310" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_8310_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Business_Enterprise_Server.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index.php%3Ftitle=Special:CreateAccount&amp;returnto=Business+Enterprise+Server&amp;returntoquery=printable%253Dyes.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=Business+Enterprise+Server&amp;returntoquery=printable%253Dyes.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Business_Enterprise_Server.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Business_Enterprise_Server&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Business+Enterprise+Server.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Business+Enterprise+Server&amp;returnto=Business+Enterprise+Server&amp;oldid=196235&amp;writer=rl.html">Download as PDF</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FBusiness_Enterprise_Server.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="http://wiki.servicenow.com/index.php?title=Special:RecentChangesLinked/Business_Enterprise_Server" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;oldid=196235.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Business_Enterprise_Server&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 21:28, 15 November 2013.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1071});});</script></body></html>

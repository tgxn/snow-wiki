<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>System Clone - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"System_Clone","wgTitle":"System Clone","wgCurRevisionId":250929,"wgRevisionId":250929,"wgArticleId":13938,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Cloning"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"System_Clone","wgRelevantArticleId":13938,"wgRequestId":"f155278602831cd2b9b20ace","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="http://wiki.servicenow.com/load.php?debug=false&amp;lang=en&amp;modules=ext.embedVideo%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20170912141457"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=System_Clone"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="System Clone"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Cloning"/>
<meta name="category" content="Cloning"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=System_Clone.html" />

	<meta property="og:title" content="ServiceNow Wiki:System Clone"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20170912141457"/>

	<meta property="article:published_time" content="20170912141457"/>

	<meta property="article:modified_time" content="20170912141457"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Cloning"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=System_Clone"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-System_Clone rootpage-System_Clone skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
				
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">System Clone</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
<a href="index.html" title="Main Page">Home</a> &gt; <a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a> &gt; <a href="index.php%3Ftitle=Introduction_to_Managing_Data.html" title="Introduction to Managing Data">Managing Data</a> &gt; System Clone</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=System_Clone.html#column-one">navigation</a>, <a href="index.php%3Ftitle=System_Clone.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/administer/managing-data/concept/c_SystemClone.html">System Clone</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p><b>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.</b>
</p>
</td></tr></table>
<p><br />
</p>
<div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Managing+Data&amp;oldid=0.html" title="Managing Data">Managing Data</a>
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Introduction_to_Managing_Data.html" title="Introduction to Managing Data">Introduction to Managing Data</a></li>
<li><a href="index.php%3Ftitle=Data_Dictionary_Tables.html" title="Data Dictionary Tables">Data Dictionary Tables</a>
<ul><li><a href="index.php%3Ftitle=System_Dictionary.html" title="System Dictionary">System Dictionary</a></li>
<li><a href="index.php%3Ftitle=Dictionary_Attributes.html" title="Dictionary Attributes">Dictionary Attributes</a></li>
<li><a href="index.php%3Ftitle=Dictionary_Overrides.html" title="Dictionary Overrides">Dictionary Overrides</a></li></ul></li>
<li><a href="index.php%3Ftitle=Archiving_Data.html" title="Archiving Data">Archiving Data</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Database+Rotation&amp;oldid=0.html" title="Database Rotation">Database Rotation</a>
<ul><li><a href="index.php%3Ftitle=Table_Rotation.html" title="Table Rotation">Table Rotation</a></li>
<li><a href="index.php%3Ftitle=Table_Extension.html" title="Table Extension">Table Extension</a></li></ul></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Exporting+Data&amp;oldid=0.html" title="Exporting Data">Exporting Data</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Exporting+and+Importing+XML+Files&amp;oldid=0.html" title="Exporting and Importing XML Files">Exporting and Importing XML Files</a></li>
<li><strong class="selflink">System Clone</strong></li>
<li><a href="index.php%3Ftitle=Data_Policy.html" title="Data Policy">Data Policy</a></li></ul>
</td></tr>
<tr>
<th> Related Topics
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Domain+Support+Plugin&amp;oldid=0.html" title="Domain Support Plugin" class="mw-redirect">Domain Support Plugin</a></li>
<li><a href="index.php%3Ftitle=Field_Normalization.html" title="Field Normalization">Field Normalization</a></li></ul>
</td></tr>
<tr>
<th> Get the Book
</th></tr>
<tr>
<td> <center><b><a href="index.php%3Ftitle=Book:Managing_Data.html" title="Book:Managing Data"><img alt="Knowledge.gif" src="images/d/dd/Knowledge.gif" width="16" height="16" /></a> <a href="index.php%3Ftitle=Book:Managing_Data.html" title="Book:Managing Data">Managing Data</a></b></center>
</td></tr></table>
</div>
<p><br /> 
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=System_Clone.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=System_Clone.html#How_to_Clone_an_Instance_Video_Tutorials"><span class="tocnumber">2</span> <span class="toctext">How to Clone an Instance Video Tutorials</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=System_Clone.html#Using_System_Clone"><span class="tocnumber">3</span> <span class="toctext">Using System Clone</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="index.php%3Ftitle=System_Clone.html#Cloning_Over_Production_Instances"><span class="tocnumber">4</span> <span class="toctext">Cloning Over Production Instances</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="index.php%3Ftitle=System_Clone.html#Cloning_from_a_Backup"><span class="tocnumber">5</span> <span class="toctext">Cloning from a Backup</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="index.php%3Ftitle=System_Clone.html#Cloning_an_Instance"><span class="tocnumber">6</span> <span class="toctext">Cloning an Instance</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="index.php%3Ftitle=System_Clone.html#Creating_a_Clone_Target"><span class="tocnumber">6.1</span> <span class="toctext">Creating a Clone Target</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="index.php%3Ftitle=System_Clone.html#Starting_a_Clone"><span class="tocnumber">6.2</span> <span class="toctext">Starting a Clone</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="index.php%3Ftitle=System_Clone.html#Clone_Options"><span class="tocnumber">6.2.1</span> <span class="toctext">Clone Options</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="index.php%3Ftitle=System_Clone.html#Running_Post-Clone_Cleanup_Scripts"><span class="tocnumber">6.3</span> <span class="toctext">Running Post-Clone Cleanup Scripts</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="index.php%3Ftitle=System_Clone.html#Allowing_a_Clone"><span class="tocnumber">6.4</span> <span class="toctext">Allowing a Clone</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="index.php%3Ftitle=System_Clone.html#Canceling_a_Clone"><span class="tocnumber">6.5</span> <span class="toctext">Canceling a Clone</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="index.php%3Ftitle=System_Clone.html#Sending_Clone_Status_Notifications"><span class="tocnumber">6.6</span> <span class="toctext">Sending Clone Status Notifications</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="index.php%3Ftitle=System_Clone.html#Cloning_to_an_Instance_on_a_Different_Version"><span class="tocnumber">6.7</span> <span class="toctext">Cloning to an Instance on a Different Version</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="index.php%3Ftitle=System_Clone.html#Viewing_Clone_History"><span class="tocnumber">6.8</span> <span class="toctext">Viewing Clone History</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="index.php%3Ftitle=System_Clone.html#Viewing_Active_Clones"><span class="tocnumber">6.9</span> <span class="toctext">Viewing Active Clones</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="index.php%3Ftitle=System_Clone.html#Preserving_Data_on_the_Target_Instance"><span class="tocnumber">7</span> <span class="toctext">Preserving Data on the Target Instance</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="index.php%3Ftitle=System_Clone.html#Creating_Data_Preservers"><span class="tocnumber">7.1</span> <span class="toctext">Creating Data Preservers</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="index.php%3Ftitle=System_Clone.html#Optional_Tables_for_Data_Preservation"><span class="tocnumber">7.1.1</span> <span class="toctext">Optional Tables for Data Preservation</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="index.php%3Ftitle=System_Clone.html#Cloning_an_Instance_with_a_SAML_Integration"><span class="tocnumber">7.1.2</span> <span class="toctext">Cloning an Instance with a SAML Integration</span></a>
<ul>
<li class="toclevel-4 tocsection-21"><a href="index.php%3Ftitle=System_Clone.html#Preserve_SAML_Properties"><span class="tocnumber">7.1.2.1</span> <span class="toctext">Preserve SAML Properties</span></a></li>
<li class="toclevel-4 tocsection-22"><a href="index.php%3Ftitle=System_Clone.html#Preserve_SAML_Certificates"><span class="tocnumber">7.1.2.2</span> <span class="toctext">Preserve SAML Certificates</span></a></li>
<li class="toclevel-4 tocsection-23"><a href="index.php%3Ftitle=System_Clone.html#.28Optional.29_Preserve_SAML_Users"><span class="tocnumber">7.1.2.3</span> <span class="toctext">(Optional) Preserve SAML Users</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-24"><a href="index.php%3Ftitle=System_Clone.html#Cloning_an_Instance_with_a_Multiple_Provider_Single_Sign-On_Integration"><span class="tocnumber">7.1.3</span> <span class="toctext">Cloning an Instance with a Multiple Provider Single Sign-On Integration</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="index.php%3Ftitle=System_Clone.html#Deleting_Data_Preservers"><span class="tocnumber">7.2</span> <span class="toctext">Deleting Data Preservers</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="index.php%3Ftitle=System_Clone.html#Essential_Data_Preservers"><span class="tocnumber">7.2.1</span> <span class="toctext">Essential Data Preservers</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="index.php%3Ftitle=System_Clone.html#Excluding_Tables_from_Cloning"><span class="tocnumber">7.3</span> <span class="toctext">Excluding Tables from Cloning</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-28"><a href="index.php%3Ftitle=System_Clone.html#Standby_Database"><span class="tocnumber">8</span> <span class="toctext">Standby Database</span></a></li>
<li class="toclevel-1 tocsection-29"><a href="index.php%3Ftitle=System_Clone.html#How_Clone_Requests_are_Processed"><span class="tocnumber">9</span> <span class="toctext">How Clone Requests are Processed</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>The System Clone application allows users with the clone_admin or admin role to clone data from one instance to another. This functionality is primarily used to clone a production instance over an existing sub-production instance before developing or testing changes. All clones are performed using the most recent <a href="index.php%3Ftitle=System_Clone.html#Cloning_from_a_Backup">nightly backup</a>. This application applies to instances in Gen2 and later datacenters.
</p><p><a href="index.php%3Ftitle=File:Clone_process.png.html" class="image"><img alt="Clone process.png" src="images/8/87/Clone_process.png" width="1013" height="239" /></a>
</p>
<h1><span class="mw-headline" id="How_to_Clone_an_Instance_Video_Tutorials"><span class="mw-headline-number">2</span> How to Clone an Instance Video Tutorials</span></h1>
<table border="1" cellspacing="0" cellpadding="5" align="center">
<tr>
<th> Schedule a System Clone
</th>
<th> Define a System Clone
</th>
<th> Check Clone Status; Cancel, and Roll Back Clones
</th></tr>
<tr>
<td> <div class='embedvideo ' style='width: 300px;'><iframe src="http://www.youtube.com/embed/POicW0HbGHU?" width="300" height="169" frameborder="0" allowfullscreen="true"></iframe></div>
</td>
<td> <div class='embedvideo ' style='width: 300px;'><iframe src="http://www.youtube.com/embed/e7fm0bgIWko?" width="300" height="169" frameborder="0" allowfullscreen="true"></iframe></div>
</td>
<td> <div class='embedvideo ' style='width: 300px;'><iframe src="http://www.youtube.com/embed/SSUcR2Y2MSo?" width="300" height="169" frameborder="0" allowfullscreen="true"></iframe></div>
</td></tr></table>
<h1><span class="mw-headline" id="Using_System_Clone"><span class="mw-headline-number">3</span> Using System Clone</span></h1>
<p>The System Clone application automates much of the cloning process. An administrator defines what data is preserved on the target instance and what data from the source is not cloned, then initiates the clone process. A background job ensures that all cloning requirements are met and carries out the clone process. Perform all processes and procedures described on this page on the <i>source</i> instance.
</p><p>During a clone, the target instance may be intermittently unavailable. After clone completion, you have up to 24 hours to contact ServiceNow Customer Support and request a rollback of the target instance to its pre-clone state. You will be notified when the rollback is complete.
</p><p>For information about the new cloning engine, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0540342">KB0540342: New clone engine changes</a>.
</p>
<h1><span class="mw-headline" id="Cloning_Over_Production_Instances"><span class="mw-headline-number">4</span> Cloning Over Production Instances</span></h1>
<p>Production instances cannot be used as the target instance for a clone after the instance is live. Production clones are created during non-core business hours. Tables are backed up sequentially rather than simultaneously. Modifying data on the source instance during a clone can cause a data mismatch between records or duplicate record entries. This issue is minimized by running a clone after normal business hours. For information about non-core business hours in different regions, see <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Cloning+your+ServiceNow+Instance+-+Versions+Prior+to+Berlin&amp;oldid=0.html#Scheduling_Cloning" title="Cloning your ServiceNow Instance - Versions Prior to Berlin">Scheduling Cloning</a>.
</p><p>When scheduling a clone for a production instance, the system automatically:
</p>
<ul><li>Determines the instance region.</li>
<li>Determines the non-core business hours for the region.</li>
<li>Restricts the possible cloning time that can be specified on the Clone Request form to within the non-core hours.</li></ul>
<table width="750px" cellspacing="1" cellpadding="3" border="1">

<tr>
<td width="143px" bgcolor="#dfdbdc"> <b>Region</b>
</td>
<td bgcolor="#dfdbdc"> <b>Non-Core Business Hours</b>
</td></tr>
<tr>
<td>  Americas - East Coast
</td>
<td>  11 pm to 4 am Eastern time (UTC –5) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Americas - West Coast
</td>
<td>  8 pm to 1 am Pacific time (UTC –8) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Australia
</td>
<td>  11 pm to 4 am Australian Eastern time (UTC +10) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Europe - Amsterdam
</td>
<td>  12 midnight to 5 am Central European time (UTC +1) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Europe - London
</td>
<td>  11 pm to 4 am British time (UTC) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Asia - Hong Kong
</td>
<td>  11 pm to 4 am Hong Kong time (UTC +8) and all day Saturdays and Sundays
</td></tr>
<tr>
<td>  Asia - Singapore
</td>
<td>  11 pm to 4 am Singapore standard time (UTC +8) and all day Saturdays and Sundays
</td></tr></table>
<p><br />
</p>
<h1><span class="mw-headline" id="Cloning_from_a_Backup"><span class="mw-headline-number">5</span> Cloning from a Backup</span></h1>
<p>ServiceNow uses data from the most recent nightly backup of the source instance when cloning.
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The <b>Clone from</b> field is not used. All clones are performed from a backup.</i>
</td></tr></table>
<p><br />
After cloning from a backup, the target instance is unavailable for several minutes before the clone is marked as complete in the source instance. If the source and target instances are on different versions of ServiceNow, the target instance is modified to match the source instance version during this time.
</p><p>When starting a clone from a backup, the date and time the backup was taken, as well as periodic progress messages appear in the <b>Clone Log</b> related list.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:902px;"><a href="index.php%3Ftitle=File:System_clone_backup_log_2.png.html" class="image"><img alt="" src="images/thumb/1/1b/System_clone_backup_log_2.png/900px-System_clone_backup_log_2.png" width="900" height="221" class="thumbimage" srcset="/images/1/1b/System_clone_backup_log_2.png 1.5x, /images/1/1b/System_clone_backup_log_2.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:System_clone_backup_log_2.png.html" class="internal" title="Enlarge"></a></div>Cloning from a backup</div></div></div>
<p><br style="clear:both;" />
</p>
<h1><span class="mw-headline" id="Cloning_an_Instance"><span class="mw-headline-number">6</span> Cloning an Instance</span></h1>
<h2><span class="mw-headline" id="Creating_a_Clone_Target"><span class="mw-headline-number">6.1</span> Creating a Clone Target</span></h2>
<p>You must create a target instance record before the instance can be selected as clone target. 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>If you are using IP Access Controls on your instance, the target instance must allow the following IP's to communicate on a local network in order to allow the clone: 10.0.0.0/10.255.255.255&#160;. For more information, see <a href="index.php%3Ftitle=IP_Range_Based_Authentication.html" title="IP Range Based Authentication">IP Range Based Authentication</a>.</i>
</td></tr></table>
<p>To create a target instance record: 
</p>
<ol><li>Navigate to <b>System Clone &gt; Clone Targets</b>. </li>
<li>Click <b>New</b>. </li>
<li>Enter the URL for the receiving instance (target). </li>
<li>Enter the basic authentication credentials for a user account with the admin role on the target instance.
<dl><dd><b>Note:</b> These credentials must exist in the instance's User [sys_user] table as a user record or as part of an LDAP integration. Clone requests cannot use single sign-on to authenticate users from an identity provider.</dd></dl></li>
<li>Click <b>Submit</b>. 
<dl><dd>The system checks connectivity and validates the user credentials against the target instance.</dd></dl></li></ol>
<p><a href="index.php%3Ftitle=File:Clone_target.png.html" class="image"><img alt="Clone target.png" src="images/f/f7/Clone_target.png" width="697" height="185" /></a>
</p>
<h2><span class="mw-headline" id="Starting_a_Clone"><span class="mw-headline-number">6.2</span> Starting a Clone</span></h2>
<p>For most instances, an administrator can start a clone. For instances that use an Oracle database, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0538884">KB0538884 - System Clone Support for Oracle Customers</a>.
</p><p>To initiate or schedule a system clone for instances that do not use an Oracle database: 
</p>
<ol><li>Navigate to <b>System Clone &gt; Request Clone</b>. </li>
<li>Select a <b>Target instance</b> to receive the cloned data. </li>
<li>Clear the check box for any additional data to be cloned, such as attachments and audit data. See <a href="index.php%3Ftitle=System_Clone.html#Clone_Options">Clone Options</a> for more information. </li>
<li>Schedule a <b>Date and time</b> to perform the clone.
<ul><li>You cannot schedule multiple clones concurrently from the same source instance or to the same target instance.</li>
<li>A clone must be scheduled at minimum 4 hours in advance. </li></ul></li>
<li>Enter an <b>Email</b> address to receive alerts after the clone finishes, is canceled, or has an error. Any users entered in this field, along with the company Primary support contact and Secondary support contact, receive alerts. For more information about designating support contacts, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://hi.service-now.com/kb_view.do?sysparm_article=KB0547254">Notifications on HI</a> in the HI Knowledge Base.</li>
<li>Click <b>Submit</b>. </li>
<li>In the authentication window that appears, enter the <b>Username</b> and <b>Password</b> for an administrator account on the target instance. </li>
<li>Click <b>Authenticate</b>. </li>
<li>Review the clone settings and click <b>OK</b>. 
<dl><dd>ServiceNow sends an email to the supplied address after the clone finishes, is canceled, or has an error.</dd></dl></li></ol>
<h3><span class="mw-headline" id="Clone_Options"><span class="mw-headline-number">6.2.1</span> Clone Options</span></h3>
<p>Several options on the System Clone form lets you define what data to clone. 
</p>
<ul><li><b>Clone from:</b> Select the source database, preferably the <a href="index.php%3Ftitle=System_Clone.html#Standby_Database">standby database</a>, if more than one database is available. If only one source is available, the <b>Clone from</b> menu does not appear on the form.</li>
<li><b>Exclude audit and log data:</b> Select this option to prevent the cloning of tables specified in <b>System Clone &gt; Exclude Tables</b>. This option is selected by default. Clearing the check box causes ServiceNow to ignore the <b>Exclude Tables</b> module.</li>
<li><b>Exclude large attachment data:</b> Select this option to prevent the cloning of large attachments, such as video files, image files, and other typically large binary file types. This option excludes all common binary file types regardless of file size. When selected, the clone excludes any record in the Attachment [sys_attachment] and Attachment Document [sys_attachment_doc] tables that meet these criteria.
<ul><li> The table_name value does not start with <tt>ZZ_</tt>.</li>
<li> The table_name value is not sys_certificate, ecc_agent_jar, ecc_agent_mib, or sys_store_app.</li></ul></li>
<li><b>Preserve Theme:</b> Select this option to prevent the cloning of CSS elements, colors, and banner displays. This option enables or disables any data preservers where <b>Preserve theme</b> is <b>True</b>.</li></ul>
<h2><span class="mw-headline" id="Running_Post-Clone_Cleanup_Scripts"><span class="mw-headline-number">6.3</span> Running Post-Clone Cleanup Scripts</span></h2>
<p>The <b>Cleanup Scripts</b> module allows you to define scripts to automatically run on the target instance after finishing a clone. Cleanup scripts run after <a href="index.php%3Ftitle=System_Clone.html#Preserving_Data_on_the_Target_Instance">data preservers</a> and the clone is complete.
</p><p>You can add new post-cloning scripts, on the source instance, to perform any action that can normally be accomplished through script includes or business rules. The following scripts provided for post-clone cleanup perform various actions on the target instance: 
</p>
<ul><li><b>Disable emails:</b> Disables email on the target instance. A default <a href="index.php%3Ftitle=System_Clone.html#Essential_Data_Preservers">data preserver</a> maintains other email settings from the target instance. </li>
<li><b>Regenerate text indexes:</b> Rebuilds text indexes on the target instance after a clone. Text indexes are not cloned from the source to the target instance. </li>
<li><b>Clear scheduled job node association:</b> Resets any scheduled jobs that were active on the source instance to the <b>Ready</b> state. This script also clears the value of the <b>System ID</b> and <b>Claimed by</b> fields on all scheduled jobs. </li>
<li><b>Install deactivated plugin:</b> Enables the Domain Separation plugin for instances that use this feature. </li>
<li><b>Drop backup tables:</b> Schedules the deletion of the data contained in the target instance database prior to the clone. This original data is preserved for 24 hours following a clone to allow you to roll back an instance to the pre-clone state. If the target instance is downgraded as part of the clone, backup data is not available.</li></ul>
<h2><span class="mw-headline" id="Allowing_a_Clone"><span class="mw-headline-number">6.4</span> Allowing a Clone</span></h2>
<p>Production instances cannot be used as the target instance for a clone after the instance is live. Additionally, the glide property <tt>glide.db.clone.allow_clone_target</tt> must be set to <b>True</b> to allow an instance to be a clone target. Attempting to clone over an instance where this property is <b>False</b> displays this error:
</p>
<dl><dd><a href="index.php%3Ftitle=File:Clone_target_invalid.png.html" class="image"><img alt="Clone target invalid.png" src="images/thumb/2/2b/Clone_target_invalid.png/800px-Clone_target_invalid.png" width="800" height="55" srcset="/images/2/2b/Clone_target_invalid.png 1.5x, /images/2/2b/Clone_target_invalid.png 2x" /></a></dd></dl>
<p>This property is <b>False</b> by default, and <b>True</b> on instances who's name ends in one of:
</p>
<ul><li>Dev</li>
<li>Test</li>
<li>Stage</li>
<li>UAT</li>
<li>QA</li></ul>
<p>To modify the value of this property, <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Adding+a+Property&amp;oldid=0.html" title="Adding a Property">add the property</a> to the <a href="index.php%3Ftitle=Additional_Glide_Properties.html" title="Additional Glide Properties" class="mw-redirect">sys_properties table</a>.
</p>
<h2><span class="mw-headline" id="Canceling_a_Clone"><span class="mw-headline-number">6.5</span> Canceling a Clone</span></h2>
<p>You can cancel a clone without negatively impacting system stability or usability. Canceling a clone restores the target instance to the pre-clone state, retaining all original data. 
</p><p>To cancel a scheduled or in-progress clone: 
</p>
<ol><li>Navigate to <b>System Clone &gt; Clone History</b>. </li>
<li>Select the clone to be canceled. </li>
<li>Click <b>Cancel Clone</b>.</li></ol>
<h2><span class="mw-headline" id="Sending_Clone_Status_Notifications"><span class="mw-headline-number">6.6</span> Sending Clone Status Notifications</span></h2>
<p>You can configure the instance to send notifications regarding an active clone. These notifications indicate when the clone finishes, is cancelled, or has an error. Use the <b>Email upon completion</b> field to specify who to send status notifications to. Users specified as the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">primary or secondary support contacts</a> for your company also receive these notifications.
</p>
<h2><span class="mw-headline" id="Cloning_to_an_Instance_on_a_Different_Version"><span class="mw-headline-number">6.7</span> Cloning to an Instance on a Different Version</span></h2>
<p>The System Clone application can target an instance running a different ServiceNow version than the source. A central web service controls clone processing and automatically modifies the target instance version to match the source instance version. This matching process starts up to 8 hours before the time specified in the <b>Date and time</b> field on the System Clone form. This web service also ensures that there is enough disk space on the target instance for the clone to proceed.
</p><p>When <a href="index.php%3Ftitle=System_Clone.html#Cloning_from_a_Backup">cloning from a backup</a>, the target instance does not need additional time to upgrade or downgrade. ServiceNow performs any version changes during a brief window where the target instance is unavailable, after copying data from the source instance backup.
</p>
<h2><span class="mw-headline" id="Viewing_Clone_History"><span class="mw-headline-number">6.8</span> Viewing Clone History</span></h2>
<p>ServiceNow provides a clone history table. All previously and currently scheduled clones from a particular instance display on this table. To access the clone history list, navigate to <b>System Clone &gt; Clone History</b>. The clone history also displays the <b>State</b> for current and past clones. Clones in the <b>draft</b> state do not appear on the clone history table.
</p>
<table class="standard">

<tr>
<th> Clone State
</th>
<th> Description
</th></tr>
<tr>
<td> Requested
</td>
<td> The clone was requested and is awaiting approval.
</td></tr>
<tr>
<td> Scheduled
</td>
<td> The clone is ready to begin at the scheduled time and date.
</td></tr>
<tr>
<td> Active
</td>
<td> The clone is currently running.
</td></tr>
<tr>
<td> Completed
</td>
<td> The clone completed successfully.
</td></tr>
<tr>
<td> Canceled
</td>
<td> A user canceled the request.
</td></tr>
<tr>
<td> Hold
</td>
<td> The server rejected the clone request. This can happen either because the clone was not ready to proceed by the scheduled time or because additional clone requests were submitted before the first completed.
</td></tr>
<tr>
<td> Error
</td>
<td> The clone encountered an error while running. Contact <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Technical+Support&amp;oldid=0.html" title="Technical Support" class="mw-redirect">Technical Support</a> for more help resolving this issue.
</td></tr></table>
<div class="thumb tleft"><div class="thumbinner" style="width:702px;"><a href="index.php%3Ftitle=File:Clone_-_Completed.png.html" class="image"><img alt="" src="images/thumb/3/35/Clone_-_Completed.png/700px-Clone_-_Completed.png" width="700" height="147" class="thumbimage" srcset="/images/3/35/Clone_-_Completed.png 1.5x, /images/3/35/Clone_-_Completed.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Clone_-_Completed.png.html" class="internal" title="Enlarge"></a></div>A completed clone from the list view</div></div></div>
<p><br style="clear:both;" />
</p>
<h2><span class="mw-headline" id="Viewing_Active_Clones"><span class="mw-headline-number">6.9</span> Viewing Active Clones</span></h2>
<p>The clone history module also lists clones that have begun but have not yet finished. These clones have a <b>State</b> value of <b>Active</b>. After starting a clone, the <b>Clone Log</b> and <b>Database Table Clones</b> related lists appear on the form. These related lists show general log messages, and the details of individual tables respectively.
</p><p>The duration of time a clone remains active varies depending on the amount of data being cloned, and the if the source and target instance are in the same physical location. If a clone takes longer than anticipated, ServiceNow <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Technical+Support&amp;oldid=0.html" title="Technical Support" class="mw-redirect">Technical Support</a> can identify additional details about the clone progress.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:802px;"><a href="index.php%3Ftitle=File:Active_System_clone.png.html" class="image"><img alt="" src="images/thumb/9/95/Active_System_clone.png/800px-Active_System_clone.png" width="800" height="318" class="thumbimage" srcset="/images/9/95/Active_System_clone.png 1.5x, /images/9/95/Active_System_clone.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Active_System_clone.png.html" class="internal" title="Enlarge"></a></div>Related lists on the System Clone form after starting a clone</div></div></div>
<p><br style="clear:both;" />
</p>
<h1><span class="mw-headline" id="Preserving_Data_on_the_Target_Instance"><span class="mw-headline-number">7</span> Preserving Data on the Target Instance</span></h1>
<p>Data preservers maintain certain data on the target instance. This data is stored in a dynamically generated list on the target instance before the clone and restored on the target instance after the clone is complete. You must define data preservers on the source instance. Data preservers do not automatically maintain extended tables. Additionally, data preservers do not preserve relationships and hierarchies between tables and do not support dot-walking.
</p><p>Data preservers are primarily intended to preserve system settings and themes, such as instance-specific authentication settings. Do not use data preservers to transfer large sets of data, such as user groups. If you need to preserve table data such as users, groups, and roles, consider <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Exporting+Data&amp;oldid=0.html" title="Exporting Data">exporting the records</a> to a file and importing it after the clone is complete.
</p>
<h2><span class="mw-headline" id="Creating_Data_Preservers"><span class="mw-headline-number">7.1</span> Creating Data Preservers</span></h2>
<p>In some cases, preserving additional data on a target instance is desirable. For example, when using a MID server you can avoid overwriting the MID Server [ecc_agent] table. 
</p><p>To add a data preserver: 
</p>
<ol><li>Login to the source instance. For example, your production instance.</li>
<li>Navigate to <b>System Clone &gt; Preserve Data</b>. </li>
<li>Click <b>New</b>. </li>
<li>Select the <b>Table</b> to be preserved. </li>
<li>Select <b>Theme</b> if the data being preserved is a UI property. </li>
<li>Define specific sets of data to be preserved using the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Condition+Builder&amp;oldid=0.html" title="Condition Builder">condition builder</a>. </li>
<li>Click <b>Submit</b>.</li></ol>
<p><br /> <a href="index.php%3Ftitle=File:DataPreserver2.png.html" class="image"><img alt="DataPreserver2.png" src="images/e/e2/DataPreserver2.png" width="838" height="230" /></a>
</p>
<h3><span class="mw-headline" id="Optional_Tables_for_Data_Preservation"><span class="mw-headline-number">7.1.1</span> Optional Tables for Data Preservation</span></h3>
<p>The following tables may contain data you do not want to overwrite during cloning.
</p>
<ul><li> Bookmark [sys_ui_bookmark]</li>
<li> Recent Selection [sys_ui_recent_selection]</li>
<li> User Preference [sys_user_preference]</li></ul>
<h3><span class="mw-headline" id="Cloning_an_Instance_with_a_SAML_Integration"><span class="mw-headline-number">7.1.2</span> Cloning an Instance with a SAML Integration</span></h3>
<p>Preserving SAML SSO-related settings can prevent the target instance from redirecting all authentication requests to the original IdP with the wrong issuer and audience parameters. To preserve SAML settings you will need to create data preservers for the following tables:
</p>
<ul><li> System Property [sys_properties]</li>
<li> X.509 Certificates [sys_certificate]</li>
<li> User [sys_user]</li></ul>
<h4><span class="mw-headline" id="Preserve_SAML_Properties"><span class="mw-headline-number">7.1.2.1</span> Preserve SAML Properties</span></h4>
<p>If you want a clone target instance to keep its existing SAML integration, you must edit the Core Instance Properties data preserver to include the SAML properties.
</p>
<ol><li>Navigate to <b>System Clone &gt; Preserve Data</b>.</li>
<li>Select <b>Core Instance Properties</b>.</li>
<li>Add the following conditions.
<dl><dd>[OR] [Name] [is one of] [glide.authenticate.external, glide.authenticate.external.logout_redirect, glide.authenticate.failed_requirement_redirect]</dd>
<dd>[OR] [Name] [starts with] [glide.authenticate.sso.saml2]</dd>
<dd>[OR] [Name] [starts with] [com.snc.integration.saml_esig]</dd>
<dd><div class="floatleft"><a href="index.php%3Ftitle=File:DataPreserver_SAML.png.html" class="image" title="Preserving SAML SSO-related settings"><img alt="Preserving SAML SSO-related settings" src="images/thumb/4/49/DataPreserver_SAML.png/700px-DataPreserver_SAML.png" width="700" height="467" srcset="/images/4/49/DataPreserver_SAML.png 1.5x, /images/4/49/DataPreserver_SAML.png 2x" /></a></div> <br clear="all" /></dd></dl></li>
<li>Click <b>Update</b>.</li></ol>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>Ensure the <b>Theme</b> option is false so these properties will be preserved regardless of whether you preserve the instance theme.</i>
</td></tr></table>
<p><br />
</p>
<h4><span class="mw-headline" id="Preserve_SAML_Certificates"><span class="mw-headline-number">7.1.2.2</span> Preserve SAML Certificates</span></h4>
<p>You must preserve the target instance's SAML 2.0 certificate for the SAML integration to continue working after a clone. If you activated <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Multiple+Provider+Single+Sign-On&amp;oldid=0.html" title="Multiple Provider Single Sign-On">Multiple Provider Single Sign-On</a>, the system has already created a data preserver for this table but you might want to verify it is correctly configured.
</p>
<ol><li>Navigate to <b>System Clone &gt; Preserve Data</b>.</li>
<li>Click <b>New</b>.</li>
<li>Enter the following field values.
<dl><dd><b>Table</b>: X.509 Certificate [sys_certificate]</dd>
<dd><b>Conditions</b>: [Name] [starts with] [SAML 2.0]</dd></dl></li>
<li>Click <b>Submit</b>. </li></ol>
<h4><span class="mw-headline" id=".28Optional.29_Preserve_SAML_Users"><span class="mw-headline-number">7.1.2.3</span> (Optional) Preserve SAML Users</span></h4>
<p>You may need to preserve your target instance's existing SAML 2.0 users if the source instance does not include these users.
</p>
<ol><li>Navigate to <b>System Clone &gt; Preserve Data</b>.</li>
<li>Click <b>New</b>.</li>
<li>Enter the following field values.
<dl><dd><b>Table</b>: User [sys_user]</dd>
<dd>(Optional) <b>Conditions</b>: Enter the users you want to continue to log in from SAML.</dd></dl></li>
<li>Click <b>Submit</b>.</li></ol>
<h3><span class="mw-headline" id="Cloning_an_Instance_with_a_Multiple_Provider_Single_Sign-On_Integration"><span class="mw-headline-number">7.1.3</span> Cloning an Instance with a Multiple Provider Single Sign-On Integration</span></h3>
<p>The system automatically creates data preservers for the following tables when you activate <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Multiple+Provider+Single+Sign-On&amp;oldid=0.html" title="Multiple Provider Single Sign-On">Multiple Provider Single Sign-On</a>.
</p>
<table class="standard">

<tr>
<th> Name
</th>
<th> Table
</th>
<th> Conditions
</th></tr>
<tr>
<td> Certificate
</td>
<td> X.509 Certificates [sys_certificate]
</td>
<td> None
</td></tr>
<tr>
<td> Core Instance Properties
</td>
<td> System Property [sys_properties]
</td>
<td>
<ul><li> [OR] [Name] [is one of] [glide.authenticate.external, glide.authenticate.external.logout_redirect]</li>
<li> [OR] [Name] [starts with] [com.snc.integration.saml_esig]</li>
<li> [OR] [Name] [is one of] [glide.smtp.port, glide.smtp.auth, glide.smtp.encryption]</li>
<li> [OR] [Name] [starts with] [glide.authenticate.multisso]</li>
<li> [OR] [Name] [is] [glide.authenticate.sso.redirect.idp]</li></ul>
</td></tr>
<tr>
<td> Digest Properties
</td>
<td> Digest Properties [digest_properties]
</td>
<td> None
</td></tr>
<tr>
<td> Identity Providers
</td>
<td> Identity Providers [sso_properties]
</td>
<td> None
</td></tr>
<tr>
<td> SAML2 Update1 Properties
</td>
<td> SAML2 Update1 Properties [saml2_update1_properties]
</td>
<td> None
</td></tr></table>
<p>While you can modify these data preservers, it is recommended that you avoid making changes to the Digest Properties [digest_properties], Identity Providers [sso_properties], and SAML2 Update1 Properties [saml2_update1_properties] tables as all three tables are required for multiple source single sign-on to function properly. If multiple source single sign-on is disabled on the target instance, you can safely remove all three data preservers. You must remove these tables as a group however as the system generates an error message and terminates the clone if you attempt to clone with only one or two of these tables being preserved.
</p>
<h2><span class="mw-headline" id="Deleting_Data_Preservers"><span class="mw-headline-number">7.2</span> Deleting Data Preservers</span></h2>
<p>To delete a data preserver: 
</p>
<ol><li>Navigate to <b>System Clone &gt; Preserve Data</b>. </li>
<li>Select the data preserver to delete. </li>
<li>Click the <b>X</b> icon beside a condition you want to delete or click the <b>Delete</b> button to delete the entire data preserver record.</li></ol>
<h3><span class="mw-headline" id="Essential_Data_Preservers"><span class="mw-headline-number">7.2.1</span> Essential Data Preservers</span></h3>
<p>ServiceNow protects certain essential data by default. Do not modify or delete the following data preserver records: 
</p>
<ul><li>Core Instance Properties </li>
<li>Semaphores </li>
<li>Email Accounts</li></ul>
<h2><span class="mw-headline" id="Excluding_Tables_from_Cloning"><span class="mw-headline-number">7.3</span> Excluding Tables from Cloning</span></h2>
<p>The <b>System Clone &gt; Exclude Tables</b> module lists the tables that are not copied during a system clone. By default, excluded tables are primarily log and audit data. 
</p><p>Excluding a table results in an empty but usable table on the target instance. To preserve the existing data on the target instance, see <a href="index.php%3Ftitle=System_Clone.html#Preserving_Data_on_the_Target_Instance">preserving data</a>. Data on tables that reference the table, such as business rules, is not excluded.
</p><p>To prevent the system clone from cloning specific tables: 
</p>
<ol><li>Navigate to <b>System Clone &gt; Exclude Tables</b>. </li>
<li>Click <b>New</b>. </li>
<li>Enter the table <b>Name</b>. 
<dl><dd>Use the lowercase table name, not the table label.</dd></dl></li>
<li>Click <b>Submit</b>.</li></ol>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>Starting with the <a href="index.php%3Ftitle=Dublin_Release_Notes.html" title="Dublin Release Notes">Dublin release</a>, if an excluded table is extended from the task table the extended table will not be excluded. The data from the excluded table will still be cloned.</i>
</td></tr></table>
<p><br />
</p>
<h1><span class="mw-headline" id="Standby_Database"><span class="mw-headline-number">8</span> Standby Database</span></h1>
<p>The standby database is a secondary copy of the MySQL database for production instances. This database is read-only and kept consistent with the production database.
</p><p>The new clone engine does not use the standby database for cloning as the old cloning engine did. But if the new clone engine fails, the system falls back to using the old clone engine. In a HA instance, the old cloning engine uses the standby database for cloning.
</p>
<h1><span class="mw-headline" id="How_Clone_Requests_are_Processed"><span class="mw-headline-number">9</span> How Clone Requests are Processed</span></h1>
<p>In response to a clone request, ServiceNow: 
</p>
<ol><li>Generates a file to preserve operational data on the target server. 
<dl><dd>This file contains the data preserved by <a href="index.php%3Ftitle=System_Clone.html#Preserving_Data_on_the_Target_Instance">data preservers</a>. </dd></dl></li>
<li>Copies the database schema from the source instance to the target instance. </li>
<li>Creates tables in the target instance database using the source instance table definitions. </li>
<li>Copies data from the source instance database to the target instance database. 
<dl><dd>Certain large tables are normally excluded. These include audit, log, and email tables. </dd></dl></li>
<li>Briefly disables UI traffic and requests to the target instance server. 
<dl><dd>ServiceNow displays the message <b>Clone in progress...</b> to any user accessing the target instance. </dd></dl></li>
<li>Restores operational data preserved from the target instance. </li>
<li>Runs any post-clone cleanup scripts on the target instance.</li>
<li>Briefly suspends all email functions on the target instance. </li>
<li>Queues an event to regenerate text indexes. </li>
<li>Enables UI traffic and requests to the target instance server.</li></ol>

<!-- 
NewPP limit report
Cached time: 20171201103727
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.272 seconds
Real time usage: 0.325 seconds
Preprocessor visited node count: 204/1000000
Preprocessor generated node count: 492/1000000
Post‐expand include size: 4215/2097152 bytes
Template argument size: 1784/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   43.031      1 - -total
 69.76%   30.020      1 - Template:Managing_Data
 58.38%   25.122      1 - Template:Topic
 14.32%    6.163      5 - Template:Note
 10.93%    4.702      4 - Template:T
 10.23%    4.401      1 - Embedded:Managing_Data
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:13938-0!*!0!1!en!5!* and timestamp 20171201103726 and revision id 250929
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=System_Clone&amp;oldid=250929.html">http://wiki.servicenow.com/index.php?title=System_Clone&amp;oldid=250929</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Cloning.html" title="Category:Cloning">Cloning</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Administer.html" title="Category:Administer">Administer</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Managing+Data.html" title="Category:Managing Data">Managing Data</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Cloning.html" title="Category:Cloning">Cloning</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_13938"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="13938" data-vote-the-vote="5" data-vote-id="13938" data-vote-action="5" data-vote-rating="4.00" data-vote-voted="0" id="rating_13938_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="13938" data-vote-the-vote="1" data-vote-id="13938" data-vote-action="5" data-vote-rating="4.00" data-vote-voted="0" id="rating_13938_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=System_Clone.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index.php%3Ftitle=Special:CreateAccount&amp;returnto=System+Clone.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=System+Clone.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=System_Clone.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=System_Clone&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-create_a_book"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator&amp;referer=System+Clone.html">Create a book</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=System+Clone&amp;returnto=System+Clone&amp;oldid=250929&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=System_Clone&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FSystem_Clone.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="http://wiki.servicenow.com/index.php?title=Special:RecentChangesLinked/System_Clone" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=System_Clone&amp;oldid=250929.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=System_Clone&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 14:14, 12 September 2017.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":967});});</script></body></html>

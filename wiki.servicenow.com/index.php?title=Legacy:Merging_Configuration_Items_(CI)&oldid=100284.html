<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Legacy:Merging Configuration Items (CI) - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Legacy:Merging_Configuration_Items_(CI)","wgTitle":"Legacy:Merging Configuration Items (CI)","wgCurRevisionId":100284,"wgRevisionId":100284,"wgArticleId":4234,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Merging_Configuration_Items_(CI)","wgRelevantArticleId":4234,"wgRequestId":"c9462050c570f1baf8896db2","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.content.externallinks%257Cmediawiki.skinning.interface%257Cskins.monobook.styles&amp;only=styles&amp;skin=monoboo.css"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20120116202732"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Legacy:Merging_Configuration_Items_(CI)"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Legacy:Merging Configuration Items (CI)"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI).html" />

	<meta property="og:title" content="ServiceNow Wiki:Legacy:Merging Configuration Items (CI)"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20120116202732"/>

	<meta property="article:published_time" content="20120116202732"/>

	<meta property="article:modified_time" content="20120116202732"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Legacy:Merging_Configuration_Items_(CI)"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Legacy_Merging_Configuration_Items_CI rootpage-Legacy_Merging_Configuration_Items_CI skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Legacy%253AMerging+Configuration+Items+%2528CI%2529.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Legacy%253AMerging+Configuration+Items+%2528CI%2529&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, 0]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (500 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Merging Configuration Items (CI)</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
Legacy:Merging Configuration Items (CI)</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="noprint">
<table class="topicbox">

<tr>
<th> <b><a href="index.php%3Ftitle=Discovery_CI_Consolidation_Plugin.html" title="Discovery CI Consolidation Plugin" class="mw-redirect">Discovery CI Consolidation Plugin</a></b>
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Using_Discovery_CI_Consolidation.html" title="Using Discovery CI Consolidation" class="mw-redirect">Using Discovery CI Consolidation</a> </li>
<li><a href="index.php%3Ftitle=Using_Duplicate_CI_Finders.html" title="Using Duplicate CI Finders" class="mw-redirect">Using Duplicate CI Finders</a> </li>
<li><a href="index.php%3Ftitle=Using_a_Configuration_Item_(CI)_Delete_Action.html" title="Using a Configuration Item (CI) Delete Action" class="mw-redirect">Using a Configuration Item (CI) Delete Action</a> </li>
<li><a href="index.php%3Ftitle=Merging_Configuration_Items_(CI).html" title="Merging Configuration Items (CI)" class="mw-redirect">Merging Configuration Items (CI)</a> </li>
<li><a href="index.php%3Ftitle=Using_the_CI_Script_Action.html" title="Using the CI Script Action" class="mw-redirect">Using the CI Script Action</a></li></ul>
</td></tr>
<tr>
<th> Related Topics
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Getting_Started_with_Agentless_Discovery.html" title="Getting Started with Agentless Discovery">Discovery</a></li>
<li><a href="index.php%3Ftitle=ECC_Queue.html" title="ECC Queue">ECC Queue</a></li>
<li><a href="index.php%3Ftitle=Database_Catalogs.html" title="Database Catalogs">Database Catalogs</a></li></ul>
</td></tr></table>
</div>
<p><br /> 
</p>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(68, 68, 68); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(230, 230, 230);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Obsolete.gif.html" class="image" title="Obsolete"><img alt="Obsolete" src="images/d/d9/Obsolete.gif" width="20" height="20" /></a></div>
</td>
<td width="100%"> Functionality described here is obsolete since the <a href="index.php%3Ftitle=Winter_2010_Release_Notes.html" title="Winter 2010 Release Notes"><b>Winter 2010</b></a> release and has been replaced by <a href="index.php%3Ftitle=Discovery_Identifiers.html" title="Discovery Identifiers">Discovery Identifiers</a>.
</td></tr></table>
<table cellspacing="5" cellpadding="5" style="border: 2px solid #FFCC66; width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top;">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="Warning"><img alt="Warning" src="images/thumb/4/4f/Caution-diamond.png/30px-Caution-diamond.png" width="30" height="30" srcset="/images/thumb/4/4f/Caution-diamond.png/45px-Caution-diamond.png 1.5x, /images/4/4f/Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Warning:</b> Do not install this plugin. It interferes with the current functionality.
</td></tr></table>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#Details"><span class="tocnumber">2</span> <span class="toctext">Details</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#Merging_Related_Lists"><span class="tocnumber">3</span> <span class="toctext">Merging Related Lists</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#Merge_Mode"><span class="tocnumber">3.1</span> <span class="toctext">Merge Mode</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html#Understanding_the_Merge_Related_List_script"><span class="tocnumber">3.2</span> <span class="toctext">Understanding the Merge Related List script</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>Merge actions combine the data from one CI with the data from another.&#160; Merge actions always merge the data that's in the CI's record.&#160; They may also merge data in any or all related list records associated with the CIs (either adding the records from one CI to those in the other, or replacing the records in one CI from those in the other). 
</p><p>For example, suppose that your consolidator needs to merge the source CI into the target CI.&#160; The data actually in the source CI's record (name, manufacturer, model, disk space, etc.) will all be copied to the target CI's record.&#160; In addition, though, you might want the source CI's disks (a related list) to replace any disks on the target CI, and you'd probably like the source CI's tasks (which would include incidents) to be added to any tasks on the target CI.&#160; A merge action can be configured to do exactly that, and much more. 
</p>
<h1><span class="mw-headline" id="Details"><span class="mw-headline-number">2</span> Details</span></h1>
<p>When you create or modify a merge action, you'll see a form like the one below.&#160; Just underneath the form, you'll see a link: <i>Add Standard Related Lists</i>.&#160; If you click on this link, the most commonly used Merge Related Lists will be added automatically (if they're not already there). The <i>Merge Action</i> form in detail:<br /> 
</p><p><a href="index.php%3Ftitle=File:DCICMergeAction.png.html" class="image"><img alt="DCICMergeAction.png" src="images/0/04/DCICMergeAction.png" width="782" height="561" /></a> 
</p><p>The fields on this form: 
</p>
<ul><li><b><u>Direction</u></b>. This can be either <i>Source-to-Target</i> (to merge data from the source CI into the target CI)or <i>Target-to-Source</i> (to merge data from the target CI into the source CI). </li>
<li><u><b>Order</b></u>. An integer value that controls the order in which consolidator actions run.&#160; Actions with smaller order values run earlier, actions with larger order values run later. </li>
<li><b><u>Active</u></b>. If checked, this merge action will run when the consolidator runs.&#160; If not checked, the merge action will <i>not</i> run. </li>
<li><b><u>Description</u></b>.&#160; This is here for your benefit; the merge action makes no use of it.</li></ul>
<h1><span class="mw-headline" id="Merging_Related_Lists"><span class="mw-headline-number">3</span> Merging Related Lists</span></h1>
<p>Each entry in this list defines a single related list that will be merged when CIs are merged. The entries also specify exactly how the merge should be accomplished. When you drill into one of these entries, you'll get a form like this one: 
</p><p><a href="index.php%3Ftitle=File:MergeRelatedList.png.html" class="image"><img alt="MergeRelatedList.png" src="images/1/1a/MergeRelatedList.png" width="833" height="391" /></a> 
</p><p>The Merge Related Lists form provides the following fields: 
</p><p><br /> 
</p>
<table width="1100px" cellspacing="1" cellpadding="3" border="1">

<tr>
<td width="90px" bgcolor="#dfdbdc"> <b>Field</b>
</td>
<td bgcolor="#dfdbdc"> <b>Input Value</b>
</td></tr>
<tr>
<td>  Applies To
</td>
<td>  Choose what kind of CI you want to merge a particular related list for. This also controls what choices appear in the <i>Related List</i> field chooser. All of the extensions of the choice you make here are also included. In the example's case, the choice of <i>Computer</i> also includes its extensions <i>Windows Server</i>, <i>Solaris Server,</i> etc. Choosing <i>Configuration Item</i> in this field chooses all CI types. The string enclosed in square brackets is the actual table name.
</td></tr>
<tr>
<td>  Related List
</td>
<td>  Choose the specific related list you want to merge. Which choices are available to you in the chooser are determined by the <i>Applies To</i> field. For instance, if the <i>Applies To</i> field is set to UPS, then Running Processes will not appear in the <i>Related List</i> chooser (because running processes are related to computers, not UPSs). The parenthesized term is the name of the field in the related list that refers to the CI. Note that for a many-to-many relationship (such as with <i>Installed Software</i> or <i>CI Relations</i>), the related list here will be the many-to-many table, not the table the CI has a relationship with.
</td></tr>
<tr>
<td>  Merge mode
</td>
<td>  Choose <b>Replace<i>or</i></b><i>Add'</i>. See the section <i>Merge Mode</i> below for details.
</td></tr>
<tr>
<td>  Active
</td>
<td>  If checked, this related list will be merged when this action is run.
</td></tr>
<tr>
<td>  Script
</td>
<td>  An optional script that is run for each item (record) of the merge source's related list as it is being merged. Most of the time you will not need any script here, and you can just leave this field blank. If you supply a script, the return value of the function determines whether the item will be merged or not: a <i>true</i> value means the item will be merged, a <i>false</i> value that it will not. See the section below for more details.
</td></tr></table>
<h2><span class="mw-headline" id="Merge_Mode"><span class="mw-headline-number">3.1</span> Merge Mode</span></h2>
<p>The Merge Mode for a related list determines exactly how the source's related list items are merged into the target's related list items. There are just two choices: 
</p>
<ul><li><u><b>Replace</b></u>. All of the merge target's entries for this related list are replaced by the entries from the merge source, as shown in this table that shows what happens when you merge two Windows Computer CIs in <i>replace</i> mode:</li></ul>
<p><br /> 
</p>
<table width="80%" cellspacing="0" cellpadding="5" border="1">

<tr>
<td>
</td>
<td bgcolor="#eeeeee" align="center"> Merge Source
</td>
<td bgcolor="#eeeeee" align="center"> Merge Target
</td></tr>
<tr>
<td bgcolor="#eeeeee" align="center"> Before Merging:
</td>
<td align="center"> A:, B:
</td>
<td align="center"> B:, C:
</td></tr>
<tr>
<td bgcolor="#eeeeee" align="center"> After Merging:
</td>
<td align="center">
</td>
<td align="center"> A:, B:
</td></tr></table>
<p><br /> 
</p>
<ul><li><u><b>Add</b></u>. The merge source's entries for this related list are added to those that the merge target already has.&#160; Using the same example as above, here's a table showing what happens when you merge the same two CIs in <i>add</i> mode:</li></ul>
<p><br /> 
</p>
<table width="80%" cellspacing="0" cellpadding="5" border="1">

<tr>
<td>
</td>
<td bgcolor="#eeeeee" align="center"> Merge Source
</td>
<td bgcolor="#eeeeee" align="center"> Merge Target
</td></tr>
<tr>
<td bgcolor="#eeeeee" align="center"> Before Merging:
</td>
<td align="center"> A:, B:
</td>
<td align="center"> B:, C:
</td></tr>
<tr>
<td bgcolor="#eeeeee" align="center"> After Merging:
</td>
<td align="center">
</td>
<td align="center"> A:, B:, B:, C:
</td></tr></table>
<p><br /> 
</p><p>Note that the merge target ends up with two <b>B:\</b> drives. Use add mode very carefully, and be certain either that duplicates cannot arise, or that duplicates don't matter. If you run into a situation where you must use add mode, but you need to get rid of duplicates, then you'll need a script action that runs before the merge action. In that script action, your script can find and remove duplicates from the merge source. However, there is one case in which duplicate entries are removed automatically: that's when the related list you're merging is a many-to-many list. In this case, CI Consolidation detects and removes all duplicates automatically. There are two many-to-many lists you're quite likely to be merging: CI Relations, and Software Installed. This automatic duplicate elimination is particularly useful for the former, where you are likely to want to use add mode. 
</p>
<h2><span class="mw-headline" id="Understanding_the_Merge_Related_List_script"><span class="mw-headline-number">3.2</span> Understanding the Merge Related List script</span></h2>
<p>The example above shows a working example of a merge related list script, and the plug-in supplies some further examples.&#160; The first thing to understand are the function parameters: 
</p><p><br /> 
</p>
<table width="1100px" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#dfdbdc"> <b>Parameter</b>
</td>
<td bgcolor="#dfdbdc"> <b>Description</b>
</td></tr>
<tr>
<td>  consolidator
</td>
<td>  Contains an instance of <i>CIConsolidator</i>, which has some useful methods and properties (see the code in <i>Discovery Definition &gt; Script Includes</i> for details). Probably the most useful method is <i>abort()</i>, which aborts the consolidator at the point when it was invoked. This method is used in the example above.
</td></tr>
<tr>
<td>  action
</td>
<td>  Contains an instance of <i>CIC MergeAction</i>, which has some useful methods and properties (see the code in <i>Discovery Definition &gt; Script Includes</i> for details).
</td></tr>
<tr>
<td>  merger
</td>
<td>  Contains an instance of <i>CIC MergeRelatedList</i>, which has some useful methods and properties (see the code in <i>Discovery Definition &gt; Script Includes</i> for details). One such property is <i>log</i>, which allows you to write messages to the CI Consolidation log (see <i>Discovery Definition &gt; CI Consolidation Log</i>). This object has three methods (<i>info</i>, <i>warn</i>, and <i>error</i>), each of which has a single parameter for the message. A useful method on this object is <i>debug</i>. This method allows you to write code like <span style="font-style: italic;">merger</span><i>.debug("my debugging message")</i>, which will write messages to the CI Consolidation log only if the <i>CI Consolidation Debugging</i> property is active (see <i>Discovery Definition &gt; Properties</i>). The sample script above has an example of debug logging.
</td></tr>
<tr>
<td>  list
</td>
<td>  Contains an instance of <i>CIRelatedList</i>, initialized for the merge source's related list. This object contains properties and methods that are most useful if your script needs to work with a many-to-many related list, and especially if it needs to access the table the CI is related to. For many-to-many lists, the records in this object are those of the many-to-many table, <i>not</i> the table the CI is actually related to. For details on <i>CIRelatedList</i>, see <i>Discovery Definition &gt; Script Includes</i>, under CI Consolidation.
</td></tr>
<tr>
<td>  item
</td>
<td>  A hashmap (in other words, a JavaScript object) of the item (record) being merged. You can get the value of any field in the item simply by writing <b>item.name</b>, where <i>name</i> is the name of the field. The value returned is always a string.
</td></tr>
<tr>
<td>  source
</td>
<td>  A hashmap (JavaScript object) of the just-discovered CI's record. For fields in the CI's form (as opposed to a related list record), you can get the value simply by writing <span style="font-style: italic; font-family: courier,sans;">source.name</span>, where “name” is the name of any field. The value returned is always a string. The example script uses this twice: once to get the <i>sys_id</i> value, and again to get the <i>serial_number</i> value. Records from any related list specified in <i>Discovery Definition &gt; CI Related Lists</i> are also available, though the syntax is a little more complicated. For example, suppose your finder needed to get access to all the serial numbers captured for a computer. If you've specified the serial number related list in <i>CI Related Lists</i>, you'll see that its related list name is <b>cmdb_serial_number:cmdb_ci</b>. This becomes a field name on the source object, so you can write <i>source.cmdb_serial_number</i> in your script, which will return an instance of <i>CIRelatedList</i> for that list. That class has several properties and methods (see <i>Discovery Definition &gt; Script Includes</i>, under CI Consolidation, for details). For example, you might write <b>source.cmdb_serial_number:cmdb_ci.records</b> in your script, which would return an array of hashmaps, each of which represents one record in the serial number table.
</td></tr>
<tr>
<td>  destination
</td>
<td>  A hashmap of the merge target, exactly like the <i>source</i>.
</td></tr>
<tr>
<td>  changes
</td>
<td>  A hashmap, initially empty. If your script needs to change the value of any field in the item, store the new value of the field in this hashmap, in a property named the same as the field you need to change.&#160; For example, if your script needs to change the value of the <i>name</i> field to <i>bozo</i>, you'd write a script line like this: <i>changes['name'] = 'bozo';</i>
</td></tr></table>
<p><br /> The rest of what happens inside your script action is entirely up to you. The example above tests a disk item to see if it refers to a hard disk (rather than a CD, NFS mount, etc.).&#160; Only those items that are a disk are merged.<br />
</p>
<!-- 
NewPP limit report
Cached time: 20171203005321
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.291 seconds
Real time usage: 0.359 seconds
Preprocessor visited node count: 69/1000000
Preprocessor generated node count: 294/1000000
Post‐expand include size: 2700/2097152 bytes
Template argument size: 917/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   71.099      1 - -total
 72.24%   51.361      1 - Template:CI_Consolidation
 58.96%   41.920      1 - Template:Topic
 14.13%   10.044      1 - Template:Obsolete
 11.17%    7.939      1 - Template:Warning
 10.43%    7.416      1 - Embedded:CI_Consolidation
  9.74%    6.922      2 - Template:T
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:4234-0!*!0!1!en!5!* and timestamp 20171203005321 and revision id 100284
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html">http://wiki.servicenow.com/index.php?title=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284</a>"</div>
					<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_4234"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="4234" data-vote-the-vote="5" data-vote-id="4234" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_4234_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="4234" data-vote-the-vote="1" data-vote-id="4234" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_4234_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI).html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.servicenow.com/index.php?title=Special:CreateAccount&amp;returnto=Legacy%3AMerging+Configuration+Items+%28CI%29&amp;returntoquery=oldid%3D100284" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.servicenow.com/index.php?title=Special:UserLogin&amp;returnto=Legacy%3AMerging+Configuration+Items+%28CI%29&amp;returntoquery=oldid%3D100284" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Legacy:Merging_Configuration_Items_(CI).html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Legacy%253AMerging+Configuration+Items+%2528CI%2529.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Legacy%253AMerging+Configuration+Items+%2528CI%2529&amp;returnto=Legacy%253AMerging+Configuration+Items+%2528CI%2529&amp;oldid=100284&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FLegacy:Merging_Configuration_Items_(CI).html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="http://wiki.servicenow.com/index.php?title=Special:RecentChangesLinked/Legacy:Merging_Configuration_Items_(CI)" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;oldid=100284.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Legacy:Merging_Configuration_Items_(CI)&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 20:27, 16 January 2012.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":607});});</script></body></html>

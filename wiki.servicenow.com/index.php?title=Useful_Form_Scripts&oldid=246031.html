<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Useful Form Scripts - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Useful_Form_Scripts","wgTitle":"Useful Form Scripts","wgCurRevisionId":246031,"wgRevisionId":246031,"wgArticleId":6121,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Useful Scripts","Client APIs","Form Customization Scripts"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Useful_Form_Scripts","wgRelevantArticleId":6121,"wgRequestId":"f4638533993490f31804df65","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="http://wiki.servicenow.com/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20150420202453"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Useful_Form_Scripts"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Useful Form Scripts"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Form Customization Scripts"/>
<meta name="category" content="Form Customization Scripts"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Useful_Form_Scripts.html" />

	<meta property="og:title" content="ServiceNow Wiki:Useful Form Scripts"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20150420202453"/>

	<meta property="article:published_time" content="20150420202453"/>

	<meta property="article:modified_time" content="20150420202453"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Form Customization Scripts"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Useful_Form_Scripts"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Useful_Form_Scripts rootpage-Useful_Form_Scripts skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Useful+Form+Scripts.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Useful+Form+Scripts&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, 0]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (31 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Useful Form Scripts</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
Useful Form Scripts</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This is a searchable version of the Useful Form Customization Scripts. For an easy-to-navigate version, visit the Useful Scripts portal. 
</p>
<hr />
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji and earlier releases. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/script/general-scripting/reference/r_GlideClassOverview.html">Glide Class Overview</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p><b>The ServiceNow Wiki is no longer being updated. Visit <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.</b>
</p>
</td></tr></table>
<p><br />
</p>
<div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Client_Scripts.html" title="Client Scripts">Client Scripting</a>
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Client_Scripts.html" title="Client Scripts">Client Scripts</a></li>
<li><a href="index.php%3Ftitle=Client_Script_Best_Practices.html" title="Client Script Best Practices">Client Script Best Practices</a></li>
<li><a href="index.php%3Ftitle=Display_Field_Messages.html" title="Display Field Messages">Display Field Messages</a></li>
<li><a href="index.php%3Ftitle=Sleeps,_Delays,_or_Waits_in_Client_Scripts.html" title="Sleeps, Delays, or Waits in Client Scripts">Sleeps, Delays, or Waits in Client Scripts</a></li>
<li><a href="index.php%3Ftitle=Mobile_Client_GlideForm_(g_form)_Scripting.html" title="Mobile Client GlideForm (g form) Scripting">Mobile Client GlideForm (g form) Scripting</a></li>
<li>Client-side API
<ul><li><a href="index.php%3Ftitle=GlideForm_(g_form).html" title="GlideForm (g form)">GlideForm (g form)</a></li>
<li><a href="index.php%3Ftitle=Mobile_GlideForm_(g_form)_API_Reference.html" title="Mobile GlideForm (g form) API Reference"> Mobile GlideForm (g form)</a></li>
<li><a href="index.php%3Ftitle=GlideUser_(g_user).html" title="GlideUser (g user)">GlideUser (g user)</a></li>
<li><a href="index.php%3Ftitle=GlideAjax.html" title="GlideAjax">GlideAjax</a></li>
<li><a href="index.php%3Ftitle=GlideMenu_(g_menu_and_g_item).html" title="GlideMenu (g menu and g item)">GlideMenu (g menu and g item)</a></li>
<li><a href="index.php%3Ftitle=GlideList2_(g_list).html" title="GlideList2 (g list)">GlideList2 (g_list)</a></li></ul></li></ul>
</td></tr>
<tr>
<th> Related Topics
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Creating_a_Catalog_Client_Script.html" title="Creating a Catalog Client Script">Catalog Client Scripts</a> </li>
<li><a href="index.php%3Ftitle=Client_Script_Access_to_Variable_Fields_on_Task_Records.html" title="Client Script Access to Variable Fields on Task Records">Client Script Access to Variable Fields on Task Records</a></li></ul>
</td></tr></table>
</div>
<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>GlideForm.js is the Javascript class used to customize forms.  
</p>
<ul><li>g_form is a global object in the GlideForm class.</li>
<li>GlideForm.js and g_form are <i><b>only</b></i> used on the client (for instance, the web browser). </li></ul>
<p>g_form accesses:
</p>
<ul><li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Display_Settings_Methods" title="GlideForm (g form)">Display Settings</a> </li>
<li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Field_Information_Methods" title="GlideForm (g form)">Field Information</a> </li>
<li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Change_Field_Methods" title="GlideForm (g form)">Change Field</a></li>
<li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Change_Choice_List_Methods" title="GlideForm (g form)">Change Choice List</a> </li>
<li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Form_Information_Methods" title="GlideForm (g form)">Form Information</a> </li>
<li><a href="index.php%3Ftitle=GlideForm_(g_form).html#Form_Action_Methods" title="GlideForm (g form)">Form Action</a></li></ul>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i> The methods <tt>getControl()</tt>, <tt>getElement()</tt>, and <tt>getFormElement()</tt> are deprecated for mobile devices. For more information on using GlideForm for mobile, see <a href="index.php%3Ftitle=Mobile_Client_GlideForm_(g_form)_Scripting.html" title="Mobile Client GlideForm (g form) Scripting">Mobile Client GlideForm (g form) Scripting</a>.</i>
</td></tr></table>
<h2><span class="mw-headline" id="Where_To_Use"><span class="mw-headline-number">1.1</span> Where To Use</span></h2>
<p>These methods are used to make custom changes to the form view of records.  All validation of examples was done using Client Scripts.
</p><p>Some of these methods can also be used in other client scripts (such as Catalog Client Scripts or Wizard Client Scripts), but must first be tested to determine whether they will work as expected.
</p>
<h1><span class="mw-headline" id="Enhancements"><span class="mw-headline-number">2</span> Enhancements</span></h1>
<h2><span class="mw-headline" id="Fuji"><span class="mw-headline-number">2.1</span> Fuji</span></h2>
<ul><li>New methods are available for getting and setting field labels, and for adding and removing field label icons.</li></ul>
<h1><span class="mw-headline" id="Display_Settings"><span class="mw-headline-number">3</span> Display Settings</span></h1>
<table width="79%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#addDecoration" title="GlideForm (g form)">addDecoration</a></b>(<tt>fieldName, icon, title</tt>)
<dl><dd>Adds an icon on a field’s label. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#flash" title="GlideForm (g form)">flash</a></b>(<tt>widgetName, color, count</tt>)
<dl><dd>Flashes the specified color the specified number of times.  Used to draw attention to a particular field.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getLabelOf" title="GlideForm (g form)">getLabelOf</a></b>(<tt>fieldname</tt>)
<dl><dd>Gets the plain text value of the field label. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#hideAllFieldMsgs" title="GlideForm (g form)">hideAllFieldMsgs</a></b>(<tt>[type]</tt>)
<dl><dd>Hides all field messages.  </dd></dl>
<dl><dd><b>Optional</b>: Provide type to clear only "info" or "error" messages.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#hideErrorBox" title="GlideForm (g form)">hideErrorBox</a></b>(<tt>input</tt>)
<dl><dd>Hides the error message placed by showErrorBox().</dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use hideFieldMsg rather than this method whenever possible.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#hideFieldMsg" title="GlideForm (g form)">hideFieldMsg</a></b>(<tt>input, [clearAll]</tt>)
<dl><dd>Hides the message placed by showFieldMsg().</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#hideRelatedList" title="GlideForm (g form)">hideRelatedList</a></b>(<tt>listTableName</tt>)
<dl><dd>Hides the specified related list on the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#hideRelatedLists" title="GlideForm (g form)">hideRelatedLists</a></b>(<tt></tt>)
<dl><dd>Hides all related lists on the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#removeDecoration" title="GlideForm (g form)">removeDecoration</a></b>(<tt>fieldName, icon, title</tt>)
<dl><dd>Removes the icon that matches the exact same name and text. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setDisplay" title="GlideForm (g form)">setDisplay</a></b>(<tt>fieldName, boolean</tt>)
<dl><dd>Displays the field if true.  Hides the field if false.  If the field is hidden, the space is reclaimed.</dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setLabelOf" title="GlideForm (g form)">setLabelOf</a></b>(<tt>fieldname, label</tt>)
<dl><dd>Sets the plain text value of the field label. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setVisible" title="GlideForm (g form)">setVisible</a></b>(<tt>fieldName, boolean</tt>)
<dl><dd>Displays the field if true.  Hides the field if false.  If the field is hidden, the space is left blank.</dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#showErrorBox" title="GlideForm (g form)">showErrorBox</a></b>(<tt>input, message, [scrollForm]</tt>)
<dl><dd>Displays an error message under the specified form field (either a control object or the name of the field).  If the control or field is currently scrolled off the screen, it will be scrolled to.</dd></dl>
<dl><dd><b>Optional</b>: Set scrollForm to false to prevent scrolling to the error message offscreen. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#showFieldMsg" title="GlideForm (g form)">showFieldMsg</a></b>(<tt>input, message, type, [scrollForm]</tt>)
<dl><dd>Displays either an informational or error message under the specified form field (either a control object or the name of the field). Type may be either "info" or "error." If the control or field is currently scrolled off the screen, it will be scrolled to.  </dd></dl>
<dl><dd><b>Optional</b>: Set scrollForm to false to prevent scrolling to the field message offscreen. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#showRelatedList" title="GlideForm (g form)">showRelatedList</a></b>(<tt>listTableName</tt>)
<dl><dd>Displays the specified related list on the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#showRelatedLists" title="GlideForm (g form)">showRelatedLists</a></b>(<tt></tt>)
<dl><dd>Displays all related lists on the form.</dd></dl>
</td></tr></table>
<h1><span class="mw-headline" id="Field_Information"><span class="mw-headline-number">4</span> Field Information</span></h1>
<table width="80%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> Boolean
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getBooleanValue" title="GlideForm (g form)">getBooleanValue</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns false if the field's value is false or undefined, otherwise true is returned.</dd>
<dd>Useful with checkbox fields. Returns true when the checkbox is checked.</dd></dl>
</td></tr>
<tr>
<td width="90px"> HTMLElement
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getControl" title="GlideForm (g form)">getControl</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns the HTML element for the specified field.  Compound fields may contain several HTML elements.</dd></dl>
<dl><dd>Generally not necessary as there are built-in methods that use the fields on the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> HTMLElement
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getElement" title="GlideForm (g form)">getElement</a></b>(<tt>id</tt>)
<dl><dd>Returns the HTML element for the field specified via the ID.  Compound fields may contain several HTML elements.</dd></dl>
<dl><dd>Generally not necessary as there are built-in methods that use the fields on the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> int
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getIntValue" title="GlideForm (g form)">getIntValue</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns the value of the specified field as an integer.  An empty value returns 0.</dd></dl>
</td></tr>
<tr>
<td width="90px"> HTMLElement
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getOption" title="GlideForm (g form)">getOption</a></b>(<tt>fieldName, choiceValue</tt>)
<dl><dd>Returns the &lt;option&gt; element for a select box named fieldName and where choiceValue matches the option value.</dd></dl>
<dl><dd>Returns null if the field is not found or the option is not found.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getReference" title="GlideForm (g form)">getReference</a></b>(<tt>fieldName, callback</tt>)
<dl><dd>Returns the GlideRecord for a specified field.</dd></dl>
<dl><dd>getReference() accepts a second parameter, a callback function.</dd></dl>
<dl><dd><b>Warning:</b> This requires a call to the server so using this function will require additional time and may introduce latency to your page.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getDecimalValue" title="GlideForm (g form)">getDecimalValue</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns the decimal value of the specified field.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getValue" title="GlideForm (g form)">getValue</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns the value of the specified field.</dd></dl>
</td></tr>
<tr>
<td width="90px"> boolean
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#isMandatory" title="GlideForm (g form)">isMandatory</a></b>(<tt>fieldName</tt>)
<dl><dd>Returns true if the field is required. Returns false if the field is optional.</dd></dl>
</td></tr></table>
<h1><span class="mw-headline" id="Change_Field"><span class="mw-headline-number">5</span> Change Field</span></h1>
<table width="80%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#clearValue" title="GlideForm (g form)">clearValue</a></b>(<tt>fieldName</tt>)
<dl><dd>Removes any value(s) from the specified field.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setDisabled" title="GlideForm (g form)">setDisabled</a></b>(<tt>fieldName, boolean</tt>)
<dl><dd>Grays out field and makes it unavailable.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setMandatory" title="GlideForm (g form)">setMandatory</a></b>(<tt>fieldName, boolean</tt>)
<dl><dd>Makes the field required if true.  Makes the field optional if false.</dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setReadOnly" title="GlideForm (g form)">setReadOnly</a></b>(<tt>fieldName, boolean</tt>)
<dl><dd>Makes the field read-only if true.  Makes the field editable if false.</dd></dl>
<dl><dd><b>Note</b>:  Both <b>setReadOnly</b> and <b>setReadonly</b> are functional.</dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setValue" title="GlideForm (g form)">setValue</a></b>(<tt>fieldName, value, displayValue</tt>)
<dl><dd>Sets the value and the display value of a field. Will display value if there is no displayValue. To improve performance by preventing a round trip, include a display value in addition to the value.</dd></dl>
<p><i>Note:</i> setValue can cause a stack overflow when used in an OnChange client script. This is because every time the value is set, it will register as a change, which may re-trigger the OnChange client script. To prevent this, perform a check that will validate that the new value will be different from the old value. For example, before performing <tt>setValue(fieldName, newValue.toUpperCase());</tt>, validate that the short description is not already uppercase. This will prevent the Client Script from applying the <tt>toUpperCase()</tt> more than once.
</p>
</td></tr></table>
<h1><span class="mw-headline" id="Change_Choice_List"><span class="mw-headline-number">6</span> Change Choice List</span></h1>
<table width="80%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#addOption" title="GlideForm (g form)">addOption</a></b>(<tt>fieldName, choiceValue, choiceLabel, [choiceIndex]</tt>)
<dl><dd>Adds a choice to a choice list field.  If the index is not specified, the choice is added to the end of the list.</dd></dl>
<dl><dd><b>Optional</b>: Use the index field to specify a particular place in the list. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#clearOptions" title="GlideForm (g form)">clearOptions</a></b>(<tt>fieldName</tt>)
<dl><dd>Removes all options from a choice list.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#removeOption" title="GlideForm (g form)">removeOption</a></b>(<tt>fieldName, choiceValue</tt>)
<dl><dd>Removes a specific option from a choice list.</dd></dl>
</td></tr></table>
<h1><span class="mw-headline" id="Form_Information"><span class="mw-headline-number">7</span> Form Information</span></h1>
<table width="80%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getActionName" title="GlideForm (g form)">getActionName</a></b>(<tt></tt>)
<dl><dd>Returns the most recent action name or, for a client script, the sys_id of the UI Action clicked. <b>Note:</b> not available to Wizard Client Scripts.</dd></dl>
</td></tr>
<tr>
<td width="90px"> HTMLElement
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getFormElement" title="GlideForm (g form)">getFormElement</a></b>(<tt></tt>)
<dl><dd>Returns the HTML element for the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getSectionNames" title="GlideForm (g form)">getSectionNames</a></b>(<tt></tt>)
<dl><dd>Returns all section names, whether visible or not, in an array. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getSections" title="GlideForm (g form)">getSections</a></b>(<tt></tt>)
<dl><dd>Returns the elements for the form's sections in an array.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getTableName" title="GlideForm (g form)">getTableName</a></b>(<tt></tt>)
<dl><dd>Returns the name of the table this record belongs to.</dd></dl>
</td></tr>
<tr>
<td width="90px"> string
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getUniqueValue" title="GlideForm (g form)">getUniqueValue</a></b>(<tt></tt>)
<dl><dd>Returns the sys_id of the record displayed in the form.</dd></dl>
</td></tr>
<tr>
<td width="90px"> boolean
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#isNewRecord" title="GlideForm (g form)">isNewRecord</a></b>(<tt></tt>)
<dl><dd>Returns true if the record has never been saved. Returns false if the record has been saved.</dd></dl>
</td></tr>
<tr>
<td width="90px"> boolean
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#isSectionVisible" title="GlideForm (g form)">isSectionVisible</a></b>(<tt>sectionName</tt>)
<dl><dd>Returns true if the section is visible. Returns false if the section is not visible or does not exist. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr></table>
<h1><span class="mw-headline" id="Form_Action"><span class="mw-headline-number">8</span> Form Action</span></h1>
<table width="80%" cellspacing="1" cellpadding="3" border="1">

<tr>
<td bgcolor="#ccccff" colspan="2"><b><div style="font-size:14pt;line-height:18pt;">Method Summary</div></b>
</td></tr>
<tr>
<td bgcolor="#dfdbdc"> <b>Return Value</b>
</td>
<td bgcolor="#dfdbdc"> <b>Details</b>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#addErrorMessage" title="GlideForm (g form)">addErrorMessage</a></b>(<tt>message</tt>)
<dl><dd>Displays an error message at the top of the form.  </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#addInfoMessage" title="GlideForm (g form)">addInfoMessage</a></b>(<tt>message</tt>)
<dl><dd>Displays an informational message at the top of the form. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#clearMessages" title="GlideForm (g form)">clearMessages</a></b>()
<dl><dd>Removes messages that were previously added with <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#addErrorMessage">addErrorMessage()</a> and <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#addInfoMessage">addInfoMessage()</a>. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#enableAttachments" title="GlideForm (g form)">enableAttachments</a></b>()
<dl><dd>Allows new file attachments to be added.  Shows the paperclip icon. See also: <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#disableAttachments">disableAttachments()</a>. </dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#disableAttachments" title="GlideForm (g form)">disableAttachments</a></b>(<tt></tt>)
<dl><dd>Prevents new file attachments from being added.  Hides the paperclip icon. See also: <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#enableAttachments">enableAttachments()</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#save" title="GlideForm (g form)">save</a></b>(<tt></tt>)
<dl><dd>Saves the record without navigating away from the record (update and stay).</dd></dl>
</td></tr>
<tr>
<td width="90px"> boolean
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#setSectionDisplay" title="GlideForm (g form)">setSectionDisplay</a></b>(<tt>sectionName, display</tt>)
<dl><dd>Shows or hides a section. Works in both tab and flat modes. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
</td></tr>
<tr>
<td width="90px"> void
</td>
<td>  <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#submit" title="GlideForm (g form)">submit</a></b>(<tt></tt>)
<dl><dd>Saves the record.  User will be taken away from the form, returning them to where they were previously.</dd></dl>
</td></tr></table>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Display_Settings_Methods"><span class="mw-headline-number">9</span> Display Settings Methods</span></h1>
<h2><span class="mw-headline" id="addDecoration"><span class="mw-headline-number">9.1</span> addDecoration</span></h2>
<p>void addDecoration(<tt>fieldName, icon, title</tt>)<br /> 
</p>
<dl><dd>Adds an icon on a field’s label. Adding the same item twice is prevented; however, you can add the same icon with a different title. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
<dl><dd><table class="collapsible collapsed">
<tr>
<th> Click the plus to view the supported icons.
</th></tr>
<tr>
<td>
<ul><li>icon-user</li>
<li>icon-user-group</li>
<li>icon-lightbulb</li>
<li>icon-home</li>
<li>icon-mobile</li>
<li>icon-comment</li>
<li>icon-mail</li>
<li>icon-locked</li>
<li>icon-database</li>
<li>icon-book</li>
<li>icon-drawer</li>
<li>icon-folder</li>
<li>icon-catalog</li>
<li>icon-tab</li>
<li>icon-cards</li>
<li>icon-tree-right</li>
<li>icon-tree</li>
<li>icon-book-open</li>
<li>icon-paperclip</li>
<li>icon-edit</li>
<li>icon-trash</li>
<li>icon-image</li>
<li>icon-search</li>
<li>icon-power</li>
<li>icon-cog</li>
<li>icon-star</li>
<li>icon-star-empty</li>
<li>icon-new-ticket</li>
<li>icon-dashboard</li>
<li>icon-cart-full</li>
<li>icon-view</li>
<li>icon-label</li>
<li>icon-filter</li>
<li>icon-calendar</li>
<li>icon-script</li>
<li>icon-add</li>
<li>icon-delete</li>
<li>icon-help</li>
<li>icon-info</li>
<li>icon-check-circle</li>
<li>icon-alert</li>
<li>icon-sort-ascending</li>
<li>icon-console</li>
<li>icon-list</li>
<li>icon-form</li>
<li>icon-livefeed</li></ul>
</td></tr></table></dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldname</tt> - The field name.<br /> </dd>
<dd><tt>icon</tt> - The font icon to show next to the field.<br /> </dd>
<dd><tt>title</tt> - The text title for the icon.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt></dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">addDecoration</span><span class="p">(</span><span class="err">‘</span><span class="nx">caller_id</span><span class="err">’</span><span class="p">,</span> <span class="err">‘</span><span class="nx">icon</span><span class="o">-</span><span class="nx">star</span><span class="err">’</span><span class="p">,</span> <span class="err">‘</span><span class="nx">preferred</span> <span class="nx">member</span><span class="err">’</span><span class="p">);</span>
</pre></div>
<tr><td></td></tr></table></dd></dl></dd></dl>
<dl><dd><dl><dd><a href="index.php%3Ftitle=File:AddDecoration_method.png.html" class="image" title="addDecoration_method.png"><img alt="addDecoration_method.png" src="images/9/9e/AddDecoration_method.png" width="259" height="99" /></a><br /></dd></dl></dd></dl>
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This method is not supported by Service Catalog.</i>
</td></tr></table>
<hr />
<h2><span class="mw-headline" id="flash"><span class="mw-headline-number">9.2</span> flash</span></h2>
<p>void flash(<tt>widgetName, color, count</tt>)<br /> 
</p>
<dl><dd>Flashes the specified color the specified number of times in the field. Used to draw attention to a particular field.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>widgetName</tt> - specifies the field with &lt;table name&gt;.&lt;fieldname&gt;.<br /> </dd>
<dd><tt>color</tt> - RGB color or acceptable CSS color like "blue" or "tomato."<br /> </dd>
<dd><tt>count</tt> - integer that determines how long the label will flash.
<dl><dd><dl><dd><ul><li> use 2 for a 1-second flash</li>
<li> use 0 for a 2-second flash</li>
<li> use -2 for a 3-second flash</li>
<li> use -4 for a 4-second flash</li></ul></dd></dl></dd></dl></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt></dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">flash</span><span class="p">(</span><span class="s2">&quot;incident.number&quot;</span><span class="p">,</span> <span class="s2">&quot;#FFFACD&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This method is not supported by Service Catalog.</i>
</td></tr></table>
<hr />
<h2><span class="mw-headline" id="getLabelOf"><span class="mw-headline-number">9.3</span> getLabelOf</span></h2>
<p>String getLabelOf(<tt>fieldname</tt>)<br /> 
</p>
<dl><dd>Gets the plain text value of the field label. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldname</tt> - The field name.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd>The label text.</dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">g_user</span><span class="p">.</span><span class="nx">hasRole</span><span class="p">(</span><span class="s1">&#39;itil&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oldLabel</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getLabelOf</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">);</span>
    <span class="nx">g_form</span><span class="p">.</span><span class="nx">setLabelOf</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="nx">oldLabel</span> <span class="o">+</span> <span class="s1">&#39; (Customer visible)&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<tr><td></td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="hideAllFieldMsgs"><span class="mw-headline-number">9.4</span> hideAllFieldMsgs</span></h2>
<p>void hideAllFieldMsgs(<tt>[type]</tt>)<br /> 
</p>
<dl><dd>Hides all field messages.  </dd></dl>
<dl><dd><b>Optional</b>: Provide type to hide only "info" or "error" messages.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>type</tt> (optional) - info or error.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="hideErrorBox"><span class="mw-headline-number">9.5</span> hideErrorBox</span></h2>
<p>void hideErrorBox(<tt>input</tt>)
</p>
<dl><dd>Hides the error message placed by showErrorBox(). </dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use hideFieldMsg rather than this method whenever possible.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>input</tt> - specifies the name of the field or control.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b>
<dl><dd><tt>void</tt></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="hideFieldMsg"><span class="mw-headline-number">9.6</span> hideFieldMsg</span></h2>
<p>void hideFieldMsg(<tt>input, [clearAll]</tt>)<br /> 
</p>
<dl><dd>Hides the message placed by showFieldMsg(). </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>input</tt> - specifies the name of the field.</dd>
<dd><tt>clearAll (optional)</tt> - boolean parameter indicating whether to clear all messages. If true, all messages for the field will be cleared; if false or empty, only the last message will be removed. </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">hideFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="hideRelatedList"><span class="mw-headline-number">9.7</span> hideRelatedList</span></h2>
<p>void hideRelatedList(<tt>listTableName</tt>)<br /> 
</p>
<dl><dd>Hides the specified related list on the form.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>listTableName</tt> - specifies the name of the related list. Use the list sys_id to hide a list through a relationship. <br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> </dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="hideRelatedLists"><span class="mw-headline-number">9.8</span> hideRelatedLists</span></h2>
<p>void hideRelatedLists(<tt></tt>)<br /> 
</p>
<dl><dd>Hides all related lists on the form. </dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="removeDecoration"><span class="mw-headline-number">9.9</span> removeDecoration</span></h2>
<p>void removeDecoration(<tt>fieldName, icon, title</tt>)<br /> 
</p>
<dl><dd>Removes the icon that matches the exact same name and text. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.<br /></dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - The field name..<br /> </dd>
<dd><tt>fieldName</tt> - The icon to remove.<br /> </dd>
<dd><tt>fieldName</tt> - The text title for the icon.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b><br /> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// if the caller_id field is not present, then we can&#39;t add an icon anywhere</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">hasField</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">))</span>
		<span class="k">return</span><span class="p">;</span>
		
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">newValue</span><span class="p">)</span>
		<span class="k">return</span><span class="p">;</span>
	
	<span class="nx">g_form</span><span class="p">.</span><span class="nx">getReference</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">ref</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">g_form</span><span class="p">.</span><span class="nx">removeDecoration</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">,</span> <span class="s1">&#39;icon-star&#39;</span><span class="p">,</span> <span class="s1">&#39;VIP&#39;</span><span class="p">);</span>
		
		<span class="k">if</span> <span class="p">(</span><span class="nx">ref</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;vip&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span><span class="p">)</span>
			<span class="nx">g_form</span><span class="p">.</span><span class="nx">addDecoration</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">,</span> <span class="s1">&#39;icon-star&#39;</span><span class="p">,</span> <span class="s1">&#39;VIP&#39;</span><span class="p">);</span>			
	<span class="p">});</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This method is not supported by Service Catalog.</i>
</td></tr></table>
<hr />
<h2><span class="mw-headline" id="setDisplay"><span class="mw-headline-number">9.10</span> setDisplay</span></h2>
<p>void setDisplay(<tt>fieldName, boolean</tt>)<br /> 
</p>
<dl><dd>Displays the field if true. Hides the field if false. This method cannot hide mandatory fields with no value.<br /></dd>
<dd>If the field is hidden, the space is used to display other items.<br /></dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field to be displayed or hidden.<br /> </dd>
<dd><tt>boolean</tt> - true to display the field, false to hide the field.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">,</span> <span class="nx">isTemplate</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">//If the page isn&#39;t loading</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//If the new value isn&#39;t blank</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">g_form</span><span class="p">.</span><span class="nx">setDisplay</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>   
      <span class="p">}</span>
      <span class="k">else</span> 
         <span class="nx">g_form</span><span class="p">.</span><span class="nx">setDisplay</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
      <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><dl><dd><b>"Priority" Field Displayed</b></dd></dl></dd></dl>
<dl><dd><dl><dd><a href="index.php%3Ftitle=File:SetDisplayExampleFieldDisplayed.PNG.html" class="image" title="SetDisplayExampleFieldDisplayed.PNG"><img alt="SetDisplayExampleFieldDisplayed.PNG" src="images/5/5a/SetDisplayExampleFieldDisplayed.PNG" width="852" height="265" /></a><br /></dd></dl></dd></dl>
<p><br />
</p>
<dl><dd><dl><dd><b>"Priority" Field Hidden</b></dd></dl></dd></dl>
<dl><dd><dl><dd><a href="index.php%3Ftitle=File:SetDisplayExampleFieldHidden.PNG.html" class="image" title="SetDisplayExampleFieldHidden.PNG"><img alt="SetDisplayExampleFieldHidden.PNG" src="images/b/b0/SetDisplayExampleFieldHidden.PNG" width="854" height="267" /></a></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="setLabelOf"><span class="mw-headline-number">9.11</span> setLabelOf</span></h2>
<p>void setLabelOf(<tt>fieldname, label</tt>)<br /> 
</p>
<dl><dd>Sets the plain text value of the field label. This method is available starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.<br /></dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - The field name.<br /> </dd>
<dd><tt>label</tt> - The field label text.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
This example changes the comments label.
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="k">if</span> <span class="p">(</span><span class="nx">g_user</span><span class="p">.</span><span class="nx">hasRole</span><span class="p">(</span><span class="s1">&#39;itil&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oldLabel</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getLabelOf</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">);</span>
    <span class="nx">g_form</span><span class="p">.</span><span class="nx">setLabelOf</span><span class="p">(</span><span class="s1">&#39;comments&#39;</span><span class="p">,</span> <span class="nx">oldLabel</span> <span class="o">+</span> <span class="s1">&#39; (Customer visible)&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<tr><td></td></tr></table></dd></dl></dd></dl>
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This method is not supported by Service Catalog.</i>
</td></tr></table>
<hr />
<h2><span class="mw-headline" id="setVisible"><span class="mw-headline-number">9.12</span> setVisible</span></h2>
<p>void setVisible(<tt>fieldName, boolean</tt>)<br /> 
</p>
<dl><dd>Displays the field if true.  Hides the field if false.<br /></dd>
<dd>If the field is hidden, the space is left blank. This method cannot hide mandatory fields with no value.<br /></dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field to be displayed or hidden.<br /> </dd>
<dd><tt>boolean</tt> - true to display the field, false to hide the field.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">,</span> <span class="nx">isTemplate</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">//If the page isn&#39;t loading</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//If the new value isn&#39;t blank</span>
      <span class="k">if</span><span class="p">(</span><span class="nx">newValue</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">g_form</span><span class="p">.</span><span class="nx">setVisible</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span> 
      <span class="p">}</span>
      <span class="k">else</span>
         <span class="nx">g_form</span><span class="p">.</span><span class="nx">setVisible</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span> 
      <span class="p">}</span>
   <span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><dl><dd><b>"Priority" Field Displayed</b></dd></dl></dd></dl>
<dl><dd><dl><dd><a href="index.php%3Ftitle=File:SetVisibleExampleFieldDisplayed.PNG.html" class="image" title="SetVisibleExampleFieldDisplayed.PNG"><img alt="SetVisibleExampleFieldDisplayed.PNG" src="images/c/c9/SetVisibleExampleFieldDisplayed.PNG" width="850" height="264" /></a><br /></dd></dl></dd></dl>
<p><br />
</p>
<dl><dd><dl><dd><b>"Priority" Field Hidden</b></dd></dl></dd></dl>
<dl><dd><dl><dd><a href="index.php%3Ftitle=File:SetVisibleExampleFieldHidden.PNG.html" class="image" title="SetVisibleExampleFieldHidden.PNG"><img alt="SetVisibleExampleFieldHidden.PNG" src="images/7/7b/SetVisibleExampleFieldHidden.PNG" width="853" height="268" /></a></dd></dl></dd></dl>
<p><br />
</p><p><br />
</p>
<hr />
<h2><span class="mw-headline" id="showErrorBox"><span class="mw-headline-number">9.13</span> showErrorBox</span></h2>
<p>void showErrorBox(<tt>input, message, [scrollForm]</tt>)<br /> 
</p>
<dl><dd>Displays an error message under the specified form field (either a control object or the name of the field). If the control or field is currently scrolled off the screen, it will be scrolled to.</dd></dl>
<dl><dd>A global property (glide.ui.scroll_to_message_field) is available that controls automatic message scrolling when the form field is offscreen (scrolls the form to the control or field).</dd></dl>
<dl><dd>The showFieldMsg() method is a similar method that requires a "type" parameter.</dd></dl>
<dl><dd><b>Optional</b>: Set scrollForm to false to prevent scrolling to the error message offscreen. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>input</tt> - specifies the name of the field or control.<br /> </dd>
<dd><tt>message</tt> - the message to be displayed.<br /></dd>
<dd><tt>scrollForm</tt> (optional) - true to scroll to message if offscreen, false to prevent this scrolling.<br /></dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Note:</b> The scroll form functionality for <tt>showErrorBox</tt> does not work in CMS with Catalog Items.</dd></dl>
<hr />
<h2><span class="mw-headline" id="showFieldMsg"><span class="mw-headline-number">9.14</span> showFieldMsg</span></h2>
<p>void showFieldMsg(<tt>input, message, type, [scrollForm]</tt>)<br /> 
</p>
<dl><dd>Displays either an informational or error message under the specified form field (either a control object or the name of the field). Type may be either "info" or "error." If the control or field is currently scrolled off the screen, it will be scrolled to.  </dd></dl>
<dl><dd>A global property (glide.ui.scroll_to_message_field) is available that controls automatic message scrolling when the form field is offscreen (scrolls the form to the control or field).</dd></dl>
<dl><dd>The showErrorBox() method is a shorthand method that does not require the "type" parameter.</dd></dl>
<dl><dd><b>Optional</b>: Set scrollForm to false to prevent scrolling to the field message offscreen. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>input</tt> - specifies the name of the field or control.<br /> </dd>
<dd><tt>message</tt> - the message to be displayed.<br /></dd>
<dd><tt>type</tt> - error or info.<br /></dd>
<dd><tt>scrollForm</tt> (optional) - true to scroll to message if offscreen, false to prevent this scrolling.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example - Informational Message:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">showFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">,</span><span class="s1">&#39;Low impact response time can be one week&#39;</span><span class="p">,</span><span class="s1">&#39;info&#39;</span><span class="p">);</span>
</pre></div>
<p><a href="index.php%3Ftitle=File:ShowFieldMsgInfo.PNG.html" class="image" title="Image:showFieldMsgInfo.PNG"><img alt="Image:showFieldMsgInfo.PNG" src="images/9/96/ShowFieldMsgInfo.PNG" width="320" height="49" /></a> 
</p>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example - Error Message:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">showFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">,</span><span class="s1">&#39;Low impact not allowed with High priority&#39;</span><span class="p">,</span><span class="s1">&#39;error&#39;</span><span class="p">);</span>
</pre></div>
<p><a href="index.php%3Ftitle=File:ShowFieldMsgError.PNG.html" class="image" title="Image:showFieldMsgError.PNG"><img alt="Image:showFieldMsgError.PNG" src="images/7/73/ShowFieldMsgError.PNG" width="319" height="49" /></a> 
</p>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="showRelatedList"><span class="mw-headline-number">9.15</span> showRelatedList</span></h2>
<p>void showRelatedList(<tt>listTableName</tt>)<br /> 
</p>
<dl><dd>Displays the specified related list on the form.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>listTableName</tt> - specifies the name of the related list.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt>  </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="showRelatedLists"><span class="mw-headline-number">9.16</span> showRelatedLists</span></h2>
<p>void showRelatedLists(<tt></tt>)<br /> 
</p>
<dl><dd>Displays all related lists on the form. </dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt>  </dd></dl></dd></dl>
<hr />
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Field_Information_Methods"><span class="mw-headline-number">10</span> Field Information Methods</span></h1>
<h2><span class="mw-headline" id="getBooleanValue"><span class="mw-headline-number">10.1</span> getBooleanValue</span></h2>
<p>Boolean getBooleanValue(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns false if the field value is false or undefined, otherwise returns true.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the name of the field.<br /></dd></dl></dd>
<dd><b>Returns:</b><br />  
<dl><dd><tt>Boolean</tt> - the boolean value of the field.<br /></dd></dl></dd></dl>
<h2><span class="mw-headline" id="getControl"><span class="mw-headline-number">10.2</span> getControl</span></h2>
<p>HTMLElement getControl(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns the HTML element for the specified field.  Compound fields may contain several HTML elements.</dd></dl>
<dl><dd>Generally not necessary as there are built-in methods that use the fields on the form.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the name of the field.<br /></dd></dl></dd>
<dd><b>Returns:</b><br />  
<dl><dd><tt>HTMLElement</tt> - the specified HTML element(s).<br /></dd></dl></dd></dl>
<dl><dd><b>Note:</b> If the field is of type reference and the control is a choice list, getControl() may not return control as expected. In this case, use <tt>sys_select.&lt;table name&gt;.&lt;field name&gt;</tt>.</dd></dl>
<hr />
<h2><span class="mw-headline" id="getElement"><span class="mw-headline-number">10.3</span> getElement</span></h2>
<p>HTMLElement getElement(<tt>id</tt>)<br /> 
</p>
<dl><dd>Returns the HTML element for the field specified by the ID.  Compound fields may contain several HTML elements.</dd></dl>
<dl><dd>Generally not necessary as there are built-in methods that use the fields on the form.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>id</tt> - specifies the field ID.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>HTMLElement</tt> - the specified HTML element(s).<br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getIntValue"><span class="mw-headline-number">10.4</span> getIntValue</span></h2>
<p>int getIntValue(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns the value of the specified field as an integer.  An empty value returns 0.</dd></dl>
<dl><dd>Closely related to <b><a href="index.php%3Ftitle=GlideForm_(g_form).html#getValue" title="GlideForm (g form)">getValue()</a>.</b></dd></dl>
<dl><dd><b>Parameters:</b><br />
<dl><dd><tt>fieldName</tt> - specifies the field.</dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>integer</tt> - value of the specified field as an integer.<br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getOption"><span class="mw-headline-number">10.5</span> getOption</span></h2>
<p>HTMLElement getOption(fieldName, choiceValue)<br /> 
</p>
<dl><dd>Returns the &lt;option&gt; element for a select box named fieldName and where choiceValue matches the option value.</dd></dl>
<dl><dd>Returns null if the field is not found or the option is not found. </dd></dl>
<dl><dd><b>Parameters:</b><br />
<dl><dd><tt>fieldName</tt> - specifies the name of the field.</dd>
<dd><tt>choiceValue</tt> - specifies the value of the option to return.</dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd>HTMLElement - the specified HTML element.<br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getReference"><span class="mw-headline-number">10.6</span> getReference</span></h2>
<p>GlideRecord getReference(<tt>fieldName</tt>, <tt>callback</tt>)<br /> 
</p>
<dl><dd>Returns the GlideRecord for the record specified in a reference field. If the referenced record cannot be found, then it returns an initialized GlideRecord object where currentRow = -1 and rows.length = 0.<br /> </dd></dl>
<dl><dd>getReference() accepts a second parameter, a callback function.</dd></dl>
<dl><dd>Callback function support for <tt>ServiceCatalogForm.getReference</tt> is available.</dd></dl>
<dl><dd><b>Warning</b>: This requires a call to the server so using this function will require additional time and may introduce latency to your page.  Use with caution.  See <a href="index.php%3Ftitle=Client_Script_Best_Practice.html#Avoid_Server_Lookups" title="Client Script Best Practice" class="mw-redirect">Avoid Server Lookups</a>.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the reference field.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>GlideRecord</tt> - the GlideRecord object for the record in specified in the reference field. See <a href="index.php%3Ftitle=GlideRecord.html" title="GlideRecord">GlideRecord</a> for more information. 
<ul><li>If a callback function is present, this routine runs asynchronously, and browser (and script) processing will continue normally until the server returns the reference value, at which time the callback function will be invoked. </li>
<li>If a callback function is not present, this routine runs synchronously and processing will halt (causing the browser to appear to hang) while waiting on a server response. It is strongly recommended that a callback function be used on any supported versions.</li></ul></dd></dl></dd></dl>
<p><br />
</p>
<dl><dd><b>Example: without a callback (don't do this)</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">caller</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getReference</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">caller</span><span class="p">.</span><span class="nx">vip</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span><span class="p">)</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Caller is a VIP!&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example: with a callback (recommended)</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">caller</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getReference</span><span class="p">(</span><span class="s1">&#39;caller_id&#39;</span><span class="p">,</span> <span class="nx">doAlert</span><span class="p">);</span> <span class="c1">// doAlert is our callback function</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">doAlert</span><span class="p">(</span><span class="nx">caller</span><span class="p">)</span> <span class="p">{</span> <span class="c1">//reference is passed into callback as first arguments</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">caller</span><span class="p">.</span><span class="nx">vip</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span><span class="p">)</span>
    <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;Caller is a VIP!&#39;</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getValue"><span class="mw-headline-number">10.7</span> getValue</span></h2>
<p>string getValue(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns the value of the specified field. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>string</tt> - the value of the specified field.<br /> </dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">alert</span><span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;short_description&#39;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example:</b></dd></dl>
<dl><dd><dl><dd><table>

<tr>
<td> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre>  <span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">isLoading</span><span class="p">)</span> 
      <span class="k">return</span><span class="p">;</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">isNewRecord</span><span class="p">())</span>
      <span class="k">return</span><span class="p">;</span>

  <span class="kd">var</span> <span class="nx">lookup</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;short_desc_lookup&#39;</span><span class="p">);</span> 
  <span class="nx">lookup</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;u_subcategory&#39;</span><span class="p">,</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;subcategory&#39;</span><span class="p">));</span>
  <span class="nx">lookup</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">temp</span><span class="p">;</span>  <span class="c1">//temp var - reusable </span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">lookup</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">temp</span> <span class="o">=</span> <span class="nx">lookup</span><span class="p">.</span><span class="nx">u_short_description</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="kc">null</span> <span class="o">!=</span> <span class="nx">temp</span><span class="p">){</span>   <span class="c1">//Set the form value from lookup if there is a lookup value</span>
      <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;short_description&#39;</span><span class="p">,</span> <span class="nx">temp</span><span class="p">);</span>
      <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;short_description&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="c1">//If a lookup record does not exist based on lookup.addQuery</span>
      <span class="c1">//Then set to UNDEFINED or NULL depending on type</span>
    <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;short_description&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
 
<span class="p">}</span>

<span class="o">----</span>
<span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">if</span><span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">isNewRecord</span><span class="p">()){</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;New Record!&#39;</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<h2><span class="mw-headline" id="getDecimalValue"><span class="mw-headline-number">10.8</span> getDecimalValue</span></h2>
<p>string getDecimalValue(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns the decimal value of the specified field. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>string</tt> - the value of the specified field.<br /> </dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">alert</span><span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;percent_complete&#39;</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="isMandatory"><span class="mw-headline-number">10.9</span> isMandatory</span></h2>
<p>boolean isMandatory(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Returns true if the field is mandatory.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>boolean</tt> - true if the field is required, false if it is optional.<br /> </dd></dl></dd></dl>
<hr />
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Change_Field_Methods"><span class="mw-headline-number">11</span> Change Field Methods</span></h1>
<h2><span class="mw-headline" id="clearValue"><span class="mw-headline-number">11.1</span> clearValue</span></h2>
<p>void clearValue(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Removes any value(s) from the specified field.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="setDisabled"><span class="mw-headline-number">11.2</span> setDisabled</span></h2>
<p>void setDisabled(<tt>fieldName, boolean</tt>)<br /> 
</p>
<dl><dd>Grays out field and makes it unavailable.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field. <br /> </dd>
<dd><tt>boolean</tt> - true if disabled, false if enabled. <br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="setMandatory"><span class="mw-headline-number">11.3</span> setMandatory</span></h2>
<p>void setMandatory(<tt>fieldName, boolean</tt>)<br /> 
</p>
<dl><dd>Makes the field required if true. </dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field. <br /> </dd>
<dd><tt>boolean</tt> - true if mandatory, false if optional. <br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="setReadOnly"><span class="mw-headline-number">11.4</span> setReadOnly</span></h2>
<p>void setReadOnly(<tt>fieldName, boolean</tt>)<br /> 
</p>
<dl><dd>Makes the field read-only if true, editable if false. To make a mandatory field read-only, you must first remove the mandatory requirement for that field by using the <b>setMandatory</b> method.</dd></dl>
<dl><dd><b>Note</b>:  Both <b>setReadOnly</b> and <b>setReadonly</b> are functional<b>.  </b></dd></dl>
<dl><dd><i><b>Best Practice</b></i>:  Use UI Policy rather than this method whenever possible.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field. <br /> </dd>
<dd><tt>boolean</tt> - true if read-only, false if editable. <br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="setValue"><span class="mw-headline-number">11.5</span> setValue</span></h2>
<p>void setValue(<tt>fieldName, value, [displayValue]</tt>)<br /> 
</p>
<dl><dd>Sets the value and the display value (if provided) of a field. When defining a value in a choice list, be sure to use number value rather than the label.</dd></dl>
<p>To improve performance by preventing a round trip, include a display value in addition to the value.
</p><p><i>Note:</i> setValue can cause a stack overflow when used in an OnChange client script. This is because every time the value is set, it will register as a change, which may re-trigger the OnChange client script. To prevent this, perform a check that will validate that the new value will be different from the old value. For example, before performing <tt>setValue(fieldName, newValue.toUpperCase());</tt>, validate that the short description is not already uppercase. This will prevent the Client Script from applying the <tt>toUpperCase()</tt> more than once.
</p>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field. <br /> </dd>
<dd><tt>value</tt> - value in database. <br /> </dd>
<dd><tt>displayValue</tt> (optional) - value that will be displayed. <br /> </dd></dl></dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /> </dd></dl></dd>
<dd><b>Example: Setting Display to Value</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;short_description&#39;</span><span class="p">,</span> <span class="s1">&#39;replace this with appropriate text&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example: Setting Display to Display Values</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">var</span> <span class="nx">valueArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">&quot;46d44a23a9fe19810012d100cca80666&quot;</span><span class="p">,</span> <span class="s2">&quot;46c6f9efa9fe198101ddf5eed9adf6e7&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">labelArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="s2">&quot;Beth Anglin&quot;</span><span class="p">,</span> <span class="s2">&quot;Bud Richman&quot;</span><span class="p">);</span>
<span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s2">&quot;watch_list&quot;</span><span class="p">,</span> <span class="nx">valueArray</span><span class="p">,</span> <span class="nx">labelArray</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example: Setting Display to Glide List</b></dd></dl>
<dl><dd><dl><dd><table>

<tr>
<td> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">//Set Assignment Group to CI&#39;s support group if assignment group is empty</span>
<span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
 
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span> <span class="o">!=</span> <span class="nx">oldValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;assignment_group&#39;</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="p">{</span>
               <span class="kd">var</span> <span class="nx">ciSupportGroup</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getReference</span><span class="p">(</span><span class="s1">&#39;cmdb_ci&#39;</span><span class="p">).</span><span class="nx">support_group</span><span class="p">;</span>
               <span class="k">if</span> <span class="p">(</span><span class="nx">ciSupportGroup</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> 
                  <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;assignment_group&#39;</span><span class="p">,</span> <span class="nx">ciSupportGroup</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Change_Choice_List_Methods"><span class="mw-headline-number">12</span> Change Choice List Methods</span></h1>
<h2><span class="mw-headline" id="addOption"><span class="mw-headline-number">12.1</span> addOption</span></h2>
<p>void addOption(<tt>fieldName, choiceValue, choiceLabel, [choiceIndex])</tt>)<br /> 
</p>
<dl><dd>Adds a choice to a choice list field.  If the index is not specified, the choice parameter is added to the end of the list.</dd></dl>
<dl><dd><b>Optional</b>: Use the index field to specify a particular place in the list.</dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd>
<dd><tt>choiceValue</tt> - the value stored in the database.<br /> </dd>
<dd><tt>choiceLabel</tt> - the value displayed.<br /></dd>
<dd><tt>choiceIndex</tt> (optional) - order of choice in the list.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /> </dd></dl></dd>
<dd><b>Example - Add an Option to the End of a Choice List: </b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">addOption</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;6 - Really Low&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example - Add an Option at a Specific Point on a Choice List: </b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">addOption</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;2.5&#39;</span><span class="p">,</span> <span class="s1">&#39;2.5 - Moderately High&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><dl><dd>Note that an insert will happen at the location you specify on a <b>zero based array</b>. Existing options will all shift up one level. For example, given: </dd></dl></dd></dl>
<dl><dd><dl><dd>[A, B, C, D] </dd></dl></dd></dl>
<dl><dd><dl><dd>Insert E at 0 </dd></dl></dd></dl>
<dl><dd><dl><dd>[<b>E</b>, A, B, C, D] </dd></dl></dd></dl>
<dl><dd><dl><dd>Insert E at 2 </dd></dl></dd></dl>
<dl><dd><dl><dd>[A, B, <b>E</b>, C, D]</dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="clearOptions"><span class="mw-headline-number">12.2</span> clearOptions</span></h2>
<p>void clearOptions(<tt>fieldName</tt>)<br /> 
</p>
<dl><dd>Removes all options from a choice list. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /> </dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="removeOption"><span class="mw-headline-number">12.3</span> removeOption</span></h2>
<p>void removeOption(<tt>fieldName, choiceValue</tt>)<br /> 
</p>
<dl><dd>Removes a specific option from a choice list.</dd></dl>
<dl><dd><b>Note:</b> (Versions prior to Eureka) When items are removed from a choice list by a Client Script, Google Chrome and Apple Safari will still display those items. When one of these web browsers is used, the "removed" items will be displayed as read only in the choice list and they cannot be chosen. </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>fieldName</tt> - specifies the field.<br /> </dd>
<dd><tt>choiceValue</tt> - specifies the value stored in the database as a choice.<br /> </dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example: Remove the '1' Option from the Priority Field</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">removeOption</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">);</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example: Remove the 'Closed' State Option if the User is not an Admin </b></dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">isAdmin</span> <span class="o">=</span> <span class="nx">g_user</span><span class="p">.</span><span class="nx">hasRole</span><span class="p">(</span><span class="s1">&#39;admin&#39;</span><span class="p">);</span>
   <span class="kd">var</span> <span class="nx">incidentState</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;incident_state&#39;</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isAdmin</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">incidentState</span> <span class="o">!=</span> <span class="mi">7</span><span class="p">)){</span>
      <span class="nx">g_form</span><span class="p">.</span><span class="nx">removeOption</span><span class="p">(</span><span class="s1">&#39;incident_state&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Form_Information_Methods"><span class="mw-headline-number">13</span> Form Information Methods</span></h1>
<h2><span class="mw-headline" id="getActionName"><span class="mw-headline-number">13.1</span> getActionName</span></h2>
<p>string getActionName(<tt></tt>)<br /> 
</p>
<dl><dd>Returns the most recent action name or, for a client script, the sys_id of the UI Action clicked. <b>Note:</b> not available in Wizard Client Scripts.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>string</tt> - current action name.<br /> </dd></dl></dd></dl>
<dl><dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onSubmit</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">action</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getActionName</span><span class="p">();</span>
   <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;You pressed &#39;</span> <span class="o">+</span> <span class="nx">action</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getFormElement"><span class="mw-headline-number">13.2</span> getFormElement</span></h2>
<p>HTMLFormElement getFormElement(<tt></tt>)<br /> 
</p>
<dl><dd>Returns the HTML element for the form.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>HTMLFormElement</tt> - returns the HTML element for the form.<br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getSectionNames"><span class="mw-headline-number">13.3</span> getSectionNames</span></h2>
<p>array getSectionNames(<tt></tt>)<br />
</p>
<dl><dd>Returns all section names, whether visible or not, in an array.</dd>
<dd><b>Returns:</b><br /> 
<dl><dd><tt>array</tt> - the segment names.<br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="getSections"><span class="mw-headline-number">13.4</span> getSections</span></h2>
<p>array getSections(<tt></tt>)<br /> 
</p>
<dl><dd>Returns the elements for the form's sections in an array.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>array</tt> - the HTML Elements for the form.<br /> </dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
   <span class="c1">//this example was run on a form divided into sections (Change form)</span>
   <span class="c1">// and hid a section when the &quot;state&quot; field was changed</span>
   <span class="kd">var</span> <span class="nx">sections</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getSections</span><span class="p">();</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">newValue</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">g_form</span><span class="p">.</span><span class="nx">setSectionDisplay</span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">false</span><span class="p">);</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">g_form</span><span class="p">.</span><span class="nx">setSectionDisplay</span><span class="p">(</span><span class="nx">sections</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">true</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="getTableName"><span class="mw-headline-number">13.5</span> getTableName</span></h2>
<p>string getTableName(<tt></tt>)<br /> 
</p>
<dl><dd>Returns the name of the table this record belongs to. On the server side, the table for the current record can be retrieved with <tt>current.sys_class_name</tt> or <a href="index.php%3Ftitle=GlideRecord.html#getTableName" title="GlideRecord">current.getTableName()</a>.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>string</tt> - table name.<br /> </dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">isNewRecord</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">tableName</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getTableName</span><span class="p">();</span> <span class="c1">//Get the table name</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<p><br />
</p>
<hr />
<h2><span class="mw-headline" id="getUniqueValue"><span class="mw-headline-number">13.6</span> getUniqueValue</span></h2>
<p>string getUniqueValue(<tt></tt>)<br /> 
</p>
<dl><dd>Returns the sys_id of the record displayed in the form.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>string</tt> - sys_id.<br /> </dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">incSysid</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getUniqueValue</span><span class="p">();</span>
   <span class="nx">alert</span><span class="p">(</span><span class="nx">incSysid</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="isNewRecord"><span class="mw-headline-number">13.7</span> isNewRecord</span></h2>
<p>boolean isNewRecord(<tt></tt>)<br /> 
</p>
<dl><dd>Returns true if the record has never been saved.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>boolean</tt> - true if record has not been saved, false if it has been saved.<br /></dd></dl></dd>
<dd><b>Example:</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">if</span><span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">isNewRecord</span><span class="p">()){</span>
      <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;New Record!&#39;</span><span class="p">);</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<dl><dd><b>Example:</b></dd></dl>
<dl><dd><dl><dd><table>

<tr>
<td> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">submitConfirm</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">confirm</span><span class="p">(</span><span class="s1">&#39;Are you sure you want to submit a priority one incident?&#39;</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">isNewRecord</span><span class="p">())</span> <span class="p">{</span>
            <span class="nx">g_form</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">g_form</span><span class="p">.</span><span class="nx">submit</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="isSectionVisible"><span class="mw-headline-number">13.8</span> isSectionVisible</span></h2>
<p>boolean isSectionVisible(<tt>sectionName</tt>)<br /> 
</p>
<dl><dd>Returns true if the section is visible. Returns false if the section is not visible.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>boolean</tt> - true if the section is visible. Returns false if the section is not visible.<br /></dd></dl></dd></dl>
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<h1><span class="mw-headline" id="Form_Action_Methods"><span class="mw-headline-number">14</span> Form Action Methods</span></h1>
<h2><span class="mw-headline" id="addErrorMessage"><span class="mw-headline-number">14.1</span> addErrorMessage</span></h2>
<p>void addErrorMessage(<tt>message</tt>)<br /> 
</p>
<dl><dd>Displays an error message at the top of the form.  </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>message</tt> - the error message to be displayed.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">addErrorMessage</span><span class="p">(</span><span class="s1">&#39;This is an error&#39;</span><span class="p">);</span>
</pre></div>
<p><a href="index.php%3Ftitle=File:AddErrorMessage.PNG.html" class="image" title="Image:AddErrorMessage.PNG"><img alt="Image:AddErrorMessage.PNG" src="images/0/06/AddErrorMessage.PNG" width="337" height="189" /></a> 
</p>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="addInfoMessage"><span class="mw-headline-number">14.2</span> addInfoMessage</span></h2>
<p>void addInfoMessage(<tt>message</tt>)<br /> 
</p>
<dl><dd>Displays an informational message at the top of the form.  </dd></dl>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>message</tt> - the informational message to be displayed.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">addInfoMessage</span><span class="p">(</span><span class="s1">&#39;The top five fields in this form are mandatory&#39;</span><span class="p">);</span>
</pre></div>
<p><a href="index.php%3Ftitle=File:AddInfoMessage.PNG.html" class="image" title="Image:AddInfoMessage.PNG"><img alt="Image:AddInfoMessage.PNG" src="images/f/f9/AddInfoMessage.PNG" width="336" height="189" /></a> 
</p>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="clearMessages"><span class="mw-headline-number">14.3</span> clearMessages</span></h2>
<p>void clearMessages()<br /> 
</p>
<dl><dd>Removes all informational and error messages that were added with both <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#addInfoMessage">g_form.addInfoMessage</a> and <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#addErrorMessage">g_form.addErrorMessage</a>. </dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<dl><dd><b>Example</b> </dd></dl>
<dl><dd><dl><dd><table>
<tr>
<td><div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">clearMessages</span><span class="p">();</span>
</pre></div>
</td></tr></table></dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="enableAttachments"><span class="mw-headline-number">14.4</span> enableAttachments</span></h2>
<p>void enableAttachments(<tt></tt>)<br /> 
</p>
<dl><dd>Allows new file attachments to be added.  Shows the paperclip icon. See also: <a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#disableAttachments">disableAttachments()</a>.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="disableAttachments"><span class="mw-headline-number">14.5</span> disableAttachments</span></h2>
<p>void disableAttachments(<tt></tt>)<br /> 
</p>
<dl><dd>Prevents new file attachments from being added.  Hides the paperclip icon.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt><br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="save"><span class="mw-headline-number">14.6</span> save</span></h2>
<p>void save(<tt></tt>)<br /> 
</p>
<dl><dd>Saves the record without navigating away from the record (update and stay).</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="setSectionDisplay"><span class="mw-headline-number">14.7</span> setSectionDisplay</span></h2>
<p>boolean setSectionDisplay(<tt>sectionName, display</tt>)<br /> 
</p>
<dl><dd><b>Parameters:</b><br /> 
<dl><dd><tt>sectionName</tt> - name of the section to be shown or hidden. The section name is lower case with an underscore replacing the first space in the name, and with the remaining spaces being removed, for example "Section Four is Here" becomes "section_fourishere". Other non-alphanumeric characters, such as ampersand (&amp;), are removed. Section names can be found by using the getSectionNames method.<br /></dd>
<dd><tt>display</tt> - set true to show, false to hide.<br /></dd></dl></dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>Boolean</tt> - true if successful. <br /> </dd></dl></dd></dl>
<hr />
<h2><span class="mw-headline" id="submit"><span class="mw-headline-number">14.8</span> submit</span></h2>
<p>void submit(<tt></tt>)<br /> 
</p>
<dl><dd>Saves the record.  User will be taken away from the form, returning them to where they were previously.</dd></dl>
<dl><dd><b>Returns:</b><br /> 
<dl><dd><tt>void</tt> <br /></dd></dl></dd></dl>
<hr />
<p><br />
</p>
<dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><dl><dd><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html#Overview"><b>[top of page]</b></a></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl></dd></dl>
<p><br /> 
</p>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Change Form Color on State Change 
</p><p><b>Type:</b> Client Script 
</p><p><b>Table:</b> 
</p><p><b>Description:</b> Changes color of a form field of the form on state change. The script can easily be changed to adjust any property of any object on the page accessible via the HTML DOM. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre> <span class="kd">function</span> <span class="nx">onChange</span><span class="p">(</span><span class="nx">control</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">,</span> <span class="nx">newValue</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">elementID</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s2">&quot;incident.priority&quot;</span><span class="p">);</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="s2">&quot;1&quot;</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">&quot;2&quot;</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;tomato&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">&quot;3&quot;</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;orange&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">&quot;4&quot;</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;yellow&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="s2">&quot;5&quot;</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;green&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="nx">elementID</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">backgroundColor</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Collapse Section on Forms 
</p><p><b>Type:</b> Client Script 
</p><p><b>Table:</b> 
</p><p><b>Description:</b> This example is set to enable collapse/expanding of the Activity section on the task form.
</p><p>The default function called when you click the box icon to collapse the activity section is:
</p>
<pre>ActivityFilter.toggleActivity(false);</pre>
<p>However, this function always toggles the section. If it is already collapsed, toggleActivity will expand it.
Here's an onLoad client script that will only collapse the entire activity section on the incident form. 
</p><p><b>Parameters:</b> 
</p>
<b>Script:</b> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">ActivityFilter</span><span class="p">.</span><span class="nx">hideActivity</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">fDiv</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s1">&#39;toggle_activity.&#39;</span> <span class="o">+</span> <span class="nx">key</span><span class="p">);</span>
<span class="nx">setPreference</span><span class="p">(</span><span class="nx">table</span> <span class="o">+</span> <span class="s2">&quot;.activity.log.display&quot;</span><span class="p">,</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span> <span class="kc">null</span><span class="p">);</span>
<span class="nx">fDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
<span class="k">try</span> <span class="p">{</span>
<span class="nx">ActivityFilter</span><span class="p">.</span><span class="nx">hideActivity</span><span class="p">(</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">getTableName</span><span class="p">(),</span><span class="nx">g_form</span><span class="p">.</span><span class="nx">getUniqueValue</span><span class="p">());</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">//do nothing</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/script/useful-scripts/reference/r_DisplayFieldMessages.html">Display Field Messages</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.
</p>
</td></tr></table>
<p><br />
</p>
<div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Client_Scripts.html" title="Client Scripts">Client Scripting</a>
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Client_Scripts.html" title="Client Scripts">Client Scripts</a></li>
<li><a href="index.php%3Ftitle=Client_Script_Best_Practices.html" title="Client Script Best Practices">Client Script Best Practices</a></li>
<li><a href="index.php%3Ftitle=Display_Field_Messages.html" title="Display Field Messages">Display Field Messages</a></li>
<li><a href="index.php%3Ftitle=Sleeps,_Delays,_or_Waits_in_Client_Scripts.html" title="Sleeps, Delays, or Waits in Client Scripts">Sleeps, Delays, or Waits in Client Scripts</a></li>
<li><a href="index.php%3Ftitle=Mobile_Client_GlideForm_(g_form)_Scripting.html" title="Mobile Client GlideForm (g form) Scripting">Mobile Client GlideForm (g form) Scripting</a></li>
<li>Client-side API
<ul><li><a href="index.php%3Ftitle=GlideForm_(g_form).html" title="GlideForm (g form)">GlideForm (g form)</a></li>
<li><a href="index.php%3Ftitle=Mobile_GlideForm_(g_form)_API_Reference.html" title="Mobile GlideForm (g form) API Reference"> Mobile GlideForm (g form)</a></li>
<li><a href="index.php%3Ftitle=GlideUser_(g_user).html" title="GlideUser (g user)">GlideUser (g user)</a></li>
<li><a href="index.php%3Ftitle=GlideAjax.html" title="GlideAjax">GlideAjax</a></li>
<li><a href="index.php%3Ftitle=GlideMenu_(g_menu_and_g_item).html" title="GlideMenu (g menu and g item)">GlideMenu (g menu and g item)</a></li>
<li><a href="index.php%3Ftitle=GlideList2_(g_list).html" title="GlideList2 (g list)">GlideList2 (g_list)</a></li></ul></li></ul>
</td></tr>
<tr>
<th> Related Topics
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=Creating_a_Catalog_Client_Script.html" title="Creating a Catalog Client Script">Catalog Client Scripts</a> </li>
<li><a href="index.php%3Ftitle=Client_Script_Access_to_Variable_Fields_on_Task_Records.html" title="Client Script Access to Variable Fields on Task Records">Client Script Access to Variable Fields on Task Records</a></li></ul>
</td></tr></table>
</div>
<h2><span class="mw-headline" id="Overview_2"><span class="mw-headline-number">14.9</span> Overview</span></h2>
<p>Rather than use <i>JavaScript alert()</i>, for a cleaner look, you can display an error on the form itself. The methods <i>showFieldMsg()</i> and <i>hideFieldMsg()</i> can be used to display a message just below the field itself. 
</p><p>showFieldMsg and hideFieldMsg are methods that can be used with the g_form object (see <a href="index.php%3Ftitle=GlideForm_(g_form).html" title="GlideForm (g form)">GlideForm (g_form)</a>).
</p><p>These methods are used to make changes to the form view of records (Incident, Problem, and Change forms).   These methods may also be available in other client scripts, but must be tested to determine whether they will work as expected.
</p><p>When a field message is displayed on a form on load, the form will scroll to ensure that the field message is visible, ensuring that users will not miss a field message because it was off the screen.  
</p><p>A global property (glide.ui.scroll_to_message_field) is now available that controls automatic message scrolling when the form field is offscreen (scrolls the form to the control or field).
</p>
<h2><span class="mw-headline" id="Method"><span class="mw-headline-number">14.10</span> Method</span></h2>
<p>showFieldMsg(input, message, type, [scrollform]);<br />
<i>input</i> - name of the field or control <br />
<i>message</i> - message you would like to display<br />
<i>type</i> - either 'info' or 'error', defaults to <i>info</i> if not supplied<br />
<i>scroll form</i> - (optional) Set scrollForm to false to prevent scrolling to the field message offscreen.
</p><p><br />hideFieldMsg(input);<br />
<i>input</i> - name of the field or control
<i>*clearAll</i> - (optional) boolean parameter indicating whether to clear all messages. If true, all messages for the field will be cleared; if false or empty, only the last message will be removed.
</p>
<h2><span class="mw-headline" id="Example"><span class="mw-headline-number">14.11</span> Example</span></h2>
<h3><span class="mw-headline" id="Error_Message"><span class="mw-headline-number">14.11.1</span> Error Message</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">showFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">,</span><span class="s1">&#39;Low impact not allowed with High priority&#39;</span><span class="p">,</span><span class="s1">&#39;error&#39;</span><span class="p">);</span>
</pre></div><br /> <a href="index.php%3Ftitle=File:ShowFieldMsgError.PNG.html" class="image" title="Image:showFieldMsgError.PNG"><img alt="Image:showFieldMsgError.PNG" src="images/7/73/ShowFieldMsgError.PNG" width="319" height="49" /></a>
<h3><span class="mw-headline" id="Informational_Message"><span class="mw-headline-number">14.11.2</span> Informational Message</span></h3>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">g_form</span><span class="p">.</span><span class="nx">showFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">,</span><span class="s1">&#39;Low impact response time can be one week&#39;</span><span class="p">,</span><span class="s1">&#39;info&#39;</span><span class="p">);</span>
<span class="c1">//or this defaults to info type</span>
<span class="c1">//g_form.showFieldMsg(&#39;impact&#39;,&#39;Low impact response time can be one week&#39;);</span>
</pre></div> <br /> <a href="index.php%3Ftitle=File:ShowFieldMsgInfo.PNG.html" class="image" title="Image:showFieldMsgInfo.PNG"><img alt="Image:showFieldMsgInfo.PNG" src="images/9/96/ShowFieldMsgInfo.PNG" width="320" height="49" /></a>
<h2><span class="mw-headline" id="Removing_a_Message"><span class="mw-headline-number">14.12</span> Removing a Message</span></h2>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">//this will clear the last message printed to the field</span>
<span class="nx">g_form</span><span class="p">.</span><span class="nx">hideFieldMsg</span><span class="p">(</span><span class="s1">&#39;impact&#39;</span><span class="p">);</span>
</pre></div>
<h2><span class="mw-headline" id="Legacy_Support"><span class="mw-headline-number">14.13</span> Legacy Support</span></h2>
<p>The showErrorBox() and hideErrorBox() are still available but simply call the new methods with type of error. It is recommended that you use the new methods. 
</p>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Enable Collapsing Related Lists 
</p><p><b>Type:</b> onLoad Client Script 
</p><p><b>Table:</b> Incident
</p><p><b>Description:</b> Now that you can collapse/expand related list sections on the form, you might want to do the same using client scripts. The default function called when you click the +/- icon is: 
</p>
<pre>toggleSectionDisplay('partialPage:task_ci_task_list');</pre> 
<p>This function manages the collapse/expand effect. As it's name implies it is a toggle effect so there is no way force a section to be collapsed or expanded since it will just toggle whatever the current state is. It also saves the setting as a user preference so the list will be displayed the same way the next time the form is loaded. You will probably want to change the effect of a list without updating or restoring the user's preferences. In this case there are other functions that can be used to simply change the display style on the list element. 
</p><p>Below is an onLoad client script that will collapse all of the related list sections on a form. 
</p><p><b>Parameters:</b> 
</p>
<b>Script:</b> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>

<span class="c1">//Client Script: Collapse All Lists on Load</span>
<span class="c1">//Type: onLoad</span>
<span class="c1">//Table: Incident</span>

  <span class="c1">//get array of span elements on the page</span>
  <span class="kd">var</span> <span class="nx">spans</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
  <span class="c1">//walk the array</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">spans</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//check for spans matching section.partialPage naming, these are related lists </span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">spans</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;section.partialPage:&quot;</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">//get the element id for the section</span>
      <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">spans</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">id</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
      <span class="c1">//collapse the list    </span>
      <span class="nx">forceHide</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span> 
      <span class="c1">//to expand use -- forceReveal(id);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>  
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Modify Fields Based on State 
</p><p><b>Type:</b> onLoad Client Script 
</p><p><b>Table:</b> 
</p><p><b>Description:</b>  
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">// 1 - Awaiting Assessment</span>
<span class="c1">// 2 - Analysis Internal</span>
<span class="c1">// 3 - Analysis External</span>
<span class="c1">// 4 - Root Cause FOund</span>
<span class="c1">// 5 - Known Error</span>
<span class="c1">// 6 - Resolved</span>
<span class="c1">// 7 - Closed</span>
<span class="c1">// 8 - Not Used</span>

<span class="c1">// This script manages the presentation of the available Incident States according to a state transition matrix.</span>
<span class="c1">// As its an onload I have coded the valid transitions as part of the script instead of designing a table to look them up.</span>
<span class="c1">// At the database level the values are numeric so thats the way they need to be processed. Also the logic needs to be</span>
<span class="c1">// reversed because its better to remove options than clear them all and re-add them</span>
<span class="c1">// the simplest way to do this is a bunch of &#39;if (state = blah) then remove options&#39;.</span>
<span class="c1">// however I have coded this to make it easier to maintain the state transitions.</span>
<span class="c1">// To use elsewhere need to edit the vNoStates variable below and the transitions in the function below</span>

<span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nx">vNoStates</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">vState</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;problem_state&#39;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">vTransitions</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// create the array;</span>
<span class="nx">vTransitions</span> <span class="o">=</span> <span class="nx">getTransitions</span><span class="p">(</span><span class="nx">vState</span><span class="p">);</span>


<span class="kd">var</span> <span class="nx">vTransLen</span> <span class="o">=</span> <span class="nx">vTransitions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;=</span><span class="nx">vNoStates</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

<span class="kd">var</span> <span class="nx">isItThere</span> <span class="o">=</span> <span class="nx">vTransitions</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">isItThere</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">g_form</span><span class="p">.</span><span class="nx">removeOption</span><span class="p">(</span><span class="s1">&#39;problem_state&#39;</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">getTransitions</span><span class="p">(</span><span class="nx">vStatus</span><span class="p">)</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">vState</span> <span class="o">=</span> <span class="p">[];</span>
<span class="c1">// declare states and values here</span>
<span class="kd">var</span> <span class="nx">AwaitingAssessment</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">AnalysisInternal</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">AnalysisExternal</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">RootCauseFound</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">KnownError</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Resolved</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">Closed</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>


<span class="nx">vState</span><span class="p">[</span><span class="nx">AwaitingAssessment</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">AwaitingAssessment</span><span class="p">,</span> <span class="nx">AnalysisInternal</span><span class="p">,</span> <span class="nx">AnalysisExternal</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">AnalysisInternal</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">AnalysisInternal</span><span class="p">,</span> <span class="nx">AnalysisExternal</span><span class="p">,</span> <span class="nx">RootCauseFound</span><span class="p">,</span> <span class="nx">KnownError</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">AnalysisExternal</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">AnalysisInternal</span><span class="p">,</span> <span class="nx">AnalysisExternal</span><span class="p">,</span> <span class="nx">RootCauseFound</span><span class="p">,</span> <span class="nx">KnownError</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">RootCauseFound</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">RootCauseFound</span><span class="p">,</span> <span class="nx">Resolved</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">KnownError</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">KnownError</span><span class="p">,</span> <span class="nx">Resolved</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">Resolved</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">Resolved</span><span class="p">,</span> <span class="nx">Closed</span><span class="p">,</span> <span class="nx">AnalysisInternal</span><span class="p">,</span> <span class="nx">AnalysisExternal</span><span class="p">];</span>
<span class="nx">vState</span><span class="p">[</span><span class="nx">Closed</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">Closed</span><span class="p">];</span>

<span class="k">return</span><span class="p">(</span><span class="nx">vState</span><span class="p">[</span><span class="nx">vStatus</span><span class="p">]);</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Remove Attachment Field from Form 
</p><p><b>Type:</b> Client Script 
</p><p><b>Table:</b> incident
</p><p><b>Description:</b> Removes the attachment field from a record. This script must be included on each form. This example is for incident forms. For a global solution, see: <a href="index.php%3Ftitle=Granting_Access.html#Granting_Roles_Access_to_Attachments" title="Granting Access" class="mw-redirect">Granting Roles Access to Attachments</a> 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span>
<span class="p">{</span>
<span class="kd">var</span> <span class="nx">strVal</span> <span class="o">=</span> <span class="s2">&quot;javascript:saveAttachment(&#39;incident&#39;, &#39;&#39;);&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">arrLink</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">intLen</span> <span class="o">=</span> <span class="nx">arrLink</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">intCnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">intCnt</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="nx">intLen</span><span class="p">;</span> <span class="nx">intCnt</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
<span class="nx">strAttrib</span> <span class="o">=</span> <span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">getAttribute</span> <span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span><span class="o">&amp;</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">strAttrib</span> <span class="o">==</span> <span class="nx">strVal</span><span class="p">)</span>
<span class="p">{</span>
<span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
<span class="p">}</span>
<span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>In case the script does not work, try the alternative approach provided below.
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span>
<span class="p">{</span>
 <span class="kd">var</span> <span class="nx">refs</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">);</span>
 <span class="k">if</span> <span class="p">(</span><span class="nx">refs</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">refs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">ref</span> <span class="o">=</span> <span class="nx">refs</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
   <span class="kd">var</span> <span class="nx">inner</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">;</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">inner</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;attachment.gifx&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
      <span class="nx">ref</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
     <span class="p">}</span>
   <span class="p">}</span>
 <span class="p">}</span>
<span class="p">}</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Remove Attachments Link 
</p><p><b>Type:</b> Client Script 
</p><p><b>Table:</b> 
</p><p><b>Description:</b> Below is an onLoad script that will remove the attachments link for end-users. The key here is the "strVal" variable. This is specific to incident - and if development decides to change how the "saveAttachment" function is used, it could break this script. You still need to look for roles or else this will apply to everybody 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kd">var</span> <span class="nx">strVal</span> <span class="o">=</span> <span class="s2">&quot;javascript:saveAttachment(&#39;incident&#39;, &#39;&#39;);&quot;</span><span class="p">;</span>
	<span class="kd">var</span> <span class="nx">arrLink</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
	<span class="kd">var</span> <span class="nx">intLen</span> <span class="o">=</span> <span class="nx">arrLink</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
 
	<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">intCnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">intCnt</span> <span class="o">&lt;</span> <span class="nx">intLen</span><span class="p">;</span> <span class="nx">intCnt</span><span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="nx">strAttrib</span> <span class="o">=</span> <span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">getAttribute</span> <span class="o">&amp;&amp;</span> <span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">);</span>
 
		<span class="k">if</span> <span class="p">(</span><span class="nx">strAttrib</span> <span class="o">==</span> <span class="nx">strVal</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="nx">arrLink</span><span class="p">[</span><span class="nx">intCnt</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="s1">&#39;none&#39;</span><span class="p">;</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.</i>
</td></tr></table>
<p><br />
</p>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Set Default Value for Reference Fields 
</p><p><b>Type:</b> Business Rule 
</p><p><b>Table:</b> 
</p><p><b>Description:</b> Let's say that you want to set the default value for the assignment_group field to "Help Desk". You might be tempted to just set the default value to exactly what you want to be: "Help Desk". If you do so, you will find that it just does not work. It does not work because assignment_group is a reference field which means that it actually "points" to another file. assignment_group is a reference to a record in the "sys_user_group" table and references to other tables are done via an internal field called "sys_id". Here is a helper javascript function you can call to get the ID value that is associated with a record given that records display value. This helper function should be created in a global business rule. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">// Return the sys_id value for a given table and its display value</span>
<span class="c1">// </span>
<span class="kd">function</span> <span class="nx">GetIDValue</span><span class="p">(</span><span class="nx">table</span><span class="p">,</span> <span class="nx">displayValue</span><span class="p">)</span> <span class="p">{</span> 
 <span class="kd">var</span> <span class="nx">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="nx">table</span><span class="p">);</span>
 <span class="kd">var</span> <span class="nx">dn</span> <span class="o">=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getDisplayColumn</span><span class="p">(</span><span class="nx">table</span><span class="p">);</span>
 <span class="k">if</span> <span class="p">(</span><span class="nx">rec</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">dn</span><span class="p">,</span> <span class="nx">displayValue</span><span class="p">))</span>
    <span class="k">return</span> <span class="nx">rec</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">;</span>
 <span class="k">else</span>
    <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>Then the default value for the assignment_group field will be: 
</p>
<pre>javascript:GetIDValue("sys_user_group", "Help Desk");</pre>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<h2><span class="mw-headline" id="Overview_3"><span class="mw-headline-number">14.14</span> Overview</span></h2>
<p>It is possible, using a client script, to warn a user if the record they are about to update has been modified by someone else since the time they opened it in their browser. Consider the following scenario: 
</p>
<ol><li>User A opens an incident in their browser </li>
<li>User B opens the same incident a few seconds later </li>
<li>User A updates/saves the incident </li>
<li>User B updates/saves the incident</li></ol>
<p>By default, User B's update will overwrite User A's changes. User A's journal comments (Additional comments and Work notes) will be preserved, but any other changes would only be available in the Incident history. 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The script should not be used on instances that have the Fuji release of ServiceNow installed. See KB0551171 for more information.</i>
</td></tr></table>
<p><br /> 
<br />With the creation of an onSubmit() client script, it is possible to warn the second user if the record has changed in the database since they opened it, and provide an opportunity to abort the second update. The below example is for Incident records, but it is applicable to any record. This can be considered an alternative to record locking. The text of the script is below for easy cutting and pasting: 
</p><p><br /> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">// For support of warning when two people are editing the same record.</span>
 <span class="kd">function</span> <span class="nx">onSubmit</span><span class="p">()</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">updatedOn</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s1">&#39;onLoad_sys_updated_on&#39;</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">updatedOn</span><span class="p">)</span>
      <span class="k">return</span><span class="p">;</span>
      
   <span class="nx">updatedOn</span> <span class="o">=</span> <span class="nx">updatedOn</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
   <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">updatedOn</span><span class="p">)</span>
      <span class="k">return</span><span class="p">;</span>

   <span class="kd">var</span> <span class="nx">sysid_gel</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s1">&#39;sys_uniqueValue&#39;</span><span class="p">);</span>
   <span class="kd">var</span> <span class="nx">sysid</span> <span class="o">=</span> <span class="nx">sysid_gel</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
   <span class="kd">var</span> <span class="nx">gr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;incident&#39;</span><span class="p">);</span>
   <span class="nx">gr</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;sys_id&#39;</span><span class="p">,</span><span class="nx">sysid</span><span class="p">);</span>
   <span class="nx">gr</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">gr</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">dbUpdatedOn</span> <span class="o">=</span> <span class="nx">gr</span><span class="p">.</span><span class="nx">sys_updated_on</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">dbUpdatedBy</span> <span class="o">=</span> <span class="nx">gr</span><span class="p">.</span><span class="nx">sys_updated_by</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
   <span class="p">}</span> <span class="k">else</span>
      <span class="k">return</span><span class="p">;</span>

   <span class="k">if</span> <span class="p">(</span><span class="nx">updatedOn</span> <span class="o">!=</span> <span class="nx">dbUpdatedOn</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">confirm</span><span class="p">(</span><span class="s2">&quot;Record has been updated by &quot;</span> <span class="o">+</span> <span class="nx">dbUpdatedBy</span> <span class="o">+</span> <span class="s2">&quot; since you opened it - &quot;</span>
      <span class="o">+</span> <span class="s2">&quot;overwrite those changes with yours? Note that Additional comments and Work notes are &quot;</span>
      <span class="o">+</span> <span class="s2">&quot;additive and will not be overwritten.&quot;</span><span class="p">);</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>

<!-- 
NewPP limit report
Cached time: 20171201113056
Cache expiry: 86400
Dynamic content: false
CPU time usage: 1.195 seconds
Real time usage: 16.506 seconds
Preprocessor visited node count: 520/1000000
Preprocessor generated node count: 1490/1000000
Post‐expand include size: 80242/2097152 bytes
Template argument size: 6343/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 15686.123      1 - -total
 73.13% 11471.665      1 - Add_Information_Message
  6.40% 1003.999      1 - Display_Error_Message_on_Form
  4.63%  726.927      1 - Remove_Attachment_Field_from_Form
  2.84%  445.801      1 - Modify_Fields_Based_on_State
  2.75%  431.330      1 - Remove_Attachments_Link
  2.59%  406.508      1 - Set_Default_Value_for_Reference_Fields
  2.48%  388.711      1 - Simultaneous_Update_Alert
  2.09%  328.308      1 - Enable_Collapsing_Related_Lists
  1.60%  251.430      1 - Change_Form_Color_on_State_Change
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:6121-0!*!0!1!*!5!* and timestamp 20171201113040 and revision id 246031
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html">http://wiki.servicenow.com/index.php?title=Useful_Form_Scripts&amp;oldid=246031</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a></li><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Client+APIs.html" title="Category:Client APIs">Client APIs</a></li><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Form+Customization+Scripts.html" title="Category:Form Customization Scripts">Form Customization Scripts</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Script.html" title="Category:Script">Script</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Client+APIs.html" title="Category:Client APIs">Client APIs</a><br />
<a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Script.html" title="Category:Script">Script</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a><br />
<a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Script.html" title="Category:Script">Script</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Form+Customization+Scripts.html" title="Category:Form Customization Scripts">Form Customization Scripts</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_6121"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="6121" data-vote-the-vote="5" data-vote-id="6121" data-vote-action="5" data-vote-rating="3.00" data-vote-voted="0" id="rating_6121_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="6121" data-vote-the-vote="1" data-vote-id="6121" data-vote-action="5" data-vote-rating="3.00" data-vote-voted="0" id="rating_6121_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Useful_Form_Scripts.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.servicenow.com/index.php?title=Special:CreateAccount&amp;returnto=Useful+Form+Scripts&amp;returntoquery=oldid%3D246031" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.servicenow.com/index.php?title=Special:UserLogin&amp;returnto=Useful+Form+Scripts&amp;returntoquery=oldid%3D246031" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Useful_Form_Scripts.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Useful_Form_Scripts&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Useful+Form+Scripts.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Useful+Form+Scripts&amp;returnto=Useful+Form+Scripts&amp;oldid=246031&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FUseful_Form_Scripts.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="index.php%3Ftitle=Special:RecentChangesLinked%252FUseful_Form_Scripts.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;oldid=246031.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Useful_Form_Scripts&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 20:24, 20 April 2015.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1640});});</script></body></html>

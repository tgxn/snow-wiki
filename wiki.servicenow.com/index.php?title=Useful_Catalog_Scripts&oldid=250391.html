<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Useful Catalog Scripts - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Useful_Catalog_Scripts","wgTitle":"Useful Catalog Scripts","wgCurRevisionId":250391,"wgRevisionId":250391,"wgArticleId":6115,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Useful Scripts","Service Catalog Scripts","Service Catalog Management"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Useful_Catalog_Scripts","wgRelevantArticleId":6115,"wgRequestId":"c8bd2195ca655f67f7fbfadb","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="http://wiki.servicenow.com/load.php?debug=false&amp;lang=en&amp;modules=ext.pygments%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20170825160912"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Useful_Catalog_Scripts"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Useful Catalog Scripts"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Service Catalog Management"/>
<meta name="category" content="Service Catalog Management"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Useful_Catalog_Scripts.html" />

	<meta property="og:title" content="ServiceNow Wiki:Useful Catalog Scripts"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20170825160912"/>

	<meta property="article:published_time" content="20170825160912"/>

	<meta property="article:modified_time" content="20170825160912"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Service Catalog Management"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Useful_Catalog_Scripts"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Useful_Catalog_Scripts rootpage-Useful_Catalog_Scripts skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Useful+Catalog+Scripts.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Useful+Catalog+Scripts&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, 0]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (500 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Useful Catalog Scripts</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
Useful Catalog Scripts</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-servicenow-platform/page/script/useful-scripts/topic/p_UsefulScripts.html">useful Scripts</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.
</p>
</td></tr></table>
<p>This is a searchable version of the Useful Catalog Scripts. For an easy-to-navigate version, visit the <a href="index.php%3Ftitle=Useful_Scripts_portal.html" title="Useful Scripts portal" class="mw-redirect">Useful Scripts portal</a>. 
</p>
<hr />
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Impact"><span class="tocnumber">1.1</span> <span class="toctext">Impact</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Adding_a_Field_to_the_Service_Catalog_Checkout"><span class="tocnumber">2</span> <span class="toctext">Adding a Field to the Service Catalog Checkout</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Overview_2"><span class="tocnumber">3</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Script"><span class="tocnumber">4</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Overview_3"><span class="tocnumber">5</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Creating_a_UI_Policy_for_Service_Catalog_Items"><span class="tocnumber">6</span> <span class="toctext">Creating a UI Policy for Service Catalog Items</span></a></li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Example_Service_Catalog_UI_Policies"><span class="tocnumber">7</span> <span class="toctext">Example Service Catalog UI Policies</span></a>
<ul>
<li class="toclevel-2"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Example_1"><span class="tocnumber">7.1</span> <span class="toctext">Example 1</span></a></li>
<li class="toclevel-2"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Example_2"><span class="tocnumber">7.2</span> <span class="toctext">Example 2</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Enhancements"><span class="tocnumber">8</span> <span class="toctext">Enhancements</span></a>
<ul>
<li class="toclevel-2"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html#Eureka"><span class="tocnumber">8.1</span> <span class="toctext">Eureka</span></a></li>
</ul>
</li>
</ul>
</div>

<h2><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h2>
<p>The Service Catalog Checkout is controlled by the <b>servicecatalog_cart_template</b> UI Macro. Modifying the Service Catalog Checkout is an advanced customization which requires altering the Jelly script that generates it.
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>You can <a href="index.php%3Ftitle=Configuring_Cart_Layouts.html" title="Configuring Cart Layouts">configure cart layouts</a> without scripting, starting with the <a href="index.php%3Ftitle=Fuji_Release_Notes.html" title="Fuji Release Notes">Fuji release</a>.</i>
</td></tr></table>
<p><br />
</p>
<h3><span class="mw-headline" id="Impact"><span class="mw-headline-number">1.1</span> Impact</span></h3>
<p>This is an advanced customization that has the following impact:
</p>
<ul><li>Because the <b>servicecatalog_cart_template</b> UI Macro and <b>servicecatalog_cart_one</b> UI Page are customized, future updates to the Checkout will not be applied during the upgrade process.</li>
<li>Improperly changing the Jelly script which generates the Checkout can break the service catalog checkout.</li></ul>
<p><br />
</p>
<h2><span class="mw-headline" id="Adding_a_Field_to_the_Service_Catalog_Checkout"><span class="mw-headline-number">2</span> Adding a Field to the Service Catalog Checkout</span></h2>
<p>This is an example of adding a <b>Company</b> field to the checkout below the <b>Requested for</b> field:
</p><p><a href="index.php%3Ftitle=File:Us-addingfield1.png.html" class="image"><img alt="Us-addingfield1.png" src="images/6/6d/Us-addingfield1.png" width="316" height="134" /></a>
</p><p>This field will then pass the value of that field to the <b>Company</b> field of the Service Catalog Request.
</p><p>This example makes the following assumptions.
</p>
<ul><li>This example is for an instance using two-step checkout. If two-step checkout is not enabled, <a href="index.php%3Ftitle=Enabling_a_Two-Step_Checkout.html" title="Enabling a Two-Step Checkout">enable it</a> before beginning.</li>
<li>This example populates the <b>Company</b> field on the Service Catalog Request form. If the field does not appear on the form, <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Configuring+Forms&amp;oldid=0.html#Configuring_Forms" title="Configuring Forms">configure the form</a> before beginning.</li></ul>
<p><br />
<i><b>To add a field to the Service Catalog Checkout:</b></i>
</p><p>Go to <b>System UI &gt; UI Macros</b> and select <b>servicecatalog_cart_template</b>.<br /> 
Find where there are hidden variables declared and add the following line:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;HIDDEN&quot;</span> <span class="na">name=</span><span class="s">&quot;cart_id&quot;</span> <span class="na">id=</span><span class="s">&quot;cart_id&quot;</span> <span class="na">value=</span><span class="s">&quot;$[sc_cart.sys_id]&quot;</span> <span class="nt">/&gt;</span>
</pre></div> 
<p>Find the following code, which generates the <b>Requested For</b> code:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre> <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;30%&quot;</span> <span class="nt">&gt;</span>
  ${gs.getMessage(&#39;Requested for&#39;)}:
  <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">width=</span><span class="s">&quot;70%&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;requestor_location&quot;</span><span class="nt">&gt;</span>${gs.getMessage(&#39;Deliver to&#39;)}:<span class="nt">&lt;/label&gt;</span>
  <span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
<span class="nt">&lt;tr&gt;&lt;td&gt;</span>$[SP]<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>		
<span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td</span> <span class="na">valign=</span><span class="s">&quot;top&quot;</span><span class="nt">&gt;</span>	
    <span class="nt">&lt;j2:if</span> <span class="na">test=</span><span class="s">&quot;$[jvar_can_delta_rf == false]&quot;</span><span class="nt">&gt;</span>
      $[sc_cart.requested_for.getDisplayValue()]
    <span class="nt">&lt;/j2:if&gt;</span>			
    <span class="nt">&lt;j2:if</span> <span class="na">test=</span><span class="s">&quot;$[jvar_can_delta_rf != false]&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;g2:catalog_requested_for</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/j2:if&gt;</span>					
  <span class="nt">&lt;/td&gt;</span>
  <span class="nt">&lt;td&gt;</span>								
    <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">&quot;requestor_location&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 100%&quot;</span> <span class="na">rows=</span><span class="s">&quot;4&quot;</span> 
      <span class="na">name=</span><span class="s">&quot;requestor_location&quot;</span> <span class="na">wrap=</span><span class="s">&quot;soft&quot;</span> <span class="na">onChange=</span><span class="s">&quot;catDeliveryAddress(&#39;$[sc_cart.sys_id]&#39;, &#39;requestor_location&#39;);&quot;</span> <span class="nt">&gt;</span> 
      $[sc_cart.delivery_address]
    <span class="nt">&lt;/textarea&gt;</span>								
  <span class="nt">&lt;/td&gt;</span>			
<span class="nt">&lt;/tr&gt;</span>	
<span class="nt">&lt;tr&gt;</span>
  <span class="nt">&lt;td&gt;</span>$[SP]<span class="nt">&lt;/td&gt;</span>
<span class="nt">&lt;/tr&gt;</span>
</pre></div>
<p>Add the following code afterwards:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span> 
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span>Company<span class="nt">&lt;/td&gt;</span> 
<span class="nt">&lt;/tr&gt;</span> 
<span class="nt">&lt;tr&gt;</span> 
  <span class="nt">&lt;td&gt;</span>$[SP]<span class="nt">&lt;/td&gt;</span> 
<span class="nt">&lt;/tr&gt;</span>  
<span class="nt">&lt;tr&gt;</span> 
  <span class="nt">&lt;td</span> <span class="na">colspan=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;g2:ui_reference</span> <span class="na">name=</span><span class="s">&quot;core_company&quot;</span> <span class="na">table=</span><span class="s">&quot;core_company&quot;</span> <span class="na">onchange=</span><span class="s">&quot;setCartValue()&quot;</span><span class="nt">/&gt;</span> 
  <span class="nt">&lt;/td&gt;</span> 
<span class="nt">&lt;/tr&gt;</span> 
<span class="nt">&lt;tr&gt;</span> 
  <span class="nt">&lt;td&gt;</span>$[SP]<span class="nt">&lt;/td&gt;</span> 
<span class="nt">&lt;/tr&gt;</span>
</pre></div>
<ul><li>Note that 'ui_reference' is another macro that defines a reference field.  There are several macros for different field types.  You can see examples of these field types by navigating to the Macros list at <b>System UI &gt; UI Macros</b>. These macros start with 'ui_'. For this example, the reference field created is named <b>core_company</b>.</li></ul>
<p>Now navigate to <b>System UI &gt; UI Pages</b> and select the <b>servicecatalog_checkout_one</b> UI Page. 
Add this script to the <b>Client script</b> field: 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">setCartValue</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newField</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s1">&#39;core_company&#39;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">myCart</span> <span class="o">=</span> <span class="nx">gel</span><span class="p">(</span><span class="s1">&#39;cart_id&#39;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">cart_item</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_cart_item&#39;</span><span class="p">);</span>
  <span class="nx">cart_item</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nx">myCart</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
  <span class="nx">cart_item</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">cart_item</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>
    <span class="nx">cart_item</span><span class="p">.</span><span class="nx">hints</span> <span class="o">=</span> <span class="s2">&quot;&lt;hints&gt;&lt;entry key=&#39;sysparm_processing_hint&#39; value=&#39;setfield:request.company=&quot;</span> <span class="o">+</span> <span class="nx">newField</span><span class="p">.</span><span class="nx">value</span> <span class="o">+</span> <span class="s2">&quot;&#39;/&gt;&lt;/hints&gt;&quot;</span><span class="p">;</span>
    <span class="nx">cart_item</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<ul><li>For this example, the reference field was called <b>core_company</b>, and the field being populated on the request is <b>company</b>. If different fields are used:
<ul><li>Find this line: <tt>var company = gel('core_company');</tt> and replace <b>core_company</b> with the name of the field in the checkout.</li>
<li>In the line that starts with 'cart_item.hints' replace 'request.company' with the name of the field to be populated on the request ticket where 'request' is the request being generated and 'company' is the name of the field.</li></ul></li></ul>
<p>Now, when an item is ordered, the company field appears on the Catalog form:
</p><p><a href="index.php%3Ftitle=File:Us-addingfield2.png.html" class="image"><img alt="Us-addingfield2.png" src="images/c/c6/Us-addingfield2.png" width="667" height="523" /></a> 
</p>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Attach Execution Plan from Script 
</p><p><b>Type:</b>  
</p><p><b>Table:</b> 
</p><p><b>Description:</b> Attaches an execution plan. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="nx">setAndExpendDeliveryPlanRI</span><span class="p">();</span>

<span class="kd">function</span> <span class="nx">setAndExpendDeliveryPlanRI</span><span class="p">()</span> <span class="p">{</span>
<span class="nx">gs</span><span class="p">.</span><span class="nx">addInfoMessage</span><span class="p">(</span><span class="s2">&quot;Attach Deliv Plan...&quot;</span><span class="p">)</span>
<span class="nx">gs</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="s2">&quot;DeliveryPlanMatcherActive&quot;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">matcher</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DeliveryPlanMatcherActive</span><span class="p">(</span><span class="nx">current</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">planID</span> <span class="o">=</span> <span class="nx">matcher</span><span class="p">.</span><span class="nx">getPlan</span><span class="p">();</span>
<span class="nx">gs</span><span class="p">.</span><span class="nx">addInfoMessage</span><span class="p">(</span><span class="s2">&quot;planID: &quot;</span> <span class="o">+</span> <span class="nx">planID</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">planID</span><span class="p">)</span>
<span class="k">return</span><span class="p">;</span>

<span class="nx">current</span><span class="p">.</span><span class="nx">delivery_plan</span> <span class="o">=</span> <span class="nx">planID</span><span class="p">;</span>
<span class="nx">gs</span><span class="p">.</span><span class="nx">include</span><span class="p">(</span><span class="s1">&#39;CatalogTaskGenerator&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">gen</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CatalogTaskGenerator</span><span class="p">(</span><span class="nx">planID</span><span class="p">,</span> <span class="nx">current</span><span class="p">);</span>
<span class="nx">gen</span><span class="p">.</span><span class="nx">createTasks</span><span class="p">();</span>
<span class="p">}</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Change Variable String to Propercase While on Form 
</p><p><b>Type:</b>  
</p><p><b>Table:</b> sys_user
</p><p><b>Description:</b> This script changes a firstname or lastname variable to propercase if it is in all upper- or lower-case, while on the form. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// get the control</span>
  <span class="kd">var</span> <span class="nx">firstname_ctrl</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getControl</span><span class="p">(</span><span class="s1">&#39;first_name&#39;</span><span class="p">);</span>    
  <span class="kd">var</span> <span class="nx">lastname_ctrl</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getControl</span><span class="p">(</span><span class="s1">&#39;last_name&#39;</span><span class="p">);</span>    
  <span class="c1">// set its onBlur method</span>
  <span class="nx">firstname_ctrl</span><span class="p">.</span><span class="nx">onblur</span> <span class="o">=</span> <span class="nx">chgfirstname</span><span class="p">;</span>
  <span class="nx">lastname_ctrl</span><span class="p">.</span><span class="nx">onblur</span> <span class="o">=</span> <span class="nx">chglastname</span><span class="p">;</span>   
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">chgfirstname</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">firstname</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;first_name&#39;</span><span class="p">);</span>
  <span class="c1">//if firstname has a lowercase letter</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">firstname</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[a-z]/</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">//alert (&#39;firstname doesnt have lowercase&#39;);</span>
    <span class="kd">var</span> <span class="nx">f_lowercase</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">//if firstname has uppercase letter</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">firstname</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[A-Z]/</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">//alert(&#39;firstname doesnt have uppercase&#39;);</span>
    <span class="kd">var</span> <span class="nx">f_uppercase</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">f_uppercase</span> <span class="o">==</span> <span class="kc">true</span> <span class="o">||</span> <span class="nx">f_lowercase</span> <span class="o">==</span> <span class="kc">true</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">proper_firstname</span> <span class="o">=</span> <span class="nx">toProperCase</span><span class="p">(</span><span class="nx">firstname</span><span class="p">);</span>
    <span class="nx">firstname</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;first_name&#39;</span><span class="p">,</span> <span class="nx">proper_firstname</span><span class="p">);</span>
  <span class="p">}</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">chglastname</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">lastname</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">getValue</span><span class="p">(</span><span class="s1">&#39;last_name&#39;</span><span class="p">);</span>
  <span class="c1">//if lastname has a lowercase letter </span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lastname</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[a-z]/</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">//alert (&#39;lastname doesnt have lowercase&#39;);</span>
    <span class="kd">var</span> <span class="nx">l_lowercase</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="c1">//if lastname has uppercase letter </span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">lastname</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[A-Z]/</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">//alert(&#39;lastname doesnt have uppercase&#39;);</span>
    <span class="kd">var</span> <span class="nx">l_uppercase</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">l_uppercase</span> <span class="o">==</span> <span class="kc">true</span> <span class="o">||</span> <span class="nx">l_lowercase</span> <span class="o">==</span> <span class="kc">true</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">proper_lastname</span> <span class="o">=</span> <span class="nx">toProperCase</span><span class="p">(</span><span class="nx">lastname</span><span class="p">);</span>
    <span class="nx">lastname</span> <span class="o">=</span> <span class="nx">g_form</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="s1">&#39;last_name&#39;</span><span class="p">,</span> <span class="nx">proper_lastname</span><span class="p">);</span>
  <span class="p">}</span>
 <span class="p">}</span>

<span class="kd">function</span> <span class="nx">toProperCase</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="p">{</span> 
  <span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^(.)|\s(.)/g</span><span class="p">,</span>
    <span class="kd">function</span><span class="p">(</span><span class="nx">$1</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">$1</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span> <span class="p">});</span>
<span class="p">}</span>
</pre></div>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.</i>
</td></tr></table>
<h1><span class="mw-headline" id="Overview_2"><span class="mw-headline-number">3</span> Overview</span></h1>
<p>Administrators can easily hide the filter fields that appear above a list collector by adding the <tt>no_filter</tt> attribute, which is the recommended approach. Using the <tt>no_filter</tt> requires no scripting. For more information, see <a href="index.php%3Ftitle=Variable_Types.html#List_Collector" title="Variable Types">List Collector</a>.
</p><p>This scripted approach to hiding list collector filters, shown below, is provided for information purposes.
</p>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<h1><span class="mw-headline" id="Script"><span class="mw-headline-number">4</span> Script</span></h1>
<p><b>Name:</b> Hide List Collector Filters 
</p><p><b>Type:</b> onLoad Catalog Client Script 
</p><p><b>Table:</b> 
</p><p><b>Description:</b> When using a list collector variable in the service catalog, this script hides the filter fields above the list collector. This script works if there is only one list collector on the page. 
</p><p><b>Parameters:</b> 
</p>
<b>Script:</b> <div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;ep&quot;</span><span class="p">).</span><span class="nx">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">;</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;ep&quot;</span><span class="p">).</span><span class="nx">rows</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>In order to hide the text <b>Use Add Filter and Run Filter...</b> below the List Collector control, use the following line of code in your onLoad script
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre>  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s1">&#39;tdwrap&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">;</span>
</pre></div>
<p>Using Prototype.JS framework you can re-write the onLoad function as:
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>Original lines have been commented out</i>
</td></tr></table>
<p><br />
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">onLoad</span><span class="p">()</span> <span class="p">{</span>
   <span class="c1">// document.getElementById(&#39;ep&#39;).rows[0].style.display=&#39;none&#39;;</span>
   <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;ep&#39;</span><span class="p">).</span><span class="nx">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
   <span class="c1">// document.getElementById(&#39;ep&#39;).rows[1].style.display=&#39;none&#39;;</span>
   <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;ep&#39;</span><span class="p">).</span><span class="nx">rows</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">&#39;none&#39;</span>
   <span class="c1">// document.getElementsByClassName(&#39;tdwrap&#39;)[0].style.display=&#39;none&#39;;</span>
   <span class="nx">$$</span><span class="p">(</span><span class="s1">&#39;td.tdwrap&#39;</span><span class="p">).</span><span class="nx">first</span><span class="p">().</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Set Request's Associated Task Due Date 
</p><p><b>Type:</b> Business Rule 
</p><p><b>Table:</b> sc_task
</p><p><b>Description:</b> 'Before' Business Rule which takes the Last Day Worked variable from a service request and sets its associated task's due dates to 24 hours later. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This API call changed in the Calgary release:</i>
<ul><li><i>GlideDateTime</i> replaces <i>Packages.com.glide.glideobject.GlideDateTime</i> </li></ul>
<p>The new script object calls apply to the Calgary release and beyond. For releases prior to Calgary, substitute the packages call as described above. Packages calls are not valid beginning with the Calgary release. For more information, see <a href="index.php%3Ftitle=Scripting_API_Changes.html" title="Scripting API Changes">Scripting API Changes</a>.
</p>
</td></tr></table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">var</span> <span class="nx">anActualDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideDateTime</span><span class="p">();</span>
<span class="nx">anActualDate</span><span class="p">.</span><span class="nx">setDisplayValue</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">request_item</span><span class="p">.</span><span class="nx">variable_pool</span><span class="p">.</span><span class="nx">last_day_worked</span><span class="p">.</span><span class="nx">getDisplayValue</span><span class="p">());</span> 
<span class="kd">var</span> <span class="nx">datePlusOne</span> <span class="o">=</span> <span class="nx">anActualDate</span><span class="p">.</span><span class="nx">getNumericValue</span><span class="p">();</span> 
<span class="nx">datePlusOne</span> <span class="o">+=</span> <span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="p">);</span> 
<span class="nx">current</span><span class="p">.</span><span class="nx">due_date</span><span class="p">.</span><span class="nx">setDateNumericValue</span><span class="p">(</span><span class="nx">datePlusOne</span><span class="p">);</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This article applies to Fuji. For more current information, see <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="https://docs.servicenow.com/bundle/jakarta-it-service-management/page/product/service-catalog-management/concept/c_ServiceCatalogUIPolicy.html">Service Catalog UI Policy</a> at <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a></i>
<p>The ServiceNow Wiki is no longer being updated. Please refer to <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://docs.servicenow.com">http://docs.servicenow.com</a> for the latest product documentation.
</p>
</td></tr></table>
<p><br />
</p>
<div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Service_Catalog_Management.html" title="Service Catalog Management">Service Catalog Management</a>
</th></tr>
<tr>
<td> <div class='dtree' id='5a22f0c12368et'></div><script type="text/javascript">window.tamOnload_tam5a22f0c12368et=[];tree = new dTree('tam5a22f0c12368et');
                                               for (i in tree.icon) tree.icon[i] = '/extensions/TreeAndMenu/'+tree.icon[i];
                                               tree.config.useLines = false;
                                               tree.add(0,-1,'');
                                               tam5a22f0c12368et = tree;
                                               tam5a22f0c12368et.add(1, 0, ' Setup');

tam5a22f0c12368et.add(2, 1, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Managing_Multiple_Service_Catalogs\&quot;" title=\"Managing Multiple Service Catalogs\">Multiple Catalogs</a>');
tam5a22f0c12368et.add(3, 2, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Upgrading_to_Multiple_Service_Catalogs\&quot;" title=\"Upgrading to Multiple Service Catalogs\">Upgrading</a>');
tam5a22f0c12368et.add(4, 1, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Managing_the_Homepage_for_a_Catalog\&quot;" title=\"Managing the Homepage for a Catalog\">Homepage</a> ');
tam5a22f0c12368et.add(5, 1, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Categories\&quot;" title=\"Service Catalog Categories\">Categories</a> ');
tam5a22f0c12368et.add(6, 1, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Defining_Catalog_Items\&quot;" title=\"Defining Catalog Items\">Catalog Items</a>');
tam5a22f0c12368et.add(7, 6, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Order_Guides\&quot;" title=\"Service Catalog Order Guides\">Order Guides</a> ');
tam5a22f0c12368et.add(8, 6, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Running_Order_Guides_Automatically\&quot;" title=\"Running Order Guides Automatically\">Automatic Order Guides</a>');
tam5a22f0c12368et.add(9, 6, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Record_Producer\&quot;" title=\"Record Producer\">Record Producers</a> ');
tam5a22f0c12368et.add(10, 6, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Adding_Content_Items_to_Service_Catalog\&quot;" title=\"Adding Content Items to Service Catalog\">Content Items</a>');
tam5a22f0c12368et.add(11, 0, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Catalog_Item_Designer\&quot;" title=\"Catalog Item Designer\">Item Designer</a>');
tam5a22f0c12368et.add(12, 11, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Administering_the_Catalog_Item_Designer\&quot;" title=\"Administering the Catalog Item Designer\">Admin</a>');
tam5a22f0c12368et.add(13, 11, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_the_Catalog_Item_Designer\&quot;" title=\"Using the Catalog Item Designer\">Using</a>');
tam5a22f0c12368et.add(14, 11, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Installed_with_Catalog_Item_Designer\&quot;" title=\"Installed with Catalog Item Designer\">Installed components</a>');
tam5a22f0c12368et.add(15, 0, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Managing_Request_Fulfillment\&quot;" title=\"Managing Request Fulfillment\">Fulfillment</a> ');
tam5a22f0c12368et.add(16, 15, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Workflows\&quot;" title=\"Service Catalog Workflows\">Workflows</a>  ');
tam5a22f0c12368et.add(17, 16, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Defining_a_Service_Catalog_Workflow\&quot;" title=\"Defining a Service Catalog Workflow\">Defining</a>');
tam5a22f0c12368et.add(18, 15, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Execution_Plans\&quot;" title=\"Using Execution Plans\">Execution Plans</a> ');
tam5a22f0c12368et.add(19, 18, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_an_Execution_Plan\&quot;" title=\"Creating an Execution Plan\">Creating</a>');
tam5a22f0c12368et.add(20, 18, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_Execution_Plan_Tasks\&quot;" title=\"Creating Execution Plan Tasks\">Tasks</a>');
tam5a22f0c12368et.add(21, 18, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Applying_Conditions_to_Execution_Plan_Tasks\&quot;" title=\"Applying Conditions to Execution Plan Tasks\">Conditions</a> ');
tam5a22f0c12368et.add(22, 18, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Execution_Plan_Approval_Tasks\&quot;" title=\"Execution Plan Approval Tasks\">Approvals</a>');
tam5a22f0c12368et.add(23, 0, ' Configuration');
tam5a22f0c12368et.add(24, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Access_Controls\&quot;" title=\"Service Catalog Access Controls\" class=\"mw-redirect\">Access Controls</a> ');
tam5a22f0c12368et.add(25, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Hiding_Prices_in_the_Service_Catalog\&quot;" title=\"Hiding Prices in the Service Catalog\">Hiding Prices</a>');
tam5a22f0c12368et.add(26, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Localizing_Price_in_the_Service_Catalog\&quot;" title=\"Localizing Price in the Service Catalog\">Localizing Prices</a>');
tam5a22f0c12368et.add(27, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_UI_Policy\&quot;" title=\"Service Catalog UI Policy\">UI Policy</a>');
tam5a22f0c12368et.add(28, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Service_Catalog_Renderers\&quot;" title=\"Using Service Catalog Renderers\">Using Renderers</a>');
tam5a22f0c12368et.add(29, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Data_Lookup\&quot;" title=\"Service Catalog Data Lookup\">Data Lookup</a>');
tam5a22f0c12368et.add(30, 23, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Properties\&quot;" title=\"Service Catalog Properties\">Properties</a>');
tam5a22f0c12368et.add(31, 23, ' Cart');
tam5a22f0c12368et.add(32, 31, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Configuring_Cart_Layouts\&quot;" title=\"Configuring Cart Layouts\">Cart Layout</a>');
tam5a22f0c12368et.add(33, 31, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Enabling_a_Two-Step_Checkout\&quot;" title=\"Enabling a Two-Step Checkout\">2-Step Checkout</a>');
tam5a22f0c12368et.add(34, 31, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Enabling_Bulk_Requests\&quot;" title=\"Enabling Bulk Requests\">Bulk Requests</a> ');
tam5a22f0c12368et.add(35, 0, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Variables\&quot;" title=\"Service Catalog Variables\">Variables</a>');
tam5a22f0c12368et.add(36, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Service_Catalog_Variables\&quot;" title=\"Using Service Catalog Variables\">Using</a>');
tam5a22f0c12368et.add(37, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Variable_Types\&quot;" title=\"Variable Types\">Types</a>');
tam5a22f0c12368et.add(38, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Variable_Sets\&quot;" title=\"Service Catalog Variable Sets\">Sets</a>');
tam5a22f0c12368et.add(39, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Reference_Qualifiers_for_Service_Catalog_Variables\&quot;" title=\"Reference Qualifiers for Service Catalog Variables\">Qualifiers</a>');
tam5a22f0c12368et.add(40, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Variable_Pricing\&quot;" title=\"Service Catalog Variable Pricing\">Pricing</a>');
tam5a22f0c12368et.add(41, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Auditable_Service_Catalog_Variables\&quot;" title=\"Auditable Service Catalog Variables\">Auditable</a>');
tam5a22f0c12368et.add(42, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Scriptable_Service_Catalog_Variables\&quot;" title=\"Scriptable Service Catalog Variables\">Scriptable</a> ');
tam5a22f0c12368et.add(43, 35, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Reporting_on_Service_Catalog_Variables\&quot;" title=\"Reporting on Service Catalog Variables\">Reporting</a>');
tam5a22f0c12368et.add(44, 0, ' Scripting');
tam5a22f0c12368et.add(45, 44, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_a_Catalog_Client_Script\&quot;" title=\"Creating a Catalog Client Script\">Creating a Script</a>');
tam5a22f0c12368et.add(46, 44, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Scripting_Currency_and_Price_Fields\&quot;" title=\"Scripting Currency and Price Fields\">Currency</a>');
tam5a22f0c12368et.add(47, 44, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Catalog_Script_API\&quot;" title=\"Service Catalog Script API\">Script API</a> ');
tam5a22f0c12368et.add(48, 44, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_a_Custom_Shopping_Cart\&quot;" title=\"Creating a Custom Shopping Cart\" class=\"mw-redirect\">Custom Cart</a>');
tam5a22f0c12368et.add(49, 44, ' <a href="http://wiki.servicenow.com/\&quot;/index.php?title=Scriptable_Assignment_of_Execution_Plans\&quot;" title=\"Scriptable Assignment of Execution Plans\">Execution Plans</a>');

                                               document.getElementById('5a22f0c12368et').innerHTML = tam5a22f0c12368et.toString();
                                               
                                               for(i in window.tamOnload_tam5a22f0c12368et) { window.tamOnload_tam5a22f0c12368et[i](); }</script>


</td></tr>
<tr>
<th> Related Topics
</th></tr>
<tr>
<td>
<ul><li><a href="index.php%3Ftitle=ITIL_Implementation_Guide.html" title="ITIL Implementation Guide" class="mw-redirect">ITIL Implementation Guide</a></li></ul>
</td></tr>
<tr>
<th> Get the Book
</th></tr>
<tr>
<td> <a href="index.php%3Ftitle=Book:Service_Catalog_Administration.html" title="Book:Service Catalog Administration"><img alt="Knowledge.gif" src="images/d/dd/Knowledge.gif" width="16" height="16" /></a> <a href="index.php%3Ftitle=Book:Service_Catalog_Administration.html" title="Book:Service Catalog Administration">Service Catalog Admin</a>
</td></tr></table>
</div> 
<h1><span class="mw-headline" id="Overview_3"><span class="mw-headline-number">5</span> Overview</span></h1>
<p><a href="index.php%3Ftitle=Creating_a_UI_Policy.html" title="Creating a UI Policy">UI policies</a> can be used to define custom process flows for tasks. UI policies are also useful when applied to service catalog items. 
</p><p>Keep the following points in mind when creating service catalog UI policies:
</p>
<ul><li>A catalog UI policy applies to either a specific catalog item or any item that uses a specific variable set. </li>
<li>A catalog UI policy can only contain and reference variables that are defined for the catalog item or variable set.</li>
<li>Exactly like UI policy conditions, the variables in a service catalog UI policy condition must be visible (even if hidden by UI policy or read-only) on the form for the condition to be tested. Also, ensure that the variables have names. For more information see <a href="index.php%3Ftitle=Creating_a_Catalog_Client_Script.html" title="Creating a Catalog Client Script">Creating a Catalog Client Script</a>.</li>
<li>Limited UI policy functionality applies to the following variables: 
<ul><li>Mandatory and Read Only policies do not apply to the following variable types: Break, Container Start, Container Split, Container End, UI Macro, UI Macro with Label, Label, UI Page</li>
<li>Set visible policy does not apply to the following variable types: Break, Container Split, Container End</li>
<li>Show attributes when Type is one of certain values policy makes the attributes field visible only to the following variable types: Reference, Lookup Multiple Choice, Lookup Select Box, List Collector, Single Line Text, Wide Single Line Text</li></ul></li>
<li>Service catalog UI policies are applied to variables and variable sets of catalog items ordered in the service catalog. Policies can also be applied when the variables are present in a Requested Item or Catalog Task form (starting with the <a href="index.php%3Ftitle=Calgary_Release_Notes.html" title="Calgary Release Notes">Calgary release</a>).</li>
<li>Catalog UI policies are supported for catalog items viewed in a service catalog <a href="index.php%3Ftitle=Wizards.html" title="Wizards">wizard</a> (starting with the Calgary release).</li></ul>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>The UI policy for catalog items always takes precedence over UI policy for variable sets.</i>
</td></tr></table>
<p><br />
</p>
<h1><span class="mw-headline" id="Creating_a_UI_Policy_for_Service_Catalog_Items"><span class="mw-headline-number">6</span> Creating a UI Policy for Service Catalog Items</span></h1>
<ol><li>Navigate to <b>Service Catalog &gt; Catalog Policy &gt; Catalog UI Policies</b>. </li>
<li>Click <b>New</b>. </li>
<li>Right-click the form header and select <b>Views &gt; Default view</b> or <b>Advanced</b> (starting with the <a href="index.php%3Ftitle=Eureka_Release_Notes.html" title="Eureka Release Notes">Eureka release</a>).</li>
<li>In the <b>Applies to</b> field, select <b>A Catalog Item</b>.</li>
<li>Fill in the remaining fields (see table).</li>
<li>Click <b>Submit</b>.</li></ol>
<dl><dd><div class="thumb tleft"><div class="thumbinner" style="width:752px;"><a href="index.php%3Ftitle=File:Catalog_UI_Policy_Eureka.png.html" class="image"><img alt="" src="images/thumb/4/45/Catalog_UI_Policy_Eureka.png/750px-Catalog_UI_Policy_Eureka.png" width="750" height="492" class="thumbimage" srcset="/images/4/45/Catalog_UI_Policy_Eureka.png 1.5x, /images/4/45/Catalog_UI_Policy_Eureka.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Catalog_UI_Policy_Eureka.png.html" class="internal" title="Enlarge"></a></div>The advanced view of a catalog UI policy that makes an option read only.</div></div></div><br style="clear:both;" /></dd></dl>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>You might need to <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Configuring+Forms&amp;oldid=0.html#Configuring_Forms" title="Configuring Forms">configure the form</a> to see all the fields below.</i>
</td></tr></table>
<table class="standard">

<tr>
<th> Field
</th>
<th> Description
</th></tr>
<tr>
<td>  Applies to
</td>
<td>  Select the type of item this UI policy applies to:
<ul><li><b>A Catalog Item:</b> enables the <b>Catalog item</b> field.</li>
<li><b>A Variable Set:</b> enables the <b>Variable set</b> field.</li></ul>
</td></tr>
<tr>
<td>  Catalog Item or Variable Set
</td>
<td>  Select the catalog item or a variable set this UI policy applies to. The field name and options available depend on the <b>Applies to</b> selection.
</td></tr>
<tr>
<td>  Short description
</td>
<td>  Enter a brief description (example, <i>Out-of-state move</i>).
</td></tr>
<tr>
<td>  Active
</td>
<td>  Select the check box to enable the UI policy. Clear the check box to disable it.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="2"><b>When to Apply</b>
</td></tr>
<tr>
<td>  Catalog Conditions
</td>
<td>  Create conditions for the UI policy using catalog item variables. The policy is applied if the conditions evaluate to <i>true</i>.  For example, a catalog item of <b>Schedule a Move</b> may have a condition of <b>move_from &gt; is &gt; San Diego</b>. The UI policy is applied when an employee schedules a move from San Diego to any other company location.
</td></tr>
<tr>
<td>  Applies on a Catalog Item view
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to apply the UI policy to catalog items within the order screen (starting with the Calgary release).
</td></tr>
<tr>
<td>  Applies on Catalog Tasks
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to apply the UI policy on a Catalog Task form (starting with the Calgary release).
</td></tr>
<tr>
<td>  Applies on Requested Items
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to apply the UI policy on a Requested Item form (starting with the Calgary release).
</td></tr>
<tr>
<td>  On load
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to apply the UI policy when the form is loaded. Clear the check box to apply the policy only when the form is changed.
</td></tr>
<tr>
<td>  Reverse if false
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to reverse the UI policy if the <b>Catalog Conditions</b> statement evaluates to <i>false</i>.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="2"><b>Script</b>
</td></tr>
<tr>
<td>  Run scripts
<p>[Advanced view]
</p>
</td>
<td>  Select the check box to use the <b>Execute if true</b> and <b>Execute if false</b> scripting fields. Scripts are necessary to apply a UI policy other than <b>Read Only</b>, <b>Mandatory</b>, or <b>Visible</b>. For example, you must create a script to apply a UI policy to a specific role.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="2"><b>Other fields</b>
</td></tr>
<tr>
<td>  Order
</td>
<td>  Enter the sequence in which this UI policy is evaluated if more than one matching UI policy exists. The order is evaluated from the lowest value to the highest value.
</td></tr>
<tr>
<td>  Global
</td>
<td>  This field is not used for the service catalog.
</td></tr>
<tr>
<td>  Inherit
</td>
<td>  This field is not used for the service catalog.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" align="left" colspan="2"><b>UI action</b>
</td></tr>
<tr>
<td>Default view or Advanced view
</td>
<td>Changes the form view to the default or advanced view. The fields change based on the view.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="2"><b>Related list: Catalog UI Policy Actions</b>
</td></tr>
<tr>
<td>Catalog Item or Variable Set
</td>
<td>A read only field that shows the catalog item or variable set that this policy action applies to.
</td></tr>
<tr>
<td>Variable name
</td>
<td>Select the variable that belongs to the catalog item or variable set.
</td></tr>
<tr>
<td> Mandatory
</td>
<td> Choice list for specifying how the UI policy affects the mandatory state of the field. Choices are:
<ul><li>Leave alone</li>
<li>True</li>
<li>False</li></ul>
</td></tr>
<tr>
<td> Visible
</td>
<td> Choice list for specifying how the UI policy affects the visible state of the field. Choices are:
<ul><li>Leave alone</li>
<li>True</li>
<li>False</li></ul>
</td></tr>
<tr>
<td> Read Only
</td>
<td> Choice list for specifying how the UI policy affects the read-only state of the field. Choices are:
<ul><li>Leave alone</li>
<li>True</li>
<li>False</li></ul>
</td></tr></table>
<h1><span class="mw-headline" id="Example_Service_Catalog_UI_Policies"><span class="mw-headline-number">7</span> Example Service Catalog UI Policies</span></h1>
<h2><span class="mw-headline" id="Example_1"><span class="mw-headline-number">7.1</span> Example 1</span></h2>
<p>The following UI policy displays a mandatory field of all items to be moved when a user schedules a move from San Diego to any other office location.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:602px;"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary1.png.html" class="image"><img alt="" src="images/thumb/1/1c/Catalog_ui_policy_calgary1.png/600px-Catalog_ui_policy_calgary1.png" width="600" height="408" class="thumbimage" srcset="/images/1/1c/Catalog_ui_policy_calgary1.png 1.5x, /images/1/1c/Catalog_ui_policy_calgary1.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary1.png.html" class="internal" title="Enlarge"></a></div>UI policy example that makes a field both visible and mandatory</div></div></div> <br style="clear:both;" />
<p><br />
When a user schedules their move and selects <b>San Diego</b> in the <b>From</b> field, a mandatory field appears and asks the question, <i>Which equipment do you want to move?</i>
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:602px;"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary2.png.html" class="image"><img alt="" src="images/thumb/a/ad/Catalog_ui_policy_calgary2.png/600px-Catalog_ui_policy_calgary2.png" width="600" height="600" class="thumbimage" srcset="/images/a/ad/Catalog_ui_policy_calgary2.png 1.5x, /images/a/ad/Catalog_ui_policy_calgary2.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary2.png.html" class="internal" title="Enlarge"></a></div>UI policy example with new field</div></div></div>  <br style="clear:both;" />
<h2><span class="mw-headline" id="Example_2"><span class="mw-headline-number">7.2</span> Example 2</span></h2>
<p>The following UI policy makes it mandatory for anyone with the title <b>IT Technician</b> to add a mobile phone number when ordering business cards.
</p>
<div class="thumb tleft"><div class="thumbinner" style="width:602px;"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary3.png.html" class="image"><img alt="" src="images/thumb/d/d7/Catalog_ui_policy_calgary3.png/600px-Catalog_ui_policy_calgary3.png" width="600" height="482" class="thumbimage" srcset="/images/d/d7/Catalog_ui_policy_calgary3.png 1.5x, /images/d/d7/Catalog_ui_policy_calgary3.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Catalog_ui_policy_calgary3.png.html" class="internal" title="Enlarge"></a></div>UI policy example that makes a field mandatory</div></div></div>  <br style="clear:both;" />
<h1><span class="mw-headline" id="Enhancements"><span class="mw-headline-number">8</span> Enhancements</span></h1>
<h2><span class="mw-headline" id="Eureka"><span class="mw-headline-number">8.1</span> Eureka</span></h2>
<ul><li>The Catalog UI Policy form provides a default view that provides a simplified form and an advanced view that provides additional options. </li></ul>
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<p><br />
</p>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Order a Service Catalog Item from a Script 
</p><p><b>Type:</b>  
</p><p><b>Table:</b> 
</p><p><b>Description:</b> Orders a service catalog item from a script. For more on ordering specific items from a script, see <a href="index.php%3Ftitle=Service_Catalog_Script_API.html" title="Service Catalog Script API">Service Catalog Script API</a> 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>This API call changed in the Calgary release:</i>
<ul><li><i>GlideappRequestNew</i> replaces <i>Packages.com.glideapp.servicecatalog.RequestNew</i> </li></ul>
<p>The new script object calls apply to the Calgary release and beyond. For releases prior to Calgary, substitute the packages call as described above. Packages calls are not valid beginning with the Calgary release. For more information, see <a href="index.php%3Ftitle=Scripting_API_Changes.html" title="Scripting API Changes">Scripting API Changes</a>.
</p>
</td></tr></table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="c1">// nuke the current cart</span>
  <span class="nx">nukeCart</span><span class="p">();</span>
  <span class="c1">// new cart</span>
  <span class="kd">var</span> <span class="nx">realCart</span> <span class="o">=</span> <span class="nx">getCart</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">cartID</span> <span class="o">=</span> <span class="nx">realCart</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">;</span>
  <span class="c1">// order a blackberry</span>
  <span class="nx">addToCart</span><span class="p">(</span><span class="nx">cartID</span><span class="p">,</span> <span class="s2">&quot;e2132865c0a8016500108d9cee411699&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="nx">addOptions</span><span class="p">(</span><span class="nx">cartID</span><span class="p">);</span>
  <span class="nx">doOrder</span><span class="p">();</span>
  <span class="kd">function</span> <span class="nx">addToCart</span><span class="p">(</span><span class="nx">cartid</span><span class="p">,</span> <span class="nx">cat_item</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">gr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_cart_item&#39;</span><span class="p">);</span>
      <span class="nx">gr</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
      <span class="nx">gr</span><span class="p">.</span><span class="nx">cart</span> <span class="o">=</span> <span class="nx">cartid</span><span class="p">;</span>
      <span class="nx">gr</span><span class="p">.</span><span class="nx">cat_item</span> <span class="o">=</span> <span class="nx">cat_item</span><span class="p">;</span>
      <span class="nx">gr</span><span class="p">.</span><span class="nx">quantity</span> <span class="o">=</span> <span class="nx">quantity</span><span class="p">;</span>
      <span class="nx">gr</span><span class="p">.</span><span class="nx">insert</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">addOptions</span><span class="p">(</span><span class="nx">cartID</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// Get the Cart Item</span>
      <span class="kd">var</span> <span class="nx">kids</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_cart_item&#39;</span><span class="p">);</span>
      <span class="nx">kids</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nx">cartID</span><span class="p">);</span>
      <span class="nx">kids</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">kids</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>    
           <span class="c1">// Look up the options for the item in the cart</span>
           <span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;item_option_new&#39;</span><span class="p">);</span>
           <span class="nx">options</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;cat_item&#39;</span><span class="p">,</span> <span class="nx">kids</span><span class="p">.</span><span class="nx">cat_item</span><span class="p">);</span>
           <span class="nx">options</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
           <span class="c1">// Add the appropriate Item Options</span>
           <span class="k">while</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">gr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_item_option&#39;</span><span class="p">);</span>
                <span class="nx">gr</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">question_text</span> <span class="o">==</span> <span class="s2">&quot;Is this a replacement for a lost Blackberry device&amp;nbsp;?&quot;</span><span class="p">)</span> <span class="p">{</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">item_option_new</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">);</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;No&quot;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">question_text</span> <span class="o">==</span> <span class="s2">&quot;If it is a replacement, what was the original phone number&amp;nbsp;?&quot;</span><span class="p">)</span> <span class="p">{</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">item_option_new</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">);</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;(858)345-1418&quot;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">question_text</span> <span class="o">==</span> <span class="s2">&quot;Special Requirements&quot;</span><span class="p">)</span> <span class="p">{</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">item_option_new</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">);</span>
                     <span class="nx">gr</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s2">&quot;Need UK charger attachment.&quot;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="nx">gr</span><span class="p">.</span><span class="nx">cart_item</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">kids</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">);</span>
                <span class="nx">gr</span><span class="p">.</span><span class="nx">insert</span><span class="p">();</span>
           <span class="p">}</span>
       <span class="p">}</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">nukeCart</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="nx">getCart</span><span class="p">();</span>
      <span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">cart</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">kids</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_cart_item&#39;</span><span class="p">);</span>
      <span class="nx">kids</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;cart&#39;</span><span class="p">,</span> <span class="nx">cart</span><span class="p">.</span><span class="nx">sys_id</span><span class="p">);</span>
      <span class="nx">kids</span><span class="p">.</span><span class="nx">deleteMultiple</span><span class="p">();</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">getCart</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">cart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideRecord</span><span class="p">(</span><span class="s1">&#39;sc_cart&#39;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">userid</span> <span class="o">=</span> <span class="nx">gs</span><span class="p">.</span><span class="nx">getUserID</span><span class="p">();</span>
      <span class="nx">cart</span><span class="p">.</span><span class="nx">addQuery</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nx">userid</span><span class="p">);</span>
      <span class="nx">cart</span><span class="p">.</span><span class="nx">query</span><span class="p">();</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">cart</span><span class="p">.</span><span class="nx">next</span><span class="p">())</span> <span class="p">{</span>
          <span class="c1">// we already have a cart all is well</span>
      <span class="p">}</span>
      <span class="k">else</span> <span class="p">{</span>     
          <span class="nx">cart</span><span class="p">.</span><span class="nx">initialize</span><span class="p">();</span>
          <span class="nx">cart</span><span class="p">.</span><span class="nx">user</span> <span class="o">=</span> <span class="nx">userid</span><span class="p">;</span>
          <span class="nx">cart</span><span class="p">.</span><span class="nx">insert</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="k">return</span> <span class="nx">cart</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">function</span> <span class="nx">doOrder</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideappRequestNew</span><span class="p">();</span>
      <span class="nx">req</span><span class="p">.</span><span class="nx">copyCart</span><span class="p">();</span>
  <span class="p">}</span>
</pre></div> 
<table cellspacing="5" cellpadding="5" style="border: 1px solid rgb(210, 105, 30); width: 70%; margin-bottom: 0.5em; margin-top: 0.5em; vertical-align: top; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Role.gif.html" class="image" title="Role required"><img alt="Role required" src="images/7/7e/Role.gif" width="16" height="16" /></a></div>
</td>
<td width="100%"> Functionality described here requires the <b>Admin</b> role.
</td></tr></table>
<table cellspacing="5" cellpadding="5" class="FCK&#95;_ShowTableBorders" style="border: 1px solid rgb(153, 153, 5); margin-top: 0.5em; margin-bottom: 0.5em; vertical-align: top; width: 70%; background-color: rgb(245, 245, 245);">

<tr>
<td> <div class="floatleft"><a href="index.php%3Ftitle=File:Caution-diamond.png.html" class="image" title="As-is functionality"><img alt="As-is functionality" src="images/thumb/4/4f/Caution-diamond.png/25px-Caution-diamond.png" width="25" height="25" srcset="/images/thumb/4/4f/Caution-diamond.png/38px-Caution-diamond.png 1.5x, /images/thumb/4/4f/Caution-diamond.png/50px-Caution-diamond.png 2x" /></a></div>
</td>
<td width="100%"> <b>Caution: </b>The customization described here was developed for use in specific ServiceNow instances, and is not supported by ServiceNow Customer Support. This method is provided as-is and should be tested thoroughly before implementation. Post all questions and comments regarding this customization to our community <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://community.service-now.com">forum</a>.
</td></tr></table>
<p><b>Name:</b> Verify Request Start and End Dates 
</p><p><b>Type:</b>  
</p><p><b>Table:</b> 
</p><p><b>Description:</b> This script checks the start date against the current date, and throws an error message if the start date is before the current date. It also checks the end date against the start date, and throws up an error message if the end date is before the current date. 
</p><p><b>Parameters:</b> 
</p><p><b>Script:</b> 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>These API calls changed in the Calgary release:</i>
<ul><li><i>GlideDateTime</i> replaces <i>Packages.com.glide.glideobject.GlideDateTime</i> </li></ul>
<p>The new script object calls apply to the Calgary release and beyond. For releases prior to Calgary, substitute the packages calls as described above. Packages calls are not valid beginning with the Calgary release. For more information, see <a href="index.php%3Ftitle=Scripting_API_Changes.html" title="Scripting API Changes">Scripting API Changes</a>.
</p>
</td></tr></table>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span class="kd">function</span> <span class="nx">verifyDates</span><span class="p">()</span> <span class="p">{</span>
<span class="kd">var</span> <span class="nx">dReqStart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideDateTime</span><span class="p">();</span>
<span class="nx">dReqStart</span><span class="p">.</span><span class="nx">setDisplayValue</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">u_req_start_date</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">dReqEnd</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideDateTime</span><span class="p">();</span>
<span class="nx">dReqEnd</span><span class="p">.</span><span class="nx">setDisplayValue</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">u_req_end_date</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">today</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GlideDateTime</span><span class="p">();</span>
<span class="nx">today</span><span class="p">.</span><span class="nx">setDisplayValue</span><span class="p">(</span><span class="nx">gs</span><span class="p">.</span><span class="nx">now</span><span class="p">());</span>
<span class="k">if</span> <span class="p">((</span><span class="nx">dReqStart</span><span class="p">.</span><span class="nx">getNumericValue</span><span class="p">()</span> <span class="o">-</span> <span class="nx">today</span><span class="p">.</span><span class="nx">getNumericValue</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">gs</span><span class="p">.</span><span class="nx">addErrorMessage</span><span class="p">(</span><span class="s2">&quot;Request Start Date cannot begin before today.&quot;</span><span class="p">);</span>
  <span class="nx">current</span><span class="p">.</span><span class="nx">setAbortAction</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">((</span><span class="nx">dReqEnd</span><span class="p">.</span><span class="nx">getNumericValue</span><span class="p">()</span> <span class="o">-</span> <span class="nx">dReqStart</span><span class="p">.</span><span class="nx">getNumericValue</span><span class="p">())</span><span class="o">/</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="p">)</span> <span class="o">&amp;</span><span class="nx">lt</span><span class="p">;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">gs</span><span class="p">.</span><span class="nx">addErrorMessage</span><span class="p">(</span><span class="s2">&quot;Request End Date cannot come before Request Start Date.&quot;</span><span class="p">);</span>
  <span class="nx">current</span><span class="p">.</span><span class="nx">setAbortAction</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="p">}</span>

<span class="p">}</span>
</pre></div>

<!-- 
NewPP limit report
Cached time: 20171202182818
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.664 seconds
Real time usage: 4.598 seconds
Preprocessor visited node count: 309/1000000
Preprocessor generated node count: 939/1000000
Post‐expand include size: 39552/2097152 bytes
Template argument size: 4338/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00% 4158.723      1 - -total
 33.62% 1398.021      1 - Adding_a_Field_to_the_Service_Catalog_Checkout
 22.82%  949.032      1 - Hide_List_Collector_Filters
 12.30%  511.357      1 - Order_a_Service_Catalog_Item_from_a_Script
 11.63%  483.472      1 - Verify_Request_Start_and_End_Dates
  6.90%  286.844      1 - Attach_Execution_Plan_from_Script
  5.12%  213.087      1 - Set_Request's_Associated_Task_Due_Date
  4.34%  180.611      1 - Change_Variable_String_to_Propercase_While_on_Form
  2.98%  123.833      1 - Make_Variables_Read-Only_After_Checkout
  2.55%  105.919      1 - Template:Service_Catalog_Admin
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:6115-0!*!0!1!en!5!* and timestamp 20171202182814 and revision id 250391
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html">http://wiki.servicenow.com/index.php?title=Useful_Catalog_Scripts&amp;oldid=250391</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a></li><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Catalog+Scripts.html" title="Category:Service Catalog Scripts">Service Catalog Scripts</a></li><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Catalog+Management.html" title="Category:Service Catalog Management">Service Catalog Management</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Deliver.html" title="Category:Deliver">Deliver</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=IT+Services.html" title="Category:IT Services">IT Services</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Catalog+Management.html" title="Category:Service Catalog Management">Service Catalog Management</a><br />
<a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Script.html" title="Category:Script">Script</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a><br />
<a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Script.html" title="Category:Script">Script</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Useful+Scripts.html" title="Category:Useful Scripts">Useful Scripts</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Catalog+Scripts.html" title="Category:Service Catalog Scripts">Service Catalog Scripts</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_6115"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="6115" data-vote-the-vote="5" data-vote-id="6115" data-vote-action="5" data-vote-rating="3.67" data-vote-voted="0" id="rating_6115_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="6115" data-vote-the-vote="1" data-vote-id="6115" data-vote-action="5" data-vote-rating="3.67" data-vote-voted="0" id="rating_6115_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Useful_Catalog_Scripts.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="http://wiki.servicenow.com/index.php?title=Special:CreateAccount&amp;returnto=Useful+Catalog+Scripts&amp;returntoquery=oldid%3D250391" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="http://wiki.servicenow.com/index.php?title=Special:UserLogin&amp;returnto=Useful+Catalog+Scripts&amp;returntoquery=oldid%3D250391" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Useful_Catalog_Scripts.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Useful+Catalog+Scripts.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Useful+Catalog+Scripts&amp;returnto=Useful+Catalog+Scripts&amp;oldid=250391&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FUseful_Catalog_Scripts.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="index.php%3Ftitle=Special:RecentChangesLinked%252FUseful_Catalog_Scripts.html" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;oldid=250391.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Useful_Catalog_Scripts&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 16:09, 25 August 2017.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1160});});</script></body></html>

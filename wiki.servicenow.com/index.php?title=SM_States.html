<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>SM States - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"SM_States","wgTitle":"SM States","wgCurRevisionId":244682,"wgRevisionId":244682,"wgArticleId":23987,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Service Management"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"SM_States","wgRelevantArticleId":23987,"wgRequestId":"3c71530633e14bb7e7e9c6e0","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.content.externallinks%257Cmediawiki.skinning.interface%257Cskins.monobook.styles&amp;only=styles&amp;skin=monoboo.css"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20150225193405"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=SM_States"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="SM States"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Service Management"/>
<meta name="category" content="Service Management"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html" />

	<meta property="og:title" content="ServiceNow Wiki:SM States"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20150225193405"/>

	<meta property="article:published_time" content="20150225193405"/>

	<meta property="article:modified_time" content="20150225193405"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Service Management"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=SM_States"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-SM_States rootpage-SM_States skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=SM+States.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, &quot;0&quot;]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (500 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">SM States</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
<a href="index.html" title="Main Page">Home</a> &gt; <a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a> &gt; <a href="index.php%3Ftitle=IT_Services_Applications.html" title="IT Services Applications">IT Services</a> &gt; <a href="index.php%3Ftitle=Service_Management.html" title="Service Management">Service Management</a> &gt; SM States</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Service_Management.html" title="Service Management">Service Management</a>
</th></tr>
<tr>
<td> <div class='dtree' id='5a2312eb6c238t'></div><script type="text/javascript">window.tamOnload_tam5a2312eb6c238t=[];tree = new dTree('tam5a2312eb6c238t');
                                               for (i in tree.icon) tree.icon[i] = '/extensions/TreeAndMenu/'+tree.icon[i];
                                               tree.config.useLines = false;
                                               tree.add(0,-1,'');
                                               tam5a2312eb6c238t = tree;
                                               tam5a2312eb6c238t.add(1, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_Service_Order_Templates\&quot;" title=\"Creating Service Order Templates\">Creating Service Order Templates</a>');

tam5a2312eb6c238t.add(2, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Creating_a_Service_Management_Application\&quot;" title=\"Creating a Service Management Application\">Creating SM Applications</a>');
tam5a2312eb6c238t.add(3, 2, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Service_Management_Application_Designer\&quot;" title=\"Service Management Application Designer\">SM Application Designer</a>');
tam5a2312eb6c238t.add(4, 2, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Groups_in_SM_Applications\&quot;" title=\"Using Groups in SM Applications\">Using Groups in SM Applications</a>');
tam5a2312eb6c238t.add(5, 2, 'SM Applications');
tam5a2312eb6c238t.add(6, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Facilities_Service_Automation\&quot;" title=\"Facilities Service Automation\" class=\"mw-redirect\">Facilities</a>');
tam5a2312eb6c238t.add(7, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Field_Service_Automation\&quot;" title=\"Field Service Automation\" class=\"mw-redirect\">Field Service</a>');
tam5a2312eb6c238t.add(8, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Finance_Service_Automation\&quot;" title=\"Finance Service Automation\" class=\"mw-redirect\">Finance</a>');
tam5a2312eb6c238t.add(9, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Human_Resources_Service_Automation\&quot;" title=\"Human Resources Service Automation\" class=\"mw-redirect\">HR</a>');
tam5a2312eb6c238t.add(10, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Legal_Service_Automation\&quot;" title=\"Legal Service Automation\" class=\"mw-redirect\">Legal</a>');
tam5a2312eb6c238t.add(11, 5, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Marketing_Service_Automation\&quot;" title=\"Marketing Service Automation\" class=\"mw-redirect\">Marketing</a>');
tam5a2312eb6c238t.add(12, 0, '<strong class=\"selflink\">SM States</strong>');

                                               document.getElementById('5a2312eb6c238t').innerHTML = tam5a2312eb6c238t.toString();
                                               
                                               for(i in window.tamOnload_tam5a2312eb6c238t) { window.tamOnload_tam5a2312eb6c238t[i](); }</script>


<br />

</td></tr></table>
</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#SM_Request_States"><span class="tocnumber">2</span> <span class="toctext">SM Request States</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#SM_Request_Task_States"><span class="tocnumber">3</span> <span class="toctext">SM Request Task States</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#State_Flow_Customization"><span class="tocnumber">4</span> <span class="toctext">State Flow Customization</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#How_SM_Request_State_Flows_Work"><span class="tocnumber">4.1</span> <span class="toctext">How SM Request State Flows Work</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Available_with_State_Flows"><span class="tocnumber">4.1.1</span> <span class="toctext">Available with State Flows</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Start_and_End_States"><span class="tocnumber">4.1.2</span> <span class="toctext">Start and End States</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Customizing_a_Flow"><span class="tocnumber">4.2</span> <span class="toctext">Customizing a Flow</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Dictionary_Overrides"><span class="tocnumber">4.2.1</span> <span class="toctext">Dictionary Overrides</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Work_Notes"><span class="tocnumber">4.2.2</span> <span class="toctext">Work Notes</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Field_Controls"><span class="tocnumber">4.2.3</span> <span class="toctext">Field Controls</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Triggering_Events_on_State_Changes"><span class="tocnumber">4.2.4</span> <span class="toctext">Triggering Events on State Changes</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Rebuilding_State_Flows"><span class="tocnumber">4.2.5</span> <span class="toctext">Rebuilding State Flows</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#State_Flow_Cleanup"><span class="tocnumber">4.2.6</span> <span class="toctext">State Flow Cleanup</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#State_Flow_Example"><span class="tocnumber">4.3</span> <span class="toctext">State Flow Example</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>From creation until closure, Service Management (SM) application requests for work (that is, work orders and facilities requests), and their respective tasks follow a life cycle tracked by the <b>State</b> field in the following SM applications:
</p>
<ul><li>Work Management</li>
<li>Facilities Service Management</li></ul>
<p>The life cycle is controlled through business rules and UI actions that are updated by the system automatically.
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>In the Fuji release, Work Management was renamed Field Service Management.  If you are using a version prior to Fuji, refer to the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Work+Management+-+Versions+Prior+to+Fuji&amp;oldid=0.html" title="Work Management - Versions Prior to Fuji">Work Management - Versions Prior to Fuji</a> pages.</i>
</td></tr></table>
<p><br />
</p>
<h1><span class="mw-headline" id="SM_Request_States"><span class="mw-headline-number">2</span> SM Request States</span></h1>
<p>SM requests follow a specific life cycle. The <b>State</b> field on the record is always read-only. For detailed information about the actions that trigger a state change on a request, see <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Managing+Work+Orders&amp;oldid=0.html" title="Managing Work Orders">Managing Work Orders</a> or <a href="index.php%3Ftitle=Managing_Facilities_Requests.html" title="Managing Facilities Requests">Managing Facilities Requests</a>.
</p>
<table class="standard">

<tr>
<th> State
</th>
<th> Description
</th></tr>
<tr>
<td>  Draft
</td>
<td>  Request initiator adds information about the work to be done.
</td></tr>
<tr>
<td>  Awaiting Qualification
</td>
<td>  Request has been fully described by the initiator and can be processed by a qualifier.
</td></tr>
<tr>
<td>  Qualified
</td>
<td>  Request is fully qualified, meaning that all technical information to complete the request tasks has been added, but work has not started.
</td></tr>
<tr>
<td>  Work In Progress
</td>
<td>  Work has started.
</td></tr>
<tr>
<td>  Closed Complete
</td>
<td>  Request was completed to specification.
</td></tr>
<tr>
<td>  Closed Incomplete
</td>
<td>  Request could not be completed as specified.
</td></tr>
<tr>
<td>  Cancelled
</td>
<td>  Request was cancelled.
</td></tr></table>
<p>Additionally, progress through the request life cycle is shown visually with a <a href="index.php%3Ftitle=Process_Flow_Formatter.html" title="Process Flow Formatter">process flow formatter</a> above the request record.
</p><p><a href="index.php%3Ftitle=File:State_flow.png.html" class="image"><img alt="State flow.png" src="images/thumb/9/96/State_flow.png/800px-State_flow.png" width="800" height="33" srcset="/images/9/96/State_flow.png 1.5x, /images/9/96/State_flow.png 2x" /></a>
</p>
<h1><span class="mw-headline" id="SM_Request_Task_States"><span class="mw-headline-number">3</span> SM Request Task States</span></h1>
<p>Like SM requests, their associated tasks follow a specific life cycle. The <b>State</b> field on the request task record is always read-only. For detailed information about the actions that trigger a state change on a request task, see <a href="index.php%3Ftitle=Executing_Work_Order_Tasks.html" title="Executing Work Order Tasks">Executing Work Order Tasks</a> or <a href="index.php%3Ftitle=Managing_Facilities_Request_Tasks.html" title="Managing Facilities Request Tasks">Managing Facilities Request Tasks</a>.
</p>
<table class="standard">

<tr>
<th> State
</th>
<th> Description
</th></tr>
<tr>
<td>  Draft
</td>
<td>  Qualifier is not done describing the work.
</td></tr>
<tr>
<td>  Pending Dispatch
</td>
<td>  Request task is ready to be assigned. The parent request state changes to <b>Qualified</b> if all associated tasks are in <b>Pending Dispatch</b> or a later state.
</td></tr>
<tr>
<td>  Assigned
</td>
<td>  Request task is pending acceptance from the assigned agent.
</td></tr>
<tr>
<td>  Accepted
</td>
<td>  Request task has been accepted by the agent and is ready to be done.
</td></tr>
<tr>
<td>  Work In Progress
</td>
<td>  Work on the request task has started. The parent request state changes to <b>Work In Progress</b> if no associated tasks are in <b>Draft</b> state.
</td></tr>
<tr>
<td>  Closed Complete
</td>
<td>  Request task was completed to specification.
</td></tr>
<tr>
<td>  Closed Incomplete
</td>
<td>  Request task could not be completed as specified.
</td></tr>
<tr>
<td>  Canceled
</td>
<td>  Request task was canceled.
</td></tr></table>
<p>In addition to the <b>State</b> field, the different request task states are also shown visually at the top of each task record with the <a href="index.php%3Ftitle=Process_Flow_Formatter.html" title="Process Flow Formatter">process flow formatter</a>.
</p>
<h1><span class="mw-headline" id="State_Flow_Customization"><span class="mw-headline-number">4</span> State Flow Customization</span></h1>
<p><a href="index.php%3Ftitle=State_Flows.html" title="State Flows">State Flows</a> control the sequence in which records transition between states in SM applications. An administrator can perform the following tasks: 
</p>
<ul><li>Add or delete states.</li>
<li>Trigger <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Triggering_Events_on_State_Changes">events</a> on particular state transitions.</li>
<li>Transition to another state automatically when data in a request or its task changes, or change states manually when the user clicks a button.</li>
<li>Limit the choice list for the <b>State</b> field to those end states that are valid transitions from the given start state.</li>
<li>Control the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Field_Controls">visibility and behavior</a> of selected fields on a target table when records in that table change states.</li>
<li>Create custom state flows. Creating custom state flows requires scripting knowledge.</li></ul>
<p>These features require the <a href="index.php%3Ftitle=State_Flows.html" title="State Flows">State Flows</a> plugin, which is activated automatically with the Work Management plugin starting with the <a href="index.php%3Ftitle=Eureka_Release_Notes.html" title="Eureka Release Notes">Eureka release</a>. State Flows is added automatically to an existing work management system during an upgrade to Eureka.
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>Users with the wm_admin role can create, read, update, and delete only work order flows and work task flows. Users with the facilities_admin role can create, read, update, and delete only facilities request flows and request task flows. Users with the wm_admin role cannot manipulate facilities records, and users with the facilities_admin role cannot manipulate work order records.</i>
</td></tr></table>
<p><br />
</p>
<h2><span class="mw-headline" id="How_SM_Request_State_Flows_Work"><span class="mw-headline-number">4.1</span> How SM Request State Flows Work</span></h2>
<p>State flows replace the standard process that controls how requests and their associated tasks tasks move between states. The ServiceNow system creates business rules, client scripts, and UI actions that perform the transitions and field controls you specify. These programming elements remain in use while the state flow records that use them are present. When state flows on an SM application table are deleted, the system attempts to <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#State_Flow_Cleanup">delete any unnecessary programming elements</a> that were created on that table. You can limit the selections for the <b>State</b> field to valid states for the transition, based on the starting state. For more information, see <a href="index.php%3Ftitle=State_Flows.html#How_State_Flows_Work" title="State Flows">How State Flows Work</a>.
</p><p>State flows provide the following controls:
</p>
<ul><li><b>Manual transitions:</b> A UI action, created automatically by the system when you provide a condition or a script, initiates a transition. </li>
<li><b>Automatic transitions:</b> A business rule, created automatically by the the system when you provide a condition and a script, initiates a transition when changes are made to a request or task.</li></ul>
<h3><span class="mw-headline" id="Available_with_State_Flows"><span class="mw-headline-number">4.1.1</span> Available with State Flows</span></h3>
<ul><li><b>Custom transitions:</b> Customize the order in which states can change for requests and task records.</li>
<li><b>Field controls:</b> Control the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Field_Controls">behavior and visibility of specific fields</a> when a task changes states or reaches a specified end state. </li>
<li><b>State choice list:</b> <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Customizing_a_Flow">Limit the values</a> offered in a task record's <b>State</b> field to valid states for that transition. This is the same client script that the system creates to manage field controls for state transitions.</li>
<li><b>Events:</b> <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Triggering_Events_on_State_Changes">Trigger events</a> when a state transition occurs or when a record reaches a specific end state.</li></ul>
<h3><span class="mw-headline" id="Start_and_End_States"><span class="mw-headline-number">4.1.2</span> Start and End States</span></h3>
<p>You can create a custom state flow for processing that must occur when a task record makes a specific transition from one state to another. These records require a starting state and an ending state, and processing occurs during the transition between states. To perform some processing when a task record reaches a particular end state, you only need to define the end state. In some cases a state flow can have a starting state only, such as when you need to perform some type of cleanup after a task is canceled. A state flow might have no starting or ending state if the processing in the record applies to more than one state transition. 
</p><p>The solution is to store the business rule or client script in a state flow record and create a condition to trigger processing for any state change that requires it. An example of this in work management is the Roll Up Changes business rule on the Work Order Task [wm_task] table. This business rule rolls up state changes that occur in tasks to the parent work order.
</p>
<h2><span class="mw-headline" id="Customizing_a_Flow"><span class="mw-headline-number">4.2</span> Customizing a Flow</span></h2>
<p>Before customizing a state flow, make a copy of the state flow record for the transition you want to change and do all your customizations in the copied record. This allows the system to update the default state flow record automatically during an upgrade and enables you to revert to the default record if necessary. Make sure to deactivate the original record so the system cannot use it. 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>Customizing state flows requires scripting knowledge.</i>
</td></tr></table>
<ol><li>Navigate to the class of state flows you want to customize.  For example: 
<ul><li><b>State Flows &gt; Work Order Flows</b></li>
<li><b>State Flows &gt; Work Task Flows</b></li></ul></li>
<li>Open the record for the transition you want to customize. </li>
<li>Right-click the form header and select <b>Insert and Stay</b>.
<dl><dd>The system clears any values from the <b>Business rule</b>  and <b>UI action</b> fields. A notification appears at the top of the form describing the action taken. </dd></dl></li>
<li>Ensure that the <b>Active</b> check box is selected.</li>
<li>In the appropriate section, configure a transition method:
<ul><li><b>Manual:</b> Click <b>Create UI Action</b> to create a button on the form that enables users to execute the transition manually. The system uses the value in the <b>Name</b> field as the label for the UI action. The UI action executes the script in the <b>Manual Script</b> field when the conditions are true. </li>
<li><b>Automatic:</b> Click <b>Create Business Rule</b> to create the business rule. The business rule executes the script in the <b>Automatic Script</b> field when the conditions are true.</li></ul></li>
<li>Click <b>Create Client Script</b> to create the script that limits the values available a record's <b>State</b> field choice list to valid states for that transition.</li>
<li>Complete the <b>Field Controls</b> section to control how specific fields appear when a record changes states.
<dl><dd>The system enforces the field controls with the same client script you created to filter the choice list for the <b>State</b> field.</dd></dl></li>
<li>Click <b>Update</b>.</li>
<li>Reopen the source record you copied and clear the <b>Active</b> check box.
<dl><dd>Deactivating the original record allows the system to upgrade it normally when the instance is upgraded and prevents the system from using the record rather than your custom state flow.</dd></dl></li>
<li>Open the copied state flow record you want to customize.</li>
<li>Fill in the fields, as appropriate (see table).
<dl><dd><br /></dd>
<dd><a href="index.php%3Ftitle=File:WM_State_Flow.png.html" class="image" title="Default state flow record for accepting tasks"><img alt="Default state flow record for accepting tasks" src="images/thumb/1/10/WM_State_Flow.png/750px-WM_State_Flow.png" width="750" height="400" srcset="/images/thumb/1/10/WM_State_Flow.png/1125px-WM_State_Flow.png 1.5x, /images/1/10/WM_State_Flow.png 2x" /></a></dd>
<dd><br /></dd></dl></li></ol>
<table class="standard">
<tr>
<th width="16%"> Field
</th>
<th> Description
</th></tr>
<tr>
<td> Number
</td>
<td> Record number automatically generated by ServiceNow.
</td></tr>
<tr>
<td> [Required] Table
</td>
<td> Table on which the state flow record runs. The possible tables are:
<ul><li>Work Order Task [wm_task]</li>
<li>Work Order [wm_order]</li></ul>
</td></tr>
<tr>
<td> Starting state
</td>
<td> Name of the state at the beginning of the transition.
</td></tr>
<tr>
<td> Ending state
</td>
<td> Name of the state at the end of the transition.
</td></tr>
<tr>
<td> Client script
</td>
<td> Client script to run for this transition. The client script controls the available starting and ending states you can select by limiting the contents of the <b>State</b> choice list to valid states.
</td></tr>
<tr>
<td> Event
</td>
<td> Name of an existing event to trigger when this transition occurs. See <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Triggering_Events_on_State_Changes">Triggering Events on State Changes</a> for more information.
</td></tr>
<tr>
<td> Name
</td>
<td> [Required] State name as it appears in the choice list.
</td></tr>
<tr>
<td> Roles
</td>
<td> Roles required to configure the <b>State</b> field that uses the custom transition.
</td></tr>
<tr>
<td> Active
</td>
<td> Switch for enabling or disabling this state flow record.
</td></tr>
<tr>
<td> Class
</td>
<td> Available state flow classes:
<ul><li><b>State Flow:</b> Records created for state flows in all task-based tables except those in Work Management.</li>
<li><b>Work Order Flow:</b> Records created for state flows in the Work Order [wm_order] table.</li>
<li><b>Work Task Flow:</b> Records created for state flows in the Work Order Task [wm_task] table.</li></ul>
<p>This field is required for users with the admin role. Users with the wm_admin role can only create state flow records in the <b>Work Order Flow</b> and <b>Work Task Flow</b> classes and cannot edit this field in the record.
</p>
</td></tr>
<tr>
<td> Override
</td>
<td> Default starting value for the <b>State</b> field on all new records for the table named in the state flow record. See <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Dictionary_Overrides">Dictionary Overrides</a> for configuration procedures.
</td></tr>
<tr>
<td> Work notes
</td>
<td> Comments about this state flow transition. For details about how these notes are used, see <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Work_Notes">Work Notes</a>.
</td></tr>
<tr>
<td> Comment
</td>
<td>Details about the customized record.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="3"> <b>Manual</b> (<i>Runs scripts from a UI action that requires the user to click a button or related link</i>.)
</td></tr>
<tr>
<td> Manual condition string
</td>
<td> Conditions for enabling a UI action that cannot be defined with the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Condition+Builder&amp;oldid=0.html" title="Condition Builder">condition builder</a>. For example, you can use this string to define UI actions for mobile devices. This condition has an <b>[and]</b> relationship with the condition in the <b>Manual condition</b> field.
</td></tr>
<tr>
<td> Manual condition
</td>
<td> Condition builder for enabling a UI action that can be defined for fields in the target table. This condition has an <b>[and]</b> relationship with the condition in the <b>Manual condition string</b> field.
</td></tr>
<tr>
<td> Manual script
</td>
<td> Script that defines what the UI action does when the conditions are true. This script runs when the user clicks a button or a related link.
</td></tr>
<tr>
<td> UI action
</td>
<td> [Read-only] Names the UI action to enable for this transition. By default, this UI action creates a button on the task form. For instructions on making this UI action available elsewhere on the form, see <a href="index.php%3Ftitle=UI_Actions.html#Editing_UI_Actions" title="UI Actions">Editing UI Actions</a>. Click <b>Create UI Action</b> to create the button. The button inherits the name of the state flow record in which it was created.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="3"> <b>Automatic</b> (<i>Runs a business rule automatically when a task record is changed and updated</i>.)
</td></tr>
<tr>
<td> Automatic condition string
</td>
<td> Conditions for running the business rule that cannot be defined with the condition builder. For example, use this condition to evaluate if the proposed transition is a valid flow. This condition has an <b>[and]</b> relationship with the condition in the <b>Automatic condition</b> field.
</td></tr>
<tr>
<td> Automatic condition
</td>
<td> Conditions for running the business rule that can be defined for fields in the target table. This condition has an <b>[and]</b> relationship with the condition in the <b>Automatic condition string</b> field.
</td></tr>
<tr>
<td> Automatic script
</td>
<td> Script that performs additional work when the condition is true. This script can do tasks such as update the date and time the transition occurred or notify someone of a milestone.
</td></tr>
<tr>
<td> Business rule
</td>
<td> Name of the business rule created for this transition. The business rule has a condition to ensure the validity of the flow. If that condition is true, the business rule performs the transition requested, using the starting and ending states from the Work Order Flow or Work Task Flow form.
</td></tr>
<tr>
<td bgcolor="#f4f4f9" class="left" colspan="3"> <b>Field Controls</b> (<i>Determines <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Field_Controls">field properties</a> when a record transitions between states.</i>)
</td></tr>
<tr>
<td> Mandatory fields
</td>
<td> Fields required when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr>
<tr>
<td> Read only fields
</td>
<td> Fields set as read-only when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr>
<tr>
<td> Visible fields
</td>
<td> Fields made visible when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr>
<tr>
<td> Not mandatory
</td>
<td> Fields set as optional when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr>
<tr>
<td> Not read only
</td>
<td> Fields that can be edited when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr>
<tr>
<td> Not visible
</td>
<td> Fields hidden when this transition occurs or when the <b>Ending state</b> is the current state of a work order or work order task.
</td></tr></table>
<h3><span class="mw-headline" id="Dictionary_Overrides"><span class="mw-headline-number">4.2.1</span> Dictionary Overrides</span></h3>
<p>A dictionary override in a state flow defines the starting state for all new records in a specific table. You set an override in tables that extend a base table only, so that your customizations are applied only to the extended table. 
</p>
<ol><li>In a state flow record, select an <b>Ending state</b>.
<dl><dd>This is the override value which becomes the starting state for all new records in the table named.</dd></dl></li>
<li>Click <b>Create Default Value</b>.
<dl><dd>The system populates the <b>Dictionary override</b> field with a value of <b>state</b>, which is the field in the task table affected by the override. The <b>Dictionary override</b> field is read-only. After the override is created, the system hides the <b>Create Default Value</b> button on all subsequent state flow forms for that table.</dd></dl></li></ol>
<h3><span class="mw-headline" id="Work_Notes"><span class="mw-headline-number">4.2.2</span> Work Notes</span></h3>
<p>Work notes are an important part of the state flow process and are used to communicate information about state transitions. The state flow adds this work note into the <b>Work notes</b> field of any task making this transition. For example, you might include the note, <i>Task rejected by agent</i>, in the <b>Reject</b> state flow, which occurs when the task moves from <b>Assigned</b> to <b>Pending Dispatch</b>. If an agent rejects the task and fails to enter a work note, this note tells the dispatcher why the task reappeared in the dispatch queue. Work notes added by an agent rejecting the task are appended to the work notes that are inherited from the the state flow.
</p><p>These rules apply to state flow work notes:
</p>
<ul><li>For a state flow with no <b>Starting state</b>, the work note is added every time the task transitions to the <b>Ending state</b>. </li>
<li>For a state flow with a <b>Starting state</b> and an <b>Ending state</b>, the work note is added only when the task transitions from that starting state to that ending state. </li>
<li>If two state flows with work notes have the same <b>Ending state</b>, but only one has a <b>Starting state</b>, the system adds the work notes from the state flow with the starting state. This better matches the state flow work note to the more important transition between specific starting and ending states. In the example here, the work note information is more pertinent to a task moving from <b>Assigned</b> to <b>Pending Dispatch</b> than to a task that reaches the <b>Pending Dispatch</b> state from an undetermined beginning state.</li></ul>
<h3><span class="mw-headline" id="Field_Controls"><span class="mw-headline-number">4.2.3</span> Field Controls</span></h3>
<p>You can define controls for individual fields that are enforced when a record transitions between states. Settings in the Field Controls section of the State Flow form enable you to apply field controls when the system detects a specified state transition or when the end state is the current state when the form is opened. The control is applied only to <i>existing</i> fields on the form. State flows cannot add fields to the form. 
</p><p>For example, you might want the <b>Problem</b> field to be visible when an incident moves to the <b>Awaiting Problem</b> state. If the incident state changes to <b>Awaiting User Info</b>, you hide the <b>Problem</b> field and make the <b>Caller</b> field mandatory. 
</p><p>The best practice when creating field controls is to configure state flow records with an ending state only and to create the correct behavior for every ending state you want to control. This ensures that the field controls are set properly when the user selects a new state, and also when the user returns a record's <b>State</b> field to the original state. Only specify a full state transition, with both a starting and ending state, when you want a particular behavior for that precise state transition. 
</p>
<table cellspacing="5" cellpadding="5" class="reproduce">

<tr>
<td scope="row" style="vertical-align:middle;"> <div class="floatleft"><a href="index.php%3Ftitle=File:Warning.gif.html" class="image" title="Note"><img alt="Note" src="images/thumb/c/c2/Warning.gif/16px-Warning.gif.png" width="16" height="16" srcset="/images/thumb/c/c2/Warning.gif/24px-Warning.gif.png 1.5x, /images/thumb/c/c2/Warning.gif/32px-Warning.gif.png 2x" /></a></div>
</td>
<td scope="row" style="vertical-align:top"> <b>Note:</b> <i>State flows use client scripts to enforce field controls. It is possible that your settings can be changed by existing <a href="index.php%3Ftitle=Creating_a_UI_Policy.html" title="Creating a UI Policy">UI policies</a>, which execute after client scripts.</i>
</td></tr></table>
<p><br />
ServiceNow creates the following objects as needed to enforce field properties in state flows:
</p>
<table class="standard">
<tr>
<th> Type
</th>
<th> Name
</th>
<th> Description
</th></tr>
<tr>
<td> Business rule
</td>
<td> State Flow Notes for &lt;<i>table name</i>&gt;
</td>
<td> Enforces mandatory fields for the table on which that field behavior is defined.
</td></tr>
<tr>
<td> Client script (onLoad)
</td>
<td> &lt;<i>table name</i>&gt; state flow
</td>
<td> Sets possible states and initial mandatory, read-only, and visible properties when a record is loaded.
</td></tr>
<tr>
<td> Client script (onChange)
</td>
<td> &lt;<i>table name</i>&gt; change state flow
</td>
<td> Sets updated mandatory, read-only, and visible properties when a record is changed.
</td></tr></table>
<h3><span class="mw-headline" id="Triggering_Events_on_State_Changes"><span class="mw-headline-number">4.2.4</span> Triggering Events on State Changes</span></h3>
<p>You can configure a state flow to trigger a <a href="index.php%3Ftitle=Event_Registry.html" title="Event Registry">registered system event</a> when a task transitions from a starting state to a specified end state. For example, you can use events to trigger <a href="index.php%3Ftitle=Events_and_Email_Notification.html" title="Events and Email Notification">email notifications</a> and create <a href="index.php%3Ftitle=Script_Actions.html" title="Script Actions">script actions</a>. When you attach an event to a state flow, ServiceNow creates a <a href="index.php%3Ftitle=Business_Rules.html" title="Business Rules">business rule</a> called <b>State Flow Events for &lt;<i>table name</i>&gt;</b> for the table specified in the state flow. If you specify a start and end state, the business rule executes when the record transitions from the start state to the end state. If the state flow only specifies an end state, the business rule executes whenever that end state is reached. The system creates one business rule for all state flows containing events on a single table. When all events or all state flows on a table are deleted, the system deletes the business rule.
</p><p>To create an event that fires when a work order task moves from a starting state of <b>Work in Progress</b> to an end state of <b>Closed Complete</b>:
</p>
<ol><li><a href="index.php%3Ftitle=Event_Registry.html#Registering_an_Event" title="Event Registry">Register a new event</a> on the Work Order Task [wm_task] table called <tt>task.closed</tt>.</li>
<li>Navigate to <b>State Flows &gt; Work Task Flows</b>.</li>
<li>Open the state flow record <b>Close Complete</b>.</li>
<li>Select <tt>task.closed</tt> in the <b>Event</b> field and save your changes.
<dl><dd><br /></dd>
<dd><a href="index.php%3Ftitle=File:WM_State_Flow_Event.png.html" class="image" title="WM_State_Flow_Event.png"><img alt="WM_State_Flow_Event.png" src="images/thumb/a/a2/WM_State_Flow_Event.png/750px-WM_State_Flow_Event.png" width="750" height="142" srcset="/images/a/a2/WM_State_Flow_Event.png 1.5x, /images/a/a2/WM_State_Flow_Event.png 2x" /></a></dd>
<dd><br /></dd>
<dd>ServiceNow automatically creates a business rule called <b>State Flow Events for wm_task</b>.</dd>
<dd><br /></dd>
<dd><a href="index.php%3Ftitle=File:WM_State_Flow_Biz_Rule.png.html" class="image" title="WM_State_Flow_Biz_Rule.png"><img alt="WM_State_Flow_Biz_Rule.png" src="images/thumb/8/83/WM_State_Flow_Biz_Rule.png/750px-WM_State_Flow_Biz_Rule.png" width="750" height="533" srcset="/images/8/83/WM_State_Flow_Biz_Rule.png 1.5x, /images/8/83/WM_State_Flow_Biz_Rule.png 2x" /></a></dd></dl></li></ol>
<h3><span class="mw-headline" id="Rebuilding_State_Flows"><span class="mw-headline-number">4.2.5</span> Rebuilding State Flows</span></h3>
<p>When you use an XML file to import a state flow record into an instance, the system attempts to match the incoming states with existing states by comparing sys_ids. Because the sys_ids of items in a choice list can vary between instances, the system can fail to match the states, even though they are otherwise identical. When matching fails, the start and end states of affected records are left blank or contain numeric values. To repair these records navigate to <b>State Flows &gt; Admin &gt; Rebuild State Flows</b>. This module runs a script that compares the numerical value of each item in the  <b>State</b> field choice list until it finds a match in the imported state flow record.
</p>
<h3><span class="mw-headline" id="State_Flow_Cleanup"><span class="mw-headline-number">4.2.6</span> State Flow Cleanup</span></h3>
<p>The business rules, client scripts, and UI actions that the system creates automatically to perform custom transitions exist only while the state flow records that use them are present. When all the state flows on a table are deleted, the system attempts to delete any unnecessary programming elements that were created on that table, using these criteria:
</p>
<table class="standard">
<tr>
<th> Element
</th>
<th> Deleted When
</th></tr>
<tr>
<td>
<p>UI action <br />
Business rule <br />
Dictionary override <br />
</p>
</td>
<td> The state flow that created it is deleted.
</td></tr>
<tr>
<td> Business rule that processes events triggered by a state flow
</td>
<td> All state flows for the table specified that have events configured are deleted.
</td></tr>
<tr>
<td> Client script (onLoad)
</td>
<td> All state flows for the table are deleted.
</td></tr>
<tr>
<td> Client script (onChange)
</td>
<td> All state flows with field controls are deleted.
</td></tr>
<tr>
<td> Work notes business rule
</td>
<td> All state flows with field controls or work notes are deleted
</td></tr></table>
<h2><span class="mw-headline" id="State_Flow_Example"><span class="mw-headline-number">4.3</span> State Flow Example</span></h2>
<p>Your business processes might require work order tasks to be accepted automatically when dispatched to an agent. To accomplish this, you must create a new state flow record that automates the transition from <b>Pending Dispatch</b> to <b>Accepted</b> and bypasses the <b>Assigned</b> state in which agents can reject tasks. This prevents the system from running the manual script associated with UI actions. The automatic script performs the jobs that the manual script performed, such as updating the date and time the task was dispatched, or to do additional work such as sending a notification.
</p>
<ol><li>Navigate to <b>State Flows &gt; Service Management &gt; Service Order Flows</b>. </li>
<li>Open the <b>Assigned</b> record that defines a task transition from a starting state of <b>Pending Dispatch</b> to an ending state of <b>Assigned</b>.
<dl><dd>This is an automatic state change that occurs when an agent's name is added to the <b>Assigned to</b> field and the task is updated.</dd>
<dd><br /></dd>
<dd><a href="index.php%3Ftitle=File:WM_State_Flow_Assigned.png.html" class="image" title="Default state flow record for accepting a task"><img alt="Default state flow record for accepting a task" src="images/thumb/7/72/WM_State_Flow_Assigned.png/750px-WM_State_Flow_Assigned.png" width="750" height="479" srcset="/images/7/72/WM_State_Flow_Assigned.png 1.5x, /images/7/72/WM_State_Flow_Assigned.png 2x" /></a></dd>
<dd><br /></dd></dl></li>
<li>Change the name of the state flow.
<dl><dd>In this example, change the name to <b>Skip Agent Acceptance</b>.</dd></dl></li>
<li>Change the value in the <b>Ending state</b> field to <b>Accepted</b>.
<dl><dd>This transition allows you to bypass the <b>Accept</b> state flow record that enables agents to reject tasks. </dd></dl></li>
<li>Do not change the settings in these fields: 
<ul><li><b>Automatic condition string:</b> This condition ensures that the current state is at <b>Pending Dispatch</b> and the value in the <b>Assigned to</b> field changes: <tt>current.state == 10 &amp;&amp; current.assigned_to.changes()</tt>.</li>
<li><b>Automatic condition:</b> The condition <b>[Assigned to] [is not empty]</b> ensures that all dispatched tasks are accepted automatically.</li></ul>
<dl><dd><b>Note:</b> These two condition statements have an <b>[and]</b> relationship. In this example, the business rule runs when a task in a state of <b>Pending Dispatch</b> is assigned to any agent.</dd></dl>
<ul><li><b>Automatic script:</b>  The automatic script sets the time the task was dispatched, using the method: <tt>current.dispatched_on = gs.nowDateTime();</tt>.</li></ul></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html#Customizing_a_Flow">Copy the record</a> using the <b>Insert and Stay</b> command.
<dl><dd>This action increments the record number and clears the <b>Business rule</b> field. The system automatically creates a new business rule, using the name of the new state flow record. The Skip Agent Acceptance business rule moves the task from <b>Pending Dispatch</b> to <b>Accepted</b> automatically when a dispatcher enters a user name in the <b>Assigned to</b> field. Note that any changes you make to this state flow record in the future are executed by this business rule. </dd></dl></li>
<li>Ensure that the <b>Active</b> check box is selected.
<dl><dd><br /></dd>
<dd><a href="index.php%3Ftitle=File:WM_State_Flow_Auto.png.html" class="image" title="Customized record for changing the state flow"><img alt="Customized record for changing the state flow" src="images/thumb/9/96/WM_State_Flow_Auto.png/750px-WM_State_Flow_Auto.png" width="750" height="423" srcset="/images/thumb/9/96/WM_State_Flow_Auto.png/1125px-WM_State_Flow_Auto.png 1.5x, /images/9/96/WM_State_Flow_Auto.png 2x" /></a></dd>
<dd><br /></dd></dl></li>
<li>In the Work Task Flows list, locate the <b>Accept</b> state flow record and change the <b>Active</b> status to <b>false</b>.
<dl><dd>This action deactivates the transition that allows agents to accept tasks and moves the state flow directly from <b>Pending Dispatch</b> to <b>Accepted</b>.</dd></dl></li></ol>

<!-- 
NewPP limit report
Cached time: 20171202205403
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.511 seconds
Real time usage: 0.584 seconds
Preprocessor visited node count: 121/1000000
Preprocessor generated node count: 363/1000000
Postexpand include size: 6465/2097152 bytes
Template argument size: 859/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  109.936      1 - -total
 63.00%   69.262      1 - Template:Service_Management
 53.91%   59.270      1 - Template:Topic
  8.41%    9.249      4 - Template:Note
  6.73%    7.399      1 - Template:Setting_Field_Controls
  5.64%    6.199      1 - Template:State_Flow_Events
  5.52%    6.074      1 - Template:Dictionary_Override
  5.26%    5.788      1 - Template:Rebuilding_State_Flows
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:23987-0!*!0!1!en!5!* and timestamp 20171202205403 and revision id 244682
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=SM_States&amp;oldid=244682.html">http://wiki.servicenow.com/index.php?title=SM_States&amp;oldid=244682</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Management.html" title="Category:Service Management">Service Management</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Deliver.html" title="Category:Deliver">Deliver</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=IT+Services.html" title="Category:IT Services">IT Services</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Service+Management.html" title="Category:Service Management">Service Management</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_23987"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="23987" data-vote-the-vote="5" data-vote-id="23987" data-vote-action="5" data-vote-rating="0.00" data-vote-voted="0" id="rating_23987_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="23987" data-vote-the-vote="1" data-vote-id="23987" data-vote-action="5" data-vote-rating="0.00" data-vote-voted="0" id="rating_23987_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=SM+States&amp;oldid=0.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index.php%3Ftitle=Special:CreateAccount&amp;returnto=SM+States.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=SM+States.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=SM_States.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=SM_States&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=SM+States.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=SM+States&amp;returnto=SM+States&amp;oldid=244682&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=SM_States&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FSM_States.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="http://wiki.servicenow.com/index.php?title=Special:RecentChangesLinked/SM_States" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=SM_States&amp;oldid=244682.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=SM_States&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 19:34, 25 February 2015.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":1906});});</script></body></html>

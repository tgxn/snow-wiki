<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8"/>
<title>Using Puppet with Cloud Provisioning - ServiceNow Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Using_Puppet_with_Cloud_Provisioning","wgTitle":"Using Puppet with Cloud Provisioning","wgCurRevisionId":224824,"wgRevisionId":224824,"wgArticleId":20015,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Configuration Automation"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Using_Puppet_with_Cloud_Provisioning","wgRelevantArticleId":20015,"wgRequestId":"e214eb897cde815b04186379","wgIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":20,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});mw.loader.implement("user.options",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["mediawiki.page.startup","ext.voteNY"]);});</script>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cmediawiki.sectionAnchor%257Cmediawiki.skinning.content.externallinks%257Cmediawiki.skinning.interface%257Cskins.monobook.styles&amp;only=styles&amp;skin=monoboo.css"/>
<!--[if IE 6]><link rel="stylesheet" href="/skins/MonoBook/IE60Fixes.css?303" media="screen"/><![endif]--><!--[if IE 7]><link rel="stylesheet" href="/skins/MonoBook/IE70Fixes.css?303" media="screen"/><![endif]-->
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook.css"/>
<script async="" src="load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook"></script>
<meta name="generator" content="MediaWiki 1.27.3"/>
<meta name="robots" content="index,follow,noarchive"/>
<meta name="copyright" content="ServiceNow"/>
<meta http-equiv="content-language" content="en"/>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta name="modified" content="20140506000807"/>
<meta name="canonical" content="//wiki.servicenow.com/index.php?title=Using_Puppet_with_Cloud_Provisioning"/>
<meta name="author" content="ServiceNow"/>
<meta name="twitter:card" content="@NOWsupport"/>
<meta name="twitter:title" content="Using Puppet with Cloud Provisioning"/>
<meta name="twitter:creator" content="@NOWsupport"/>
<meta name="twitter:domain" content="servicenow.com"/>
<meta name="keywords" content="Configuration Automation"/>
<meta name="category" content="Configuration Automation"/>
<link rel="shortcut icon" href="favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="ServiceNow Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="api.php%3Faction=rsd"/>
<link rel="alternate" type="application/atom+xml" title="ServiceNow Wiki Atom feed" href="index.php%3Ftitle=Special:RecentChanges&amp;feed=atom.html"/>
<script type="text/javascript">window.tamBaseUrl='/extensions/TreeAndMenu'</script>

<script type="text/javascript" src="extensions/TreeAndMenu/dtree.js"></script>

<link rel="canonical" href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html" />

	<meta property="og:title" content="ServiceNow Wiki:Using Puppet with Cloud Provisioning"/>

	<meta property="og:type" content="article"/>

	<meta property="og:site_name" content="ServiceNow Wiki"/>

	<meta property="modified" content="20140506000807"/>

	<meta property="article:published_time" content="20140506000807"/>

	<meta property="article:modified_time" content="20140506000807"/>

	<meta property="article:author" content="ServiceNow"/>

	<meta property="article:tag" content="Configuration Automation"/>

	<meta property="og:url" content="//wiki.servicenow.com/index.php?title=Using_Puppet_with_Cloud_Provisioning"/>

</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Using_Puppet_with_Cloud_Provisioning rootpage-Using_Puppet_with_Cloud_Provisioning skin-monobook action-view">
<div id="header">
	<div id="snc_top_toolbar" >
	<ul class="inline" id="sites">
		<li><a href="index.html">Wiki home</a></li>
		<li><a href="http://community.servicenow.com">Community</a></li>
		<li><a href="http://www.servicenow.com/services/training-and-certification.html">Training</a></li>
		<li><a href="https://www.servicenow.com/support.html">Support home</a></li>
		<li><a href="http://www.servicenow.com">Company home</a></li>
		<li><a href="http://info.servicenow.com/demonow/">Demo</a></li>
	</ul>

<!-- Start Adobe analytics staging -->
<script src="http://assets.adobedtm.com/43c21e31f00ba1c49c16c9c6a5acf67ef1e8dfa8/satelliteLib-c41330e93f48feef745e6ecb4b425db9d5da2dea.js"></script>

<!--Begin Google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29210697-1']);
  _gaq.push(['_setDomainName', 'servicenow.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_trackPageLoadTime']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End Google analytics, begin other analytics -->

<!--<script type="text/javascript" language="javascript">llactid=11051</script>
<script type="text/javascript" language="javascript" src="https://trackalyzer.com/trackalyze_secure.js"></script>
-->
<!--End analytics-->

	</div>
</div>
<div id="snc_toolbar" >
	<a href="index.html">
	<img src="https://wiki.service-now.com/images/CustomWikiLogoFixed.png" height="64px">
	</a>
<div id="googleSearchBox"> <!--Google Search box -->
<div id='cse-search-form' style='width: 100%;'>Loading</div>
<script src='http://www.google.com/jsapi' type='text/javascript'></script>


<script type='text/javascript'>

google.load('search', '1', {language: 'en', style: google.loader.themes.V2_DEFAULT, callback:loadCSE});

window.onhashchange = function() {
	var url = window.location.href;
	if(url.indexOf("gsc.q") == -1) //call only when not browsing search results.
	{
		resetUI();
	}
}

function resetUI() {
	//reset UI to standard layout. Hide search, restore page content/controls.
	var cactions = document.getElementById('p-cactions');
	var cont = document.getElementById('content');
	var sr = document.getElementById('cse');

	cactions.style.display = 'block';
	sr.style.display = 'none';
	cont.style.display = 'block';
};

function onSubmit() {
	//hide page elements when searching.
	var cactions = document.getElementById('p-cactions');
	cactions.style.display = 'none';
	var sr = document.getElementById('cse');
	sr.style.display = 'block';
	var cont = document.getElementById('content');
	cont.style.display = 'none';
};

function loadCSE() {
	var customSearchOptions = {};
	var orderByOptions = {};
	orderByOptions['keys'] = [{label: 'Relevance', key: ''} , {label: 'Date', key: 'date'}];
	customSearchOptions['enableOrderBy'] = true;
	customSearchOptions['orderByOptions'] = orderByOptions;

	var customSearchControl = new google.search.CustomSearchControl('005409823165138974380:bltnnmgfoek', customSearchOptions);
	customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
	customSearchControl.setSearchCompleteCallback(this,onSubmit);//set onSubmit script to run when searching

	var options = new google.search.DrawOptions();
	options.setSearchFormRoot('cse-search-form');
	options.setAutoComplete(true);
	customSearchControl.draw('cse', options);
	var historyStarted = customSearchControl.startHistoryManagement();
	if(historyStarted) customSearchControl.setLinkTarget(google.search.Search.LINK_TARGET_SELF);
};

</script>

</div> <!--end Google search box-->
</div>

<div id="globalWrapper">
		<div id="column-content">
			<div id="cse"></div>
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div class="collection-creatorbox"><img src="extensions/Collection/images/Open_book.png%3F9" alt="" width="80" height="45" class="collection-creatorbox-book" /><div class="collection-creatorbox-row"><div><a href="index.php%3Ftitle=Help:Books.html" title="Show help about creating books" rel="nofollow"><img src="extensions/Collection/images/silk-help.png" alt="" width="16" height="16" />&#160;Help</a></div><span class="collection-creatorbox-title">Book creator</span> (<a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Using+Puppet+with+Cloud+Provisioning.html" title="Stop using the book creator" rel="nofollow">disable</a>)</div><div id="coll-book_creator_box" class="collection-creatorbox-row"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Using+Puppet+with+Cloud+Provisioning&amp;oldid=0.html" title="Add the current wiki page to your book" id="coll-add_article" rel="nofollow" onclick="collectionCall('AddArticle', ['removearticle', wgNamespaceNumber, wgTitle, &quot;0&quot;]); return false;"><img src="extensions/Collection/images/silk-add.png" alt="" width="16" height="16" />&#160;Add this page to your book</a><a href="index.php%3Ftitle=Special:Book%252Fload_collection%252F&amp;colltitle=Book:Introduction_to_ServiceNow_Part_1.html" title="Click to edit/download/order your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-book_open.png" alt="" width="16" height="16" />&#160;Show book (31 pages)</a><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=suggest.html" title="Show suggestions based on the pages in your book" rel="nofollow" class="collection-creatorbox-iconlink"><img src="extensions/Collection/images/silk-wand.png" alt="" width="16" height="16" style="vertical-align: text-bottom" />&#160;Suggest pages</a></div></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Using Puppet with Cloud Provisioning</h1>
				
				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From ServiceNow Wiki</div>
					<div id="contentSub"><!-- Text for discussion pages-->
<a href="index.html" title="Main Page">Home</a> &gt; <a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=IT+Operations+Management.html" title="Category:IT Operations Management">IT Operations Management</a> &gt; <a href="index.php%3Ftitle=Orchestration.html" title="Orchestration">Orchestration</a> &gt; <a href="index.php%3Ftitle=Puppet_Configuration_Automation.html" title="Puppet Configuration Automation">Configuration Automation</a> &gt; Using Puppet with Cloud Provisioning</div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#column-one">navigation</a>, <a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="noprint">
<table class="topicbox">

<tr>
<th> <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Configuration+Automation&amp;oldid=0.html" title="Configuration Automation">Configuration Automation</a>
</th></tr>
<tr>
<td> <div class='dtree' id='5a20815924db6t'></div><script type="text/javascript">window.tamOnload_tam5a20815924db6t=[];tree = new dTree('tam5a20815924db6t');
                                               for (i in tree.icon) tree.icon[i] = '/extensions/TreeAndMenu/'+tree.icon[i];
                                               tree.config.useLines = false;
                                               tree.add(0,-1,'');
                                               tam5a20815924db6t = tree;
                                               tam5a20815924db6t.add(1, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Configuration_Automation\&quot;" title=\"Configuration Automation\">Configuration Automation</a>');

tam5a20815924db6t.add(2, 0, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Configuration_Automation_Overview_Module\&quot;" title=\"Configuration Automation Overview Module\">Overview Module</a>');
tam5a20815924db6t.add(3, 0, 'ServiceNow');
tam5a20815924db6t.add(4, 3, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=ServiceNow_Configuration_Automation\&quot;" title=\"ServiceNow Configuration Automation\">ServiceNow Configuration Automation</a>');
tam5a20815924db6t.add(5, 3, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_ServiceNow_Provider\&quot;" title=\"Using ServiceNow Provider\">Using ServiceNow Provider</a>');
tam5a20815924db6t.add(6, 3, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Change_Management_with_ServiceNow_Provider\&quot;" title=\"Using Change Management with ServiceNow Provider\">Using Change Management</a>');
tam5a20815924db6t.add(7, 3, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Installed_with_ServiceNow_Provider\&quot;" title=\"Installed with ServiceNow Provider\">Installed with ServiceNow Provider</a>');
tam5a20815924db6t.add(8, 0, 'Chef');
tam5a20815924db6t.add(9, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Chef_Configuration_Automation\&quot;" title=\"Chef Configuration Automation\">Chef Configuration Automation</a>');
tam5a20815924db6t.add(10, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Setting_Up_Chef\&quot;" title=\"Setting Up Chef\">Setting Up Chef</a>');
tam5a20815924db6t.add(11, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Chef\&quot;" title=\"Using Chef\">Using Chef</a>');
tam5a20815924db6t.add(12, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Chef_with_Cloud_Provisioning\&quot;" title=\"Using Chef with Cloud Provisioning\">Using Chef with Cloud Provisioning</a>');
tam5a20815924db6t.add(13, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Orchestration_Chef_Activities\&quot;" title=\"Orchestration Chef Activities\">Chef Activities</a>');
tam5a20815924db6t.add(14, 8, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Installed_with_Chef\&quot;" title=\"Installed with Chef\">Installed with Chef</a>');
tam5a20815924db6t.add(15, 0, 'Puppet');
tam5a20815924db6t.add(16, 15, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Puppet_Configuration_Automation\&quot;" title=\"Puppet Configuration Automation\">Puppet Configuration Automation</a>');
tam5a20815924db6t.add(17, 15, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Setting_Up_Puppet\&quot;" title=\"Setting Up Puppet\">Setting Up Puppet</a>');
tam5a20815924db6t.add(18, 15, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Using_Puppet\&quot;" title=\"Using Puppet\">Using Puppet</a>');
tam5a20815924db6t.add(19, 15, '<strong class=\"selflink\">Using Puppet with Cloud Provisioning</strong>');
tam5a20815924db6t.add(20, 15, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Orchestration_Puppet_Activities\&quot;" title=\"Orchestration Puppet Activities\">Puppet Activities</a>');
tam5a20815924db6t.add(21, 15, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Installed_with_Puppet\&quot;" title=\"Installed with Puppet\">Installed with Puppet</a>');
tam5a20815924db6t.add(22, 0, 'Extensions');
tam5a20815924db6t.add(23, 22, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Extending_Configuration_Automation\&quot;" title=\"Extending Configuration Automation\">Extending Configuration Automation</a>');
tam5a20815924db6t.add(24, 22, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=Change_Manager_Script_Include\&quot;" title=\"Change Manager Script Include\">Change Manager Script Include</a>');
tam5a20815924db6t.add(25, 22, '<a href="http://wiki.servicenow.com/\&quot;/index.php?title=ConfigAutomationDiffBase_Script_Include\&quot;" title=\"ConfigAutomationDiffBase Script Include\">Diff Base Script Include</a>');

                                               document.getElementById('5a20815924db6t').innerHTML = tam5a20815924db6t.toString();
                                               
                                               for(i in window.tamOnload_tam5a20815924db6t) { window.tamOnload_tam5a20815924db6t[i](); }</script>


<br />

</td></tr></table>
</div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Offering_Virtual_Machines_with_the_Puppet_Agent"><span class="tocnumber">2</span> <span class="toctext">Offering Virtual Machines with the Puppet Agent</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Creating_Puppet_Virtual_Machine_Templates"><span class="tocnumber">2.1</span> <span class="toctext">Creating Puppet Virtual Machine Templates</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Creating_Puppet_Virtual_Machine_Catalog_Items"><span class="tocnumber">2.2</span> <span class="toctext">Creating Puppet Virtual Machine Catalog Items</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Versions_Prior_to_the_Eureka_Release"><span class="tocnumber">2.2.1</span> <span class="toctext">Versions Prior to the Eureka Release</span></a>
<ul>
<li class="toclevel-4 tocsection-6"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Legacy_Creating_Puppet_Virtual_Machine_Catalog_Items"><span class="tocnumber">2.2.1.1</span> <span class="toctext">Legacy Creating Puppet Virtual Machine Catalog Items</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Provisioning_Virtual_Machines_with_Puppet"><span class="tocnumber">3</span> <span class="toctext">Provisioning Virtual Machines with Puppet</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Completing_Provisioning_Tasks"><span class="tocnumber">3.1</span> <span class="toctext">Completing Provisioning Tasks</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Authenticating_New_Puppet_Virtual_Machines"><span class="tocnumber">3.2</span> <span class="toctext">Authenticating New Puppet Virtual Machines</span></a></li>
</ul>
</li>
</ul>
</div>

<h1><span class="mw-headline" id="Overview"><span class="mw-headline-number">1</span> Overview</span></h1>
<p>By using both <a href="index.php%3Ftitle=Puppet_Configuration_Automation.html" title="Puppet Configuration Automation">Puppet</a> and <a href="index.php%3Ftitle=Cloud_Provisioning.html" title="Cloud Provisioning">cloud provisioning</a>, you can automate the entire provisioning process including installing software packages on provisioned virtual machines. Using this automation, you can offer fully-configured virtual machines through the <a href="index.php%3Ftitle=Service_Catalog.html" title="Service Catalog" class="mw-redirect">service catalog</a>.
</p><p>You must activate and configure both <a href="index.php%3Ftitle=Puppet_Configuration_Automation.html" title="Puppet Configuration Automation">Puppet</a> and <a href="index.php%3Ftitle=VMware_for_Cloud_Provisioning.html" title="VMware for Cloud Provisioning">VMware for Cloud Provisioning</a> before performing the procedures on this page.
</p>
<h1><span class="mw-headline" id="Offering_Virtual_Machines_with_the_Puppet_Agent"><span class="mw-headline-number">2</span> Offering Virtual Machines with the Puppet Agent</span></h1>
<p>All Puppet nodes require the  <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.puppetlabs.com/pe/latest/orchestration_puppet.html#the-puppet-agent-service">Puppet agent service</a> to communicate with the Puppet Master. To provision and configure virtual machines with Puppet, create a Linux virtual machine template that includes the Puppet agent software. After creating the template, create a catalog item for a Linux virtual machine using that template. See the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://pubs.vmware.com/vsphere-50/index.jsp?topic=%2Fcom.vmware.vsphere.vm_admin.doc_50%2FGUID-40BC4243-E4FA-4A46-8C8B-F50D92C186ED.html">VMware template documentation</a> for information on creating a virtual machine template.  For information on creating Puppet virtual machine catalog items prior to Eureka, see <a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html#Versions_Prior_to_the_Eureka_Release">Versions Prior to the Eureka Release</a>.
</p>
<h2><span class="mw-headline" id="Creating_Puppet_Virtual_Machine_Templates"><span class="mw-headline-number">2.1</span> Creating Puppet Virtual Machine Templates</span></h2>
<ol><li>Provision a virtual machine in vCenter with a name that identifies it as a Puppet node.
<dl><dd>You can use ServiceNow to provision the virtual machine, or use vCenter to provision the virtual machine manually.</dd></dl></li>
<li>Install the Puppet agent software on the new virtual machine.
<dl><dd>Refer to the <a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://docs.puppetlabs.com/pe/latest/install_basic.html#installing-agents">Puppet documentation</a> for more information on installing the Puppet agent.</dd></dl></li>
<li>Create a user account on the virtual machine with permission to run Puppet. There must be a <a href="index.php%3Ftitle=Credentials.html" title="Credentials">credential</a> record for this user within ServiceNow.</li>
<li>In vCenter, mark this virtual machine as an available template.</li>
<li><a href="index.php%3Ftitle=Discovery_for_VMware_vCenter.html#Gathering_vCenter_Data_Without_Running_Discovery" title="Discovery for VMware vCenter">Discover the template</a> to add it to the list of available virtual machine templates.
<dl><dd>ServiceNow cannot detect whether the Puppet agent is included with a template. It is the responsibility of the vCenter administrator to ensure this template has the Puppet agent installed.</dd></dl></li></ol>
<h2><span class="mw-headline" id="Creating_Puppet_Virtual_Machine_Catalog_Items"><span class="mw-headline-number">2.2</span> Creating Puppet Virtual Machine Catalog Items</span></h2>
<ol><li><a href="index.php%3Ftitle=Creating_Catalog_Items_from_VMware_Templates_in_Cloud_Provisioning.html#Creating_a_Catalog_Item" title="Creating Catalog Items from VMware Templates in Cloud Provisioning">Create a catalog item</a> using the new virtual machine template.</li>
<li>On the VMware Catalog Item form, select <b>Guest customization</b> to display the <b>Customization specification</b> field.</li>
<li>[Required] Select a <b>Customization specification</b>. See <a href="index.php%3Ftitle=Approving_and_Provisioning_VMware_Requests_for_Cloud_Provisioning.html#Provisioning_Virtual_Servers" title="Approving and Provisioning VMware Requests for Cloud Provisioning">Provisioning Virtual Servers</a> for more information about using guest customization.</li>
<li>Click <b>Update</b>.</li></ol>
<div class="thumb tleft"><div class="thumbinner" style="width:356px;"><a href="index.php%3Ftitle=File:Puppet_vmware_catalog_item.png.html" class="image"><img alt="" src="images/1/18/Puppet_vmware_catalog_item.png" width="354" height="230" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Puppet_vmware_catalog_item.png.html" class="internal" title="Enlarge"></a></div>Puppet VMware Catalog Item</div></div></div>
<p><br style="clear:both;" />
</p>
<h3><span class="mw-headline" id="Versions_Prior_to_the_Eureka_Release"><span class="mw-headline-number">2.2.1</span> Versions Prior to the Eureka Release</span></h3>
<table cellspacing="0" cellpadding="0" style="" class="table collapsible collapsed">

<tr>
<th height="26" align="left"> <b>Click the plus to expand previous version information</b>
</th></tr>
<tr>
<td>
<h4><span class="mw-headline" id="Legacy_Creating_Puppet_Virtual_Machine_Catalog_Items"><span class="mw-headline-number">2.2.1.1</span> Legacy Creating Puppet Virtual Machine Catalog Items</span></h4>
<ol><li><a href="index.php%3Ftitle=Creating_Catalog_Items_from_VMware_Templates_in_Cloud_Provisioning.html#Creating_a_Catalog_Item" title="Creating Catalog Items from VMware Templates in Cloud Provisioning">Create a catalog item</a> using the new virtual machine template.</li>
<li>On the VMware Catalog Item form, select <b>Guest customization</b> to display the <b>Customization specification</b> and <b>Puppet configuration</b> fields.</li>
<li>[Required] Select a <b>Customization specification</b>. See <a href="index.php%3Ftitle=Approving_and_Provisioning_VMware_Requests_for_Cloud_Provisioning.html#Provisioning_Virtual_Servers" title="Approving and Provisioning VMware Requests for Cloud Provisioning">Provisioning Virtual Servers</a> for more information about using guest customization.</li>
<li>Select a <b>Puppet configuration</b>. This choice list displays available node definitions.</li>
<li>Click <b>Submit</b>.</li></ol>
<div class="thumb tleft"><div class="thumbinner" style="width:393px;"><a href="index.php%3Ftitle=File:Puppet_Prov_cat_item.png.html" class="image"><img alt="" src="images/4/4e/Puppet_Prov_cat_item.png" width="391" height="209" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Puppet_Prov_cat_item.png.html" class="internal" title="Enlarge"></a></div>Puppet Provisioning Catalog Item</div></div></div>
<p><br />
<br style="clear:both;" />
</p>
</td></tr></table>
<h1><span class="mw-headline" id="Provisioning_Virtual_Machines_with_Puppet"><span class="mw-headline-number">3</span> Provisioning Virtual Machines with Puppet</span></h1>
<p>The procedure for ordering a virtual machine with Puppet is the same as for <a href="index.php%3Ftitle=Requesting_a_VMware_Instance_for_Cloud_Provisioning.html" title="Requesting a VMware Instance for Cloud Provisioning">ordering a standard virtual machine</a> through the service catalog.
</p><p>Provisioning a virtual machine with Puppet does not add the virtual machine information as a virtual machine CI. Instead, ServiceNow records the new CI as a Linux server.
</p>
<h2><span class="mw-headline" id="Completing_Provisioning_Tasks"><span class="mw-headline-number">3.1</span> Completing Provisioning Tasks</span></h2>
<p>A <a href="index.php%3Ftitle=Cloud_Operations.html" title="Cloud Operations">cloud operator</a> must complete the <a href="index.php%3Ftitle=Approving_and_Provisioning_VMware_Requests_for_Cloud_Provisioning.html#Provisioning_Virtual_Servers" title="Approving and Provisioning VMware Requests for Cloud Provisioning">provisioning task</a> generated by the catalog request to provision the virtual machine. To provision a virtual machine with Puppet, ensure that: 
</p>
<ul><li><b>Guest customization</b> is set to <b>Yes</b>.</li>
<li><b>Node Definition</b> is set to a node definition (Eureka) (<b>Puppet configuration</b> in Dublin).</li></ul>
<div class="thumb tleft"><div class="thumbinner" style="width:602px;"><a href="index.php%3Ftitle=File:Puppet_prov_task_annot.png.html" class="image"><img alt="" src="images/thumb/6/64/Puppet_prov_task_annot.png/600px-Puppet_prov_task_annot.png" width="600" height="391" class="thumbimage" srcset="/images/6/64/Puppet_prov_task_annot.png 1.5x, /images/6/64/Puppet_prov_task_annot.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="index.php%3Ftitle=File:Puppet_prov_task_annot.png.html" class="internal" title="Enlarge"></a></div>Provisioning a Puppet VM</div></div></div>
<p><br style="clear:both;" />
</p>
<h2><span class="mw-headline" id="Authenticating_New_Puppet_Virtual_Machines"><span class="mw-headline-number">3.2</span> Authenticating New Puppet Virtual Machines</span></h2>
<p>When provisioning a new virtual machine with Puppet, the Puppet Master can automatically authenticate and configure the virtual machine. Provisioning a new virtual machine with Puppet bypasses the <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_article&amp;arttitle=Using+Puppet&amp;oldid=0.html#Using_Change_Management_with_Puppet" title="Using Puppet">standard Puppet approval process</a>, only <a href="index.php%3Ftitle=Approving_and_Provisioning_VMware_Requests_for_Cloud_Provisioning.html#Approving_VMware_Requests" title="Approving and Provisioning VMware Requests for Cloud Provisioning">cloud provisioning approvals</a> are required.
</p><p>After the virtual machine has been provisioned, the Puppet agent included on the virtual machine attempts to retrieve configuration information from the Puppet Master. If the Puppet agent and Puppet Master successfully communicate, the Puppet agent automatically configures the virtual machine without further user interaction according to the node definition assigned to that virtual machine.
</p>
<!-- 
NewPP limit report
Cached time: 20171130220825
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.228 seconds
Real time usage: 0.304 seconds
Preprocessor visited node count: 53/1000000
Preprocessor generated node count: 206/1000000
Post‐expand include size: 1191/2097152 bytes
Template argument size: 81/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   80.247      1 - -total
100.00%   80.247      1 - Template:Configuration_Automation
 86.82%   69.667      1 - Template:Topic
 12.11%    9.721      1 - Embedded:Configuration_Automation
-->

<!-- Saved in parser cache with key wikidb:pcache:idhash:20015-0!*!0!1!en!5!* and timestamp 20171130220825 and revision id 224824
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning&amp;oldid=224824.html">http://wiki.servicenow.com/index.php?title=Using_Puppet_with_Cloud_Provisioning&amp;oldid=224824</a>"</div>
					<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="index.php%3Ftitle=Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Configuration+Automation.html" title="Category:Configuration Automation">Configuration Automation</a></li></ul></div><br /><hr /><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Contents</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Deliver.html" title="Category:Deliver">Deliver</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=IT+Operations+Management.html" title="Category:IT Operations Management">IT Operations Management</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Orchestration.html" title="Category:Orchestration">Orchestration</a> &gt; <a href="index.php%3Ftitle=Special:Book&amp;bookcmd=add_category&amp;cattitle=Configuration+Automation.html" title="Category:Configuration Automation">Configuration Automation</a></div>					<!-- end content -->
					<div id='mw-data-after-content'>
	<div id="rating_20015"><div class="voting-title">Was this article helpful?</div><div class="voting-box"><div class="vote-up " data-vote-id="20015" data-vote-the-vote="5" data-vote-id="20015" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_20015_5"><span>Yes, I found what I needed</span></div><div class="vote-down " data-vote-id="20015" data-vote-the-vote="1" data-vote-id="20015" data-vote-action="5" data-vote-rating="5.00" data-vote-voted="0" id="rating_20015_1"><span>No, I need more assistance</span></div></div></div>
</div>
					<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
					<div id="p-cactions" class="portlet" role="navigation">
			<h5>Views</h5>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning.html" title="View the content page [c]" accesskey="c">Page</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h5>Personal tools</h5>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="index.php%3Ftitle=Special:CreateAccount&amp;returnto=Using+Puppet+with+Cloud+Provisioning.html" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="index.php%3Ftitle=Special:UserLogin&amp;returnto=Using+Puppet+with+Cloud+Provisioning.html" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-" role="navigation">
		<h3></h3>
		<div class='pBody'>
			<div class="portlet">
<h5><span class="mw-headline" id="Categories">Categories</span></h5>
<div class="pBody">
<div class="sidebarcat">
<ul><li><a href="index.php%3Ftitle=Get_Started.html" title="Get Started">Get Started</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Use+ServiceNow&amp;oldid=0.html" title="Use ServiceNow">Use</a></li>
<li><a href="index.php%3Ftitle=Administer_ServiceNow.html" title="Administer ServiceNow">Administer</a></li>
<li><a href="index.php%3Ftitle=Script_in_ServiceNow.html" title="Script in ServiceNow">Script</a></li>
<li><a href="index.php%3Ftitle=Build.html" title="Build">Build</a></li>
<li><a href="index.php%3Ftitle=Deliver_ServiceNow.html" title="Deliver ServiceNow">Deliver</a></li>
<li><a href="index.php%3Ftitle=Integration_Overview.html" title="Integration Overview">Integrate</a></li>
<li><a href="index.php%3Ftitle=Release_Notes.html" title="Release Notes">Release Notes</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Customer+Support&amp;oldid=0.html" title="Customer Support">Customer Support</a></li>
<li><a href="index.php%3Ftitle=Books.html" title="Books">Books</a></li>
<li><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=remove_article&amp;arttitle=Video+Tutorials&amp;oldid=0.html" title="Video Tutorials">Video Tutorials</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="http://express.servicenow.com/support/">ServiceNow Express</a></li></ul>
</div>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Resources">Resources</span></h5>
<div class="pBody">
<ul><li><a href="index.php%3Ftitle=Category:Contents.html" title="Category:Contents">Site Map &#8211; Tree View</a><br /></li>
<li><a href="index.php%3Ftitle=Special:RecentChanges.html" title="Special:RecentChanges">Recent Changes</a><br /></li>
<li><a href="index.php%3Ftitle=Glossary_of_Terms.html" title="Glossary of Terms">Glossary</a><br /></li>
<li><a href="index.php%3Ftitle=Help:Getting_Started_on_the_ServiceNow_Wiki.html" title="Help:Getting Started on the ServiceNow Wiki">Wiki Help</a></li></ul>
</div>
</div>
<div class="portlet">
<h5><span class="mw-headline" id="Print">Print</span></h5>
<div class="pBody">
<ul><li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book&amp;bookcmd=book_creator.html">Create a Book</a></li>
<li><a href="index.php%3Ftitle=Help:Books.html" title="Help:Books">Book Help</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Special:Book%252Frender_article%252F&amp;arttitle=Using_Puppet_with_Cloud_Provisioning.html">Download Page as PDF</a></li>
<li><a target="_blank" rel="nofollow noreferrer noopener" class="external text" href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning&amp;printable=yes.html">Printable Version</a></li></ul>
</div>
</div>
		</div>
		</div>
		<div class="generated-sidebar portlet" id="p-coll-print_export" role="navigation">
		<h3>Print/export</h3>
		<div class='pBody'>
							<ul>
											<li id="coll-book_creator_disable"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=stop_book_creator&amp;referer=Using+Puppet+with+Cloud+Provisioning.html">Disable book creator</a></li>
											<li id="coll-download-as-rl"><a href="index.php%3Ftitle=Special:Book&amp;bookcmd=render_article&amp;arttitle=Using+Puppet+with+Cloud+Provisioning&amp;returnto=Using+Puppet+with+Cloud+Provisioning&amp;oldid=224824&amp;writer=rl.html">Download as PDF</a></li>
											<li id="t-print"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning&amp;printable=yes.html" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="http://wiki.servicenow.com/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search ServiceNow Wiki [f]" accesskey="f" id="searchInput"/>
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchGoButton" class="searchButton"/>&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton"/>
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Toolbox</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="index.php%3Ftitle=Special:WhatLinksHere%252FUsing_Puppet_with_Cloud_Provisioning.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here?</a></li>
											<li id="t-recentchangeslinked"><a href="http://wiki.servicenow.com/index.php?title=Special:RecentChangesLinked/Using_Puppet_with_Cloud_Provisioning" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="index.php%3Ftitle=Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning&amp;oldid=224824.html" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="index.php%3Ftitle=Using_Puppet_with_Cloud_Provisioning&amp;action=info.html" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-poweredbyico">
									<a href="http://www.mediawiki.org/"><img src="resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/resources/assets/poweredby_mediawiki_132x47.png 1.5x, /resources/assets/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified 00:08, 6 May 2014.</li>
									<li id="privacy"><a href="index.php%3Ftitle=ServiceNow_Wiki:Privacy_policy.html" title="ServiceNow Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="index.php%3Ftitle=ServiceNow_Wiki:About.html" title="ServiceNow Wiki:About">About ServiceNow Wiki</a></li>
									<li id="disclaimer"><a href="index.php%3Ftitle=ServiceNow_Wiki:General_disclaimer.html" title="ServiceNow Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.loader.state({"user":"ready","user.groups":"ready"});mw.loader.load(["ext.treeandmenu","mediawiki.toc","mediawiki.action.view.postEdit","site","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.collection.bookcreator"]);});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":721});});</script></body></html>
